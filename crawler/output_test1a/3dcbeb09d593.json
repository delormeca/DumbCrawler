{
  "url": "https://docs.python.org/3/library/multiprocessing.shared_memory.html",
  "status_code": 200,
  "depth": 1,
  "referrer": "https://docs.python.org/3/library/",
  "raw_html": "<!DOCTYPE html>\n\n<html lang=\"en\" data-content_root=\"../\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<meta property=\"og:title\" content=\"multiprocessing.shared_memory — Shared memory for direct access across processes\" />\n<meta property=\"og:type\" content=\"website\" />\n<meta property=\"og:url\" content=\"https://docs.python.org/3/library/multiprocessing.shared_memory.html\" />\n<meta property=\"og:site_name\" content=\"Python documentation\" />\n<meta property=\"og:description\" content=\"Source code: Lib/multiprocessing/shared_memory.py This module provides a class, SharedMemory, for the allocation and management of shared memory to be accessed by one or more processes on a multico...\" />\n<meta property=\"og:image:width\" content=\"1146\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://docs.python.org/3.14/_images/social_previews/summary_library_multiprocessing.shared_memory_90a68784.png\" />\n<meta property=\"og:image:alt\" content=\"Source code: Lib/multiprocessing/shared_memory.py This module provides a class, SharedMemory, for the allocation and management of shared memory to be accessed by one or more processes on a multico...\" />\n<meta name=\"description\" content=\"Source code: Lib/multiprocessing/shared_memory.py This module provides a class, SharedMemory, for the allocation and management of shared memory to be accessed by one or more processes on a multico...\" />\n<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"theme-color\" content=\"#3776ab\">\n\n    <title>multiprocessing.shared_memory — Shared memory for direct access across processes &#8212; Python 3.14.0 documentation</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments.css?v=b86133f3\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/classic.css?v=234b1a7c\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pydoctheme.css?v=8cd84f99\" />\n    <link id=\"pygments_dark_css\" media=\"(prefers-color-scheme: dark)\" rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments_dark.css?v=5349f25f\" />\n    \n    <script src=\"../_static/documentation_options.js?v=e4f4b189\"></script>\n    <script src=\"../_static/doctools.js?v=9bcbadda\"></script>\n    <script src=\"../_static/sphinx_highlight.js?v=dc90522c\"></script>\n    \n    <script src=\"../_static/sidebar.js\"></script>\n    \n    <link rel=\"search\" type=\"application/opensearchdescription+xml\"\n          title=\"Search within Python 3.14.0 documentation\"\n          href=\"../_static/opensearch.xml\"/>\n    <link rel=\"author\" title=\"About these documents\" href=\"../about.html\" />\n    <link rel=\"index\" title=\"Index\" href=\"../genindex.html\" />\n    <link rel=\"search\" title=\"Search\" href=\"../search.html\" />\n    <link rel=\"copyright\" title=\"Copyright\" href=\"../copyright.html\" />\n    <link rel=\"next\" title=\"The concurrent package\" href=\"concurrent.html\" />\n    <link rel=\"prev\" title=\"multiprocessing — Process-based parallelism\" href=\"multiprocessing.html\" />\n    \n      \n      <script defer file-types=\"bz2,epub,zip\" data-domain=\"docs.python.org\" src=\"https://analytics.python.org/js/script.file-downloads.outbound-links.js\"></script>\n      \n      <link rel=\"canonical\" href=\"https://docs.python.org/3/library/multiprocessing.shared_memory.html\">\n      \n    \n\n    \n    <style>\n      @media only screen {\n        table.full-width-table {\n            width: 100%;\n        }\n      }\n    </style>\n<link rel=\"stylesheet\" href=\"../_static/pydoctheme_dark.css\" media=\"(prefers-color-scheme: dark)\" id=\"pydoctheme_dark_css\">\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"../_static/py.svg\">\n            <script type=\"text/javascript\" src=\"../_static/copybutton.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/menu.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/search-focus.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/themetoggle.js\"></script> \n            <script type=\"text/javascript\" src=\"../_static/rtd_switcher.js\"></script>\n            <meta name=\"readthedocs-addons-api-version\" content=\"1\">\n\n  </head>\n<body>\n<div class=\"mobile-nav\">\n    <input type=\"checkbox\" id=\"menuToggler\" class=\"toggler__input\" aria-controls=\"navigation\"\n           aria-pressed=\"false\" aria-expanded=\"false\" role=\"button\" aria-label=\"Menu\">\n    <nav class=\"nav-content\" role=\"navigation\">\n        <label for=\"menuToggler\" class=\"toggler__label\">\n            <span></span>\n        </label>\n        <span class=\"nav-items-wrapper\">\n            <a href=\"https://www.python.org/\" class=\"nav-logo\">\n                <img src=\"../_static/py.svg\" alt=\"Python logo\">\n            </a>\n            <span class=\"version_switcher_placeholder\"></span>\n            <form role=\"search\" class=\"search\" action=\"../search.html\" method=\"get\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" class=\"search-icon\">\n                    <path fill-rule=\"nonzero\" fill=\"currentColor\" d=\"M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n                </svg>\n                <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\">\n                <input type=\"submit\" value=\"Go\">\n            </form>\n        </span>\n    </nav>\n    <div class=\"menu-wrapper\">\n        <nav class=\"menu\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"language_switcher_placeholder\"></div>\n            \n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"multiprocessing.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code> — Process-based parallelism</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"concurrent.html\"\n                          title=\"next chapter\">The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">concurrent</span></code> package</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/multiprocessing.shared_memory.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </nav>\n    </div>\n</div>\n\n  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             accesskey=\"I\">index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"concurrent.html\" title=\"The concurrent package\"\n             accesskey=\"N\">next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"multiprocessing.html\" title=\"multiprocessing — Process-based parallelism\"\n             accesskey=\"P\">previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"concurrency.html\" accesskey=\"U\">Concurrent Execution</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.shared_memory</span></code> — Shared memory for direct access across processes</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>    \n\n    <div class=\"document\">\n      <div class=\"documentwrapper\">\n        <div class=\"bodywrapper\">\n          <div class=\"body\" role=\"main\">\n            \n  <section id=\"module-multiprocessing.shared_memory\">\n<span id=\"multiprocessing-shared-memory-shared-memory-for-direct-access-across-processes\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.shared_memory</span></code> — Shared memory for direct access across processes<a class=\"headerlink\" href=\"#module-multiprocessing.shared_memory\" title=\"Link to this heading\">¶</a></h1>\n<p><strong>Source code:</strong> <a class=\"extlink-source reference external\" href=\"https://github.com/python/cpython/tree/3.14/Lib/multiprocessing/shared_memory.py\">Lib/multiprocessing/shared_memory.py</a></p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.8.</span></p>\n</div>\n<hr class=\"docutils\" id=\"index-0\" />\n<p>This module provides a class, <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory\" title=\"multiprocessing.shared_memory.SharedMemory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code></a>, for the allocation\nand management of shared memory to be accessed by one or more processes\non a multicore or symmetric multiprocessor (SMP) machine.  To assist with\nthe life-cycle management of shared memory especially across distinct\nprocesses, a <a class=\"reference internal\" href=\"multiprocessing.html#multiprocessing.managers.BaseManager\" title=\"multiprocessing.managers.BaseManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseManager</span></code></a> subclass,\n<a class=\"reference internal\" href=\"#multiprocessing.managers.SharedMemoryManager\" title=\"multiprocessing.managers.SharedMemoryManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemoryManager</span></code></a>, is also provided in the\n<a class=\"reference internal\" href=\"multiprocessing.html#module-multiprocessing.managers\" title=\"multiprocessing.managers: Share data between process with shared objects.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.managers</span></code></a> module.</p>\n<p>In this module, shared memory refers to “POSIX style” shared memory blocks\n(though is not necessarily implemented explicitly as such) and does not refer\nto “distributed shared memory”.  This style of shared memory permits distinct\nprocesses to potentially read and write to a common (or shared) region of\nvolatile memory.  Processes are conventionally limited to only have access to\ntheir own process memory space but shared memory permits the sharing\nof data between processes, avoiding the need to instead send messages between\nprocesses containing that data.  Sharing data directly via memory can provide\nsignificant performance benefits compared to sharing data via disk or socket\nor other communications requiring the serialization/deserialization and\ncopying of data.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.SharedMemory\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.shared_memory.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SharedMemory</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">create</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">0</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">track</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.SharedMemory\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create an instance of the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code> class for either\ncreating a new shared memory block or attaching to an existing shared\nmemory block.  Each shared memory block is assigned a unique name.\nIn this way, one process can create a shared memory block with a\nparticular name and a different process can attach to that same shared\nmemory block using that same name.</p>\n<p>As a resource for sharing data across processes, shared memory blocks\nmay outlive the original process that created them.  When one process\nno longer needs access to a shared memory block that might still be\nneeded by other processes, the <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory.close\" title=\"multiprocessing.shared_memory.SharedMemory.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> method should be called.\nWhen a shared memory block is no longer needed by any process, the\n<a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory.unlink\" title=\"multiprocessing.shared_memory.SharedMemory.unlink\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">unlink()</span></code></a> method should be called to ensure proper cleanup.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>name</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a><em> | </em><em>None</em>) – The unique name for the requested shared memory, specified as a string.\nWhen creating a new shared memory block, if <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default)\nis supplied for the name, a novel name will be generated.</p></li>\n<li><p><strong>create</strong> (<a class=\"reference internal\" href=\"functions.html#bool\" title=\"bool\"><em>bool</em></a>) – Control whether a new shared memory block is created (<code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)\nor an existing shared memory block is attached (<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>).</p></li>\n<li><p><strong>size</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – The requested number of bytes when creating a new shared memory block.\nBecause some platforms choose to allocate chunks of memory\nbased upon that platform’s memory page size, the exact size of the shared\nmemory block may be larger or equal to the size requested.\nWhen attaching to an existing shared memory block,\nthe <em>size</em> parameter is ignored.</p></li>\n<li><p><strong>track</strong> (<a class=\"reference internal\" href=\"functions.html#bool\" title=\"bool\"><em>bool</em></a>) – When <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, register the shared memory block with a resource\ntracker process on platforms where the OS does not do this automatically.\nThe resource tracker ensures proper cleanup of the shared memory even\nif all other processes with access to the memory exit without doing so.\nPython processes created from a common ancestor using <a class=\"reference internal\" href=\"multiprocessing.html#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a>\nfacilities share a single resource tracker process, and the lifetime of\nshared memory segments is handled automatically among these processes.\nPython processes created in any other way will receive their own\nresource tracker when accessing shared memory with <em>track</em> enabled.\nThis will cause the shared memory to be deleted by the resource tracker\nof the first process that terminates.\nTo avoid this issue, users of <a class=\"reference internal\" href=\"subprocess.html#module-subprocess\" title=\"subprocess: Subprocess management.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">subprocess</span></code></a> or standalone Python\nprocesses should set <em>track</em> to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> when there is already another\nprocess in place that does the bookkeeping.\n<em>track</em> is ignored on Windows, which has its own tracking and\nautomatically deletes shared memory when all handles to it have been closed.</p></li>\n</ul>\n</dd>\n</dl>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Added the <em>track</em> parameter.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.SharedMemory.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.SharedMemory.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Close the file descriptor/handle to the shared memory from this\ninstance.  <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory.close\" title=\"multiprocessing.shared_memory.SharedMemory.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> should be called once access to the shared\nmemory block from this instance is no longer needed.  Depending\non operating system, the underlying memory may or may not be freed\neven if all handles to it have been closed.  To ensure proper cleanup,\nuse the <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory.unlink\" title=\"multiprocessing.shared_memory.SharedMemory.unlink\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">unlink()</span></code></a> method.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.SharedMemory.unlink\">\n<span class=\"sig-name descname\"><span class=\"pre\">unlink</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.SharedMemory.unlink\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Delete the underlying shared memory block.  This should be called only\nonce per shared memory block regardless of the number of handles to it,\neven in other processes.\n<a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory.unlink\" title=\"multiprocessing.shared_memory.SharedMemory.unlink\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">unlink()</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory.close\" title=\"multiprocessing.shared_memory.SharedMemory.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> can be called in any order, but\ntrying to access data inside a shared memory block after <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory.unlink\" title=\"multiprocessing.shared_memory.SharedMemory.unlink\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">unlink()</span></code></a>\nmay result in memory access errors, depending on platform.</p>\n<p>This method has no effect on Windows, where the only way to delete a\nshared memory block is to close all handles.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.SharedMemory.buf\">\n<span class=\"sig-name descname\"><span class=\"pre\">buf</span></span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.SharedMemory.buf\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A memoryview of contents of the shared memory block.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.SharedMemory.name\">\n<span class=\"sig-name descname\"><span class=\"pre\">name</span></span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.SharedMemory.name\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Read-only access to the unique name of the shared memory block.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.SharedMemory.size\">\n<span class=\"sig-name descname\"><span class=\"pre\">size</span></span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.SharedMemory.size\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Read-only access to size in bytes of the shared memory block.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>The following example demonstrates low-level use of <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory\" title=\"multiprocessing.shared_memory.SharedMemory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code></a>\ninstances:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">shared_memory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shm_a</span> <span class=\"o\">=</span> <span class=\"n\">shared_memory</span><span class=\"o\">.</span><span class=\"n\">SharedMemory</span><span class=\"p\">(</span><span class=\"n\">create</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"n\">shm_a</span><span class=\"o\">.</span><span class=\"n\">buf</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;class &#39;memoryview&#39;&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">buffer</span> <span class=\"o\">=</span> <span class=\"n\">shm_a</span><span class=\"o\">.</span><span class=\"n\">buf</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">buffer</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">buffer</span><span class=\"p\">[:</span><span class=\"mi\">4</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nb\">bytearray</span><span class=\"p\">([</span><span class=\"mi\">22</span><span class=\"p\">,</span> <span class=\"mi\">33</span><span class=\"p\">,</span> <span class=\"mi\">44</span><span class=\"p\">,</span> <span class=\"mi\">55</span><span class=\"p\">])</span>  <span class=\"c1\"># Modify multiple at once</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">buffer</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>                           <span class=\"c1\"># Modify single byte at a time</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Attach to an existing shared memory block</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shm_b</span> <span class=\"o\">=</span> <span class=\"n\">shared_memory</span><span class=\"o\">.</span><span class=\"n\">SharedMemory</span><span class=\"p\">(</span><span class=\"n\">shm_a</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">array</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">array</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">,</span> <span class=\"n\">shm_b</span><span class=\"o\">.</span><span class=\"n\">buf</span><span class=\"p\">[:</span><span class=\"mi\">5</span><span class=\"p\">])</span>  <span class=\"c1\"># Copy the data into a new array.array</span>\n<span class=\"go\">array(&#39;b&#39;, [22, 33, 44, 55, 100])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shm_b</span><span class=\"o\">.</span><span class=\"n\">buf</span><span class=\"p\">[:</span><span class=\"mi\">5</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s1\">&#39;howdy&#39;</span>  <span class=\"c1\"># Modify via shm_b using bytes</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">bytes</span><span class=\"p\">(</span><span class=\"n\">shm_a</span><span class=\"o\">.</span><span class=\"n\">buf</span><span class=\"p\">[:</span><span class=\"mi\">5</span><span class=\"p\">])</span>      <span class=\"c1\"># Access via shm_a</span>\n<span class=\"go\">b&#39;howdy&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shm_b</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>   <span class=\"c1\"># Close each SharedMemory instance</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shm_a</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shm_a</span><span class=\"o\">.</span><span class=\"n\">unlink</span><span class=\"p\">()</span>  <span class=\"c1\"># Call unlink only once to release the shared memory</span>\n</pre></div>\n</div>\n<p>The following example demonstrates a practical use of the <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory\" title=\"multiprocessing.shared_memory.SharedMemory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code></a>\nclass with <a class=\"reference external\" href=\"https://numpy.org/\">NumPy arrays</a>, accessing the\nsame <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">numpy.ndarray</span></code> from two distinct Python shells:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># In the first Python interactive shell</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">numpy</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">])</span>  <span class=\"c1\"># Start with an existing NumPy array</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">shared_memory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shm</span> <span class=\"o\">=</span> <span class=\"n\">shared_memory</span><span class=\"o\">.</span><span class=\"n\">SharedMemory</span><span class=\"p\">(</span><span class=\"n\">create</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">nbytes</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Now create a NumPy array backed by shared memory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">dtype</span><span class=\"p\">,</span> <span class=\"n\">buffer</span><span class=\"o\">=</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">buf</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span><span class=\"p\">[:]</span> <span class=\"o\">=</span> <span class=\"n\">a</span><span class=\"p\">[:]</span>  <span class=\"c1\"># Copy the original data into shared memory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span>\n<span class=\"go\">array([1, 1, 2, 3, 5, 8])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;class &#39;numpy.ndarray&#39;&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;class &#39;numpy.ndarray&#39;&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">name</span>  <span class=\"c1\"># We did not specify a name so one was chosen for us</span>\n<span class=\"go\">&#39;psm_21467_46075&#39;</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># In either the same shell or a new Python shell on the same machine</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">numpy</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">shared_memory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Attach to the existing shared memory block</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">existing_shm</span> <span class=\"o\">=</span> <span class=\"n\">shared_memory</span><span class=\"o\">.</span><span class=\"n\">SharedMemory</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">&#39;psm_21467_46075&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Note that a.shape is (6,) and a.dtype is np.int64 in this example</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">((</span><span class=\"mi\">6</span><span class=\"p\">,),</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">int64</span><span class=\"p\">,</span> <span class=\"n\">buffer</span><span class=\"o\">=</span><span class=\"n\">existing_shm</span><span class=\"o\">.</span><span class=\"n\">buf</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span>\n<span class=\"go\">array([1, 1, 2, 3, 5, 8])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">888</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span>\n<span class=\"go\">array([  1,   1,   2,   3,   5, 888])</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Back in the first Python interactive shell, b reflects this change</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span>\n<span class=\"go\">array([  1,   1,   2,   3,   5, 888])</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Clean up from within the second Python shell</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">del</span> <span class=\"n\">c</span>  <span class=\"c1\"># Unnecessary; merely emphasizing the array is no longer used</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">existing_shm</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Clean up from within the first Python shell</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">del</span> <span class=\"n\">b</span>  <span class=\"c1\"># Unnecessary; merely emphasizing the array is no longer used</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">unlink</span><span class=\"p\">()</span>  <span class=\"c1\"># Free and release the shared memory block at the very end</span>\n</pre></div>\n</div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SharedMemoryManager\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.managers.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SharedMemoryManager</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">address</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">authkey</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SharedMemoryManager\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A subclass of <a class=\"reference internal\" href=\"multiprocessing.html#multiprocessing.managers.BaseManager\" title=\"multiprocessing.managers.BaseManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">multiprocessing.managers.BaseManager</span></code></a> which can be\nused for the management of shared memory blocks across processes.</p>\n<p>A call to <a class=\"reference internal\" href=\"multiprocessing.html#multiprocessing.managers.BaseManager.start\" title=\"multiprocessing.managers.BaseManager.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">start()</span></code></a> on a\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemoryManager</span></code> instance causes a new process to be started.\nThis new process’s sole purpose is to manage the life cycle\nof all shared memory blocks created through it.  To trigger the release\nof all shared memory blocks managed by that process, call\n<a class=\"reference internal\" href=\"multiprocessing.html#multiprocessing.managers.BaseManager.shutdown\" title=\"multiprocessing.managers.BaseManager.shutdown\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">shutdown()</span></code></a> on the instance.\nThis triggers a <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory.unlink\" title=\"multiprocessing.shared_memory.SharedMemory.unlink\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">unlink()</span></code></a> call\non all of the <a class=\"reference internal\" href=\"#multiprocessing.managers.SharedMemoryManager.SharedMemory\" title=\"multiprocessing.managers.SharedMemoryManager.SharedMemory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code></a> objects managed by that process and then\nstops the process itself.  By creating <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code> instances\nthrough a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemoryManager</span></code>, we avoid the need to manually track\nand trigger the freeing of shared memory resources.</p>\n<p>This class provides methods for creating and returning <a class=\"reference internal\" href=\"#multiprocessing.managers.SharedMemoryManager.SharedMemory\" title=\"multiprocessing.managers.SharedMemoryManager.SharedMemory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code></a>\ninstances and for creating a list-like object (<a class=\"reference internal\" href=\"#multiprocessing.managers.SharedMemoryManager.ShareableList\" title=\"multiprocessing.managers.SharedMemoryManager.ShareableList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ShareableList</span></code></a>)\nbacked by shared memory.</p>\n<p>Refer to <a class=\"reference internal\" href=\"multiprocessing.html#multiprocessing.managers.BaseManager\" title=\"multiprocessing.managers.BaseManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseManager</span></code></a> for a description\nof the inherited <em>address</em> and <em>authkey</em> optional input arguments and how\nthey may be used to connect to an existing <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemoryManager</span></code> service\nfrom other processes.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SharedMemoryManager.SharedMemory\">\n<span class=\"sig-name descname\"><span class=\"pre\">SharedMemory</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SharedMemoryManager.SharedMemory\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create and return a new <a class=\"reference internal\" href=\"#multiprocessing.managers.SharedMemoryManager.SharedMemory\" title=\"multiprocessing.managers.SharedMemoryManager.SharedMemory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code></a> object with the\nspecified <em>size</em> in bytes.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SharedMemoryManager.ShareableList\">\n<span class=\"sig-name descname\"><span class=\"pre\">ShareableList</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sequence</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SharedMemoryManager.ShareableList\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create and return a new <a class=\"reference internal\" href=\"#multiprocessing.managers.SharedMemoryManager.ShareableList\" title=\"multiprocessing.managers.SharedMemoryManager.ShareableList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ShareableList</span></code></a> object, initialized\nby the values from the input <em>sequence</em>.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>The following example demonstrates the basic mechanisms of a\n<a class=\"reference internal\" href=\"#multiprocessing.managers.SharedMemoryManager\" title=\"multiprocessing.managers.SharedMemoryManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemoryManager</span></code></a>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.managers</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">SharedMemoryManager</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">smm</span> <span class=\"o\">=</span> <span class=\"n\">SharedMemoryManager</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">smm</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>  <span class=\"c1\"># Start the process that manages the shared memory blocks</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sl</span> <span class=\"o\">=</span> <span class=\"n\">smm</span><span class=\"o\">.</span><span class=\"n\">ShareableList</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sl</span>\n<span class=\"go\">ShareableList([0, 1, 2, 3], name=&#39;psm_6572_7512&#39;)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">raw_shm</span> <span class=\"o\">=</span> <span class=\"n\">smm</span><span class=\"o\">.</span><span class=\"n\">SharedMemory</span><span class=\"p\">(</span><span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">128</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">another_sl</span> <span class=\"o\">=</span> <span class=\"n\">smm</span><span class=\"o\">.</span><span class=\"n\">ShareableList</span><span class=\"p\">(</span><span class=\"s1\">&#39;alpha&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">another_sl</span>\n<span class=\"go\">ShareableList([&#39;a&#39;, &#39;l&#39;, &#39;p&#39;, &#39;h&#39;, &#39;a&#39;], name=&#39;psm_6572_12221&#39;)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">smm</span><span class=\"o\">.</span><span class=\"n\">shutdown</span><span class=\"p\">()</span>  <span class=\"c1\"># Calls unlink() on sl, raw_shm, and another_sl</span>\n</pre></div>\n</div>\n<p>The following example depicts a potentially more convenient pattern for using\n<a class=\"reference internal\" href=\"#multiprocessing.managers.SharedMemoryManager\" title=\"multiprocessing.managers.SharedMemoryManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemoryManager</span></code></a> objects via the\n<a class=\"reference internal\" href=\"../reference/compound_stmts.html#with\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code></a> statement to ensure that all shared memory blocks are released\nafter they are no longer needed:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">with</span> <span class=\"n\">SharedMemoryManager</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">smm</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"n\">sl</span> <span class=\"o\">=</span> <span class=\"n\">smm</span><span class=\"o\">.</span><span class=\"n\">ShareableList</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">2000</span><span class=\"p\">))</span>\n<span class=\"gp\">... </span>    <span class=\"c1\"># Divide the work among two processes, storing partial results in sl</span>\n<span class=\"gp\">... </span>    <span class=\"n\">p1</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">do_work</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">sl</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1000</span><span class=\"p\">))</span>\n<span class=\"gp\">... </span>    <span class=\"n\">p2</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">do_work</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">sl</span><span class=\"p\">,</span> <span class=\"mi\">1000</span><span class=\"p\">,</span> <span class=\"mi\">2000</span><span class=\"p\">))</span>\n<span class=\"gp\">... </span>    <span class=\"n\">p1</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n<span class=\"gp\">... </span>    <span class=\"n\">p2</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>  <span class=\"c1\"># A multiprocessing.Pool might be more efficient</span>\n<span class=\"gp\">... </span>    <span class=\"n\">p1</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n<span class=\"gp\">... </span>    <span class=\"n\">p2</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>   <span class=\"c1\"># Wait for all work to complete in both processes</span>\n<span class=\"gp\">... </span>    <span class=\"n\">total_result</span> <span class=\"o\">=</span> <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">sl</span><span class=\"p\">)</span>  <span class=\"c1\"># Consolidate the partial results now in sl</span>\n</pre></div>\n</div>\n<p>When using a <a class=\"reference internal\" href=\"#multiprocessing.managers.SharedMemoryManager\" title=\"multiprocessing.managers.SharedMemoryManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemoryManager</span></code></a>\nin a <a class=\"reference internal\" href=\"../reference/compound_stmts.html#with\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code></a> statement, the shared memory blocks created using that\nmanager are all released when the <code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code> statement’s code block\nfinishes execution.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.ShareableList\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.shared_memory.</span></span><span class=\"sig-name descname\"><span class=\"pre\">ShareableList</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sequence</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.ShareableList\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Provide a mutable list-like object where all values stored within are\nstored in a shared memory block.\nThis constrains storable values to the following built-in data types:</p>\n<ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a> (signed 64-bit)</p></li>\n<li><p><a class=\"reference internal\" href=\"functions.html#float\" title=\"float\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">float</span></code></a></p></li>\n<li><p><a class=\"reference internal\" href=\"functions.html#bool\" title=\"bool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bool</span></code></a></p></li>\n<li><p><a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a> (less than 10M bytes each when encoded as UTF-8)</p></li>\n<li><p><a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bytes</span></code></a> (less than 10M bytes each)</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code></p></li>\n</ul>\n<p>It also notably differs from the built-in <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> type\nin that these lists can not change their overall length\n(i.e. no <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">append()</span></code>, <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">insert()</span></code>, etc.) and do not\nsupport the dynamic creation of new <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ShareableList</span></code> instances\nvia slicing.</p>\n<p><em>sequence</em> is used in populating a new <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ShareableList</span></code> full of values.\nSet to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> to instead attach to an already existing\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ShareableList</span></code> by its unique shared memory name.</p>\n<p><em>name</em> is the unique name for the requested shared memory, as described\nin the definition for <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory\" title=\"multiprocessing.shared_memory.SharedMemory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code></a>.  When attaching to an\nexisting <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ShareableList</span></code>, specify its shared memory block’s unique\nname while leaving <em>sequence</em> set to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>A known issue exists for <a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bytes</span></code></a> and <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a> values.\nIf they end with <code class=\"docutils literal notranslate\"><span class=\"pre\">\\x00</span></code> nul bytes or characters, those may be\n<em>silently stripped</em> when fetching them by index from the\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ShareableList</span></code>. This <code class=\"docutils literal notranslate\"><span class=\"pre\">.rstrip(b'\\x00')</span></code> behavior is\nconsidered a bug and may go away in the future. See <a class=\"reference external\" href=\"https://github.com/python/cpython/issues/106939\">gh-106939</a>.</p>\n</div>\n<p>For applications where rstripping of trailing nulls is a problem,\nwork around it by always unconditionally appending an extra non-0\nbyte to the end of such values when storing and unconditionally\nremoving it when fetching:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">shared_memory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">nul_bug_demo</span> <span class=\"o\">=</span> <span class=\"n\">shared_memory</span><span class=\"o\">.</span><span class=\"n\">ShareableList</span><span class=\"p\">([</span><span class=\"s1\">&#39;?</span><span class=\"se\">\\x00</span><span class=\"s1\">&#39;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s1\">&#39;</span><span class=\"se\">\\x03\\x02\\x01\\x00\\x00\\x00</span><span class=\"s1\">&#39;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">nul_bug_demo</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"go\">&#39;?&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">nul_bug_demo</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"go\">b&#39;\\x03\\x02\\x01&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">nul_bug_demo</span><span class=\"o\">.</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">unlink</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">padded</span> <span class=\"o\">=</span> <span class=\"n\">shared_memory</span><span class=\"o\">.</span><span class=\"n\">ShareableList</span><span class=\"p\">([</span><span class=\"s1\">&#39;?</span><span class=\"se\">\\x00\\x07</span><span class=\"s1\">&#39;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s1\">&#39;</span><span class=\"se\">\\x03\\x02\\x01\\x00\\x00\\x00\\x07</span><span class=\"s1\">&#39;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">padded</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"go\">&#39;?\\x00&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">padded</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">][:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"go\">b&#39;\\x03\\x02\\x01\\x00\\x00\\x00&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">padded</span><span class=\"o\">.</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">unlink</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.ShareableList.count\">\n<span class=\"sig-name descname\"><span class=\"pre\">count</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.ShareableList.count\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the number of occurrences of <em>value</em>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.ShareableList.index\">\n<span class=\"sig-name descname\"><span class=\"pre\">index</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.ShareableList.index\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return first index position of <em>value</em>.\nRaise <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> if <em>value</em> is not present.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.ShareableList.format\">\n<span class=\"sig-name descname\"><span class=\"pre\">format</span></span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.ShareableList.format\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Read-only attribute containing the <a class=\"reference internal\" href=\"struct.html#module-struct\" title=\"struct: Interpret bytes as packed binary data.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">struct</span></code></a> packing format used by\nall currently stored values.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.shared_memory.ShareableList.shm\">\n<span class=\"sig-name descname\"><span class=\"pre\">shm</span></span><a class=\"headerlink\" href=\"#multiprocessing.shared_memory.ShareableList.shm\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory\" title=\"multiprocessing.shared_memory.SharedMemory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code></a> instance where the values are stored.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>The following example demonstrates basic use of a <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.ShareableList\" title=\"multiprocessing.shared_memory.ShareableList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ShareableList</span></code></a>\ninstance:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">shared_memory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">shared_memory</span><span class=\"o\">.</span><span class=\"n\">ShareableList</span><span class=\"p\">([</span><span class=\"s1\">&#39;howdy&#39;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s1\">&#39;HoWdY&#39;</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">273.154</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"mi\">42</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span> <span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"n\">entry</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">entry</span> <span class=\"ow\">in</span> <span class=\"n\">a</span> <span class=\"p\">]</span>\n<span class=\"go\">[&lt;class &#39;str&#39;&gt;, &lt;class &#39;bytes&#39;&gt;, &lt;class &#39;float&#39;&gt;, &lt;class &#39;int&#39;&gt;, &lt;class &#39;NoneType&#39;&gt;, &lt;class &#39;bool&#39;&gt;, &lt;class &#39;int&#39;&gt;]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n<span class=\"go\">-273.154</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mf\">78.5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n<span class=\"go\">-78.5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;dry ice&#39;</span>  <span class=\"c1\"># Changing data types is supported as well</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n<span class=\"go\">&#39;dry ice&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;larger than previously allocated storage space&#39;</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"w\">  </span><span class=\"c\">...</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">exceeds available storage for existing str</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n<span class=\"go\">&#39;dry ice&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n<span class=\"go\">7</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">index</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"go\">6</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s1\">&#39;howdy&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s1\">&#39;HoWdY&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">unlink</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">del</span> <span class=\"n\">a</span>  <span class=\"c1\"># Use of a ShareableList after call to unlink() is unsupported</span>\n</pre></div>\n</div>\n<p>The following example depicts how one, two, or many processes may access the\nsame <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.ShareableList\" title=\"multiprocessing.shared_memory.ShareableList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ShareableList</span></code></a> by supplying the name of the shared memory block\nbehind it:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">shared_memory</span><span class=\"o\">.</span><span class=\"n\">ShareableList</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">))</span>         <span class=\"c1\"># In a first process</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">shared_memory</span><span class=\"o\">.</span><span class=\"n\">ShareableList</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>  <span class=\"c1\"># In a second process</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span>\n<span class=\"go\">ShareableList([0, 1, 2, 3, 4], name=&#39;...&#39;)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mi\">999</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"go\">-999</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">unlink</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>The following examples demonstrates that <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.ShareableList\" title=\"multiprocessing.shared_memory.ShareableList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ShareableList</span></code></a>\n(and underlying <a class=\"reference internal\" href=\"#multiprocessing.shared_memory.SharedMemory\" title=\"multiprocessing.shared_memory.SharedMemory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code></a>) objects\ncan be pickled and unpickled if needed.\nNote, that it will still be the same shared object.\nThis happens, because the deserialized object has\nthe same unique name and is just attached to an existing\nobject with the same name (if the object is still alive):</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">pickle</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">shared_memory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sl</span> <span class=\"o\">=</span> <span class=\"n\">shared_memory</span><span class=\"o\">.</span><span class=\"n\">ShareableList</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">sl</span><span class=\"p\">)</span>\n<span class=\"go\">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>\n</pre></div>\n</div>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">deserialized_sl</span> <span class=\"o\">=</span> <span class=\"n\">pickle</span><span class=\"o\">.</span><span class=\"n\">loads</span><span class=\"p\">(</span><span class=\"n\">pickle</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">sl</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">deserialized_sl</span><span class=\"p\">)</span>\n<span class=\"go\">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>\n</pre></div>\n</div>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sl</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">deserialized_sl</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mi\">2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">sl</span><span class=\"p\">)</span>\n<span class=\"go\">[-1, -2, 2, 3, 4, 5, 6, 7, 8, 9]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">deserialized_sl</span><span class=\"p\">)</span>\n<span class=\"go\">[-1, -2, 2, 3, 4, 5, 6, 7, 8, 9]</span>\n</pre></div>\n</div>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sl</span><span class=\"o\">.</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sl</span><span class=\"o\">.</span><span class=\"n\">shm</span><span class=\"o\">.</span><span class=\"n\">unlink</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n\n\n            <div class=\"clearer\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"Main\">\n        <div class=\"sphinxsidebarwrapper\">\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"multiprocessing.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code> — Process-based parallelism</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"concurrent.html\"\n                          title=\"next chapter\">The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">concurrent</span></code> package</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/multiprocessing.shared_memory.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </div>\n<div id=\"sidebarbutton\" title=\"Collapse sidebar\">\n<span>«</span>\n</div>\n\n      </div>\n      <div class=\"clearer\"></div>\n    </div>  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             >index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"concurrent.html\" title=\"The concurrent package\"\n             >next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"multiprocessing.html\" title=\"multiprocessing — Process-based parallelism\"\n             >previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"concurrency.html\" >Concurrent Execution</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.shared_memory</span></code> — Shared memory for direct access across processes</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>  \n    <div class=\"footer\">\n    &copy; <a href=\"../copyright.html\">Copyright</a> 2001 Python Software Foundation.\n    <br>\n    This page is licensed under the Python Software Foundation License Version 2.\n    <br>\n    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.\n    <br>\n    \n      See <a href=\"/license.html\">History and License</a> for more information.<br>\n    \n    \n    <br>\n\n    The Python Software Foundation is a non-profit corporation.\n<a href=\"https://www.python.org/psf/donations/\">Please donate.</a>\n<br>\n    <br>\n      Last updated on Nov 25, 2025 (18:01 UTC).\n    \n      <a href=\"/bugs.html\">Found a bug</a>?\n    \n    <br>\n\n    Created using <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> 8.2.3.\n    </div>\n\n    <script type=\"text/javascript\" src=\"../_static/switchers.js\"></script>\n  </body>\n</html>",
  "metadata": {
    "title": "multiprocessing.shared_memory — Shared memory for direct access across processes — Python 3.14.0 documentation",
    "meta_description": "Source code: Lib/multiprocessing/shared_memory.py This module provides a class, SharedMemory, for the allocation and management of shared memory to be accessed by one or more processes on a multico...",
    "h1": "— Shared memory for direct access across processes"
  },
  "request_headers": {
    "Referer": "https://docs.python.org/3/library/",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
    "Accept-Language": "en",
    "User-Agent": "DumbCrawler/1.0",
    "Accept-Encoding": "gzip, deflate"
  },
  "response_headers": {
    "Content-Length": "11866",
    "Server": "nginx",
    "Content-Type": "text/html",
    "Last-Modified": "Tue, 25 Nov 2025 18:03:26 GMT",
    "Etag": "\"6925ef6e-12083\"",
    "X-Clacks-Overhead": "GNU Terry Pratchett",
    "Strict-Transport-Security": "max-age=315360000; includeSubDomains; preload",
    "Via": "1.1 varnish, 1.1 varnish",
    "Accept-Ranges": "bytes",
    "Age": "3501",
    "Date": "Wed, 26 Nov 2025 05:25:21 GMT",
    "X-Served-By": "cache-lga21969-LGA, cache-yul1970052-YUL",
    "X-Cache": "HIT, HIT",
    "X-Cache-Hits": "219, 0",
    "X-Timer": "S1764134722.643746,VS0,VE13",
    "Vary": "Accept-Encoding"
  },
  "crawled_at": "2025-11-26T05:25:22.325360+00:00",
  "crawler": {
    "name": "DumbCrawler",
    "version": "1.0",
    "mode": "crawl",
    "js_mode": "off",
    "scope": "subdomain"
  }
}