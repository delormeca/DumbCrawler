{
  "url": "https://docs.python.org/3/library/sqlite3.html",
  "status_code": 200,
  "depth": 1,
  "referrer": "https://docs.python.org/3/library/",
  "raw_html": "<!DOCTYPE html>\n\n<html lang=\"en\" data-content_root=\"../\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<meta property=\"og:title\" content=\"sqlite3 — DB-API 2.0 interface for SQLite databases\" />\n<meta property=\"og:type\" content=\"website\" />\n<meta property=\"og:url\" content=\"https://docs.python.org/3/library/sqlite3.html\" />\n<meta property=\"og:site_name\" content=\"Python documentation\" />\n<meta property=\"og:description\" content=\"Source code: Lib/sqlite3/ SQLite is a C library that provides a lightweight disk-based database that doesn’t require a separate server process and allows accessing the database using a nonstandard ...\" />\n<meta property=\"og:image:width\" content=\"1146\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://docs.python.org/3.14/_images/social_previews/summary_library_sqlite3_de021cde.png\" />\n<meta property=\"og:image:alt\" content=\"Source code: Lib/sqlite3/ SQLite is a C library that provides a lightweight disk-based database that doesn’t require a separate server process and allows accessing the database using a nonstandard ...\" />\n<meta name=\"description\" content=\"Source code: Lib/sqlite3/ SQLite is a C library that provides a lightweight disk-based database that doesn’t require a separate server process and allows accessing the database using a nonstandard ...\" />\n<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"theme-color\" content=\"#3776ab\">\n\n    <title>sqlite3 — DB-API 2.0 interface for SQLite databases &#8212; Python 3.14.0 documentation</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments.css?v=b86133f3\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/classic.css?v=234b1a7c\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pydoctheme.css?v=8cd84f99\" />\n    <link id=\"pygments_dark_css\" media=\"(prefers-color-scheme: dark)\" rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments_dark.css?v=5349f25f\" />\n    \n    <script src=\"../_static/documentation_options.js?v=e4f4b189\"></script>\n    <script src=\"../_static/doctools.js?v=9bcbadda\"></script>\n    <script src=\"../_static/sphinx_highlight.js?v=dc90522c\"></script>\n    \n    <script src=\"../_static/sidebar.js\"></script>\n    \n    <link rel=\"search\" type=\"application/opensearchdescription+xml\"\n          title=\"Search within Python 3.14.0 documentation\"\n          href=\"../_static/opensearch.xml\"/>\n    <link rel=\"author\" title=\"About these documents\" href=\"../about.html\" />\n    <link rel=\"index\" title=\"Index\" href=\"../genindex.html\" />\n    <link rel=\"search\" title=\"Search\" href=\"../search.html\" />\n    <link rel=\"copyright\" title=\"Copyright\" href=\"../copyright.html\" />\n    <link rel=\"next\" title=\"Data Compression and Archiving\" href=\"archiving.html\" />\n    <link rel=\"prev\" title=\"dbm — Interfaces to Unix “databases”\" href=\"dbm.html\" />\n    \n      \n      <script defer file-types=\"bz2,epub,zip\" data-domain=\"docs.python.org\" src=\"https://analytics.python.org/js/script.file-downloads.outbound-links.js\"></script>\n      \n      <link rel=\"canonical\" href=\"https://docs.python.org/3/library/sqlite3.html\">\n      \n    \n\n    \n    <style>\n      @media only screen {\n        table.full-width-table {\n            width: 100%;\n        }\n      }\n    </style>\n<link rel=\"stylesheet\" href=\"../_static/pydoctheme_dark.css\" media=\"(prefers-color-scheme: dark)\" id=\"pydoctheme_dark_css\">\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"../_static/py.svg\">\n            <script type=\"text/javascript\" src=\"../_static/copybutton.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/menu.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/search-focus.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/themetoggle.js\"></script> \n            <script type=\"text/javascript\" src=\"../_static/rtd_switcher.js\"></script>\n            <meta name=\"readthedocs-addons-api-version\" content=\"1\">\n\n  </head>\n<body>\n<div class=\"mobile-nav\">\n    <input type=\"checkbox\" id=\"menuToggler\" class=\"toggler__input\" aria-controls=\"navigation\"\n           aria-pressed=\"false\" aria-expanded=\"false\" role=\"button\" aria-label=\"Menu\">\n    <nav class=\"nav-content\" role=\"navigation\">\n        <label for=\"menuToggler\" class=\"toggler__label\">\n            <span></span>\n        </label>\n        <span class=\"nav-items-wrapper\">\n            <a href=\"https://www.python.org/\" class=\"nav-logo\">\n                <img src=\"../_static/py.svg\" alt=\"Python logo\">\n            </a>\n            <span class=\"version_switcher_placeholder\"></span>\n            <form role=\"search\" class=\"search\" action=\"../search.html\" method=\"get\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" class=\"search-icon\">\n                    <path fill-rule=\"nonzero\" fill=\"currentColor\" d=\"M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n                </svg>\n                <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\">\n                <input type=\"submit\" value=\"Go\">\n            </form>\n        </span>\n    </nav>\n    <div class=\"menu-wrapper\">\n        <nav class=\"menu\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"language_switcher_placeholder\"></div>\n            \n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label>\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> — DB-API 2.0 interface for SQLite databases</a><ul>\n<li><a class=\"reference internal\" href=\"#tutorial\">Tutorial</a></li>\n<li><a class=\"reference internal\" href=\"#reference\">Reference</a><ul>\n<li><a class=\"reference internal\" href=\"#module-functions\">Module functions</a></li>\n<li><a class=\"reference internal\" href=\"#module-constants\">Module constants</a></li>\n<li><a class=\"reference internal\" href=\"#connection-objects\">Connection objects</a></li>\n<li><a class=\"reference internal\" href=\"#cursor-objects\">Cursor objects</a></li>\n<li><a class=\"reference internal\" href=\"#row-objects\">Row objects</a></li>\n<li><a class=\"reference internal\" href=\"#blob-objects\">Blob objects</a></li>\n<li><a class=\"reference internal\" href=\"#prepareprotocol-objects\">PrepareProtocol objects</a></li>\n<li><a class=\"reference internal\" href=\"#exceptions\">Exceptions</a></li>\n<li><a class=\"reference internal\" href=\"#sqlite-and-python-types\">SQLite and Python types</a></li>\n<li><a class=\"reference internal\" href=\"#default-adapters-and-converters-deprecated\">Default adapters and converters (deprecated)</a></li>\n<li><a class=\"reference internal\" href=\"#command-line-interface\">Command-line interface</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#how-to-guides\">How-to guides</a><ul>\n<li><a class=\"reference internal\" href=\"#how-to-use-placeholders-to-bind-values-in-sql-queries\">How to use placeholders to bind values in SQL queries</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-adapt-custom-python-types-to-sqlite-values\">How to adapt custom Python types to SQLite values</a><ul>\n<li><a class=\"reference internal\" href=\"#how-to-write-adaptable-objects\">How to write adaptable objects</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-register-adapter-callables\">How to register adapter callables</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#how-to-convert-sqlite-values-to-custom-python-types\">How to convert SQLite values to custom Python types</a></li>\n<li><a class=\"reference internal\" href=\"#adapter-and-converter-recipes\">Adapter and converter recipes</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-use-connection-shortcut-methods\">How to use connection shortcut methods</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-use-the-connection-context-manager\">How to use the connection context manager</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-work-with-sqlite-uris\">How to work with SQLite URIs</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-create-and-use-row-factories\">How to create and use row factories</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-handle-non-utf-8-text-encodings\">How to handle non-UTF-8 text encodings</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#explanation\">Explanation</a><ul>\n<li><a class=\"reference internal\" href=\"#transaction-control\">Transaction control</a><ul>\n<li><a class=\"reference internal\" href=\"#transaction-control-via-the-autocommit-attribute\">Transaction control via the <code class=\"docutils literal notranslate\"><span class=\"pre\">autocommit</span></code> attribute</a></li>\n<li><a class=\"reference internal\" href=\"#transaction-control-via-the-isolation-level-attribute\">Transaction control via the <code class=\"docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code> attribute</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"dbm.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">dbm</span></code> — Interfaces to Unix “databases”</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"archiving.html\"\n                          title=\"next chapter\">Data Compression and Archiving</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/sqlite3.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </nav>\n    </div>\n</div>\n\n  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             accesskey=\"I\">index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"archiving.html\" title=\"Data Compression and Archiving\"\n             accesskey=\"N\">next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"dbm.html\" title=\"dbm — Interfaces to Unix “databases”\"\n             accesskey=\"P\">previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"persistence.html\" accesskey=\"U\">Data Persistence</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> — DB-API 2.0 interface for SQLite databases</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>    \n\n    <div class=\"document\">\n      <div class=\"documentwrapper\">\n        <div class=\"bodywrapper\">\n          <div class=\"body\" role=\"main\">\n            \n  <section id=\"module-sqlite3\">\n<span id=\"sqlite3-db-api-2-0-interface-for-sqlite-databases\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> — DB-API 2.0 interface for SQLite databases<a class=\"headerlink\" href=\"#module-sqlite3\" title=\"Link to this heading\">¶</a></h1>\n<p><strong>Source code:</strong> <a class=\"extlink-source reference external\" href=\"https://github.com/python/cpython/tree/3.14/Lib/sqlite3/\">Lib/sqlite3/</a></p>\n<p id=\"sqlite3-intro\">SQLite is a C library that provides a lightweight disk-based database that\ndoesn’t require a separate server process and allows accessing the database\nusing a nonstandard variant of the SQL query language. Some applications can use\nSQLite for internal data storage.  It’s also possible to prototype an\napplication using SQLite and then port the code to a larger database such as\nPostgreSQL or Oracle.</p>\n<p>The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module was written by Gerhard Häring.  It provides an SQL interface\ncompliant with the DB-API 2.0 specification described by <span class=\"target\" id=\"index-0\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/\"><strong>PEP 249</strong></a>, and\nrequires the third-party <a class=\"reference external\" href=\"https://sqlite.org/\">SQLite</a> library.</p>\n<p>This is an <a class=\"reference internal\" href=\"../glossary.html#term-optional-module\"><span class=\"xref std std-term\">optional module</span></a>.\nIf it is missing from your copy of CPython,\nlook for documentation from your distributor (that is,\nwhoever provided Python to you).\nIf you are the distributor, see <a class=\"reference internal\" href=\"../using/configure.html#optional-module-requirements\"><span class=\"std std-ref\">Requirements for optional modules</span></a>.</p>\n<p>This document includes four main sections:</p>\n<ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"#sqlite3-tutorial\"><span class=\"std std-ref\">Tutorial</span></a> teaches how to use the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module.</p></li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3-reference\"><span class=\"std std-ref\">Reference</span></a> describes the classes and functions this module\ndefines.</p></li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3-howtos\"><span class=\"std std-ref\">How-to guides</span></a> details how to handle specific tasks.</p></li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3-explanation\"><span class=\"std std-ref\">Explanation</span></a> provides in-depth background on\ntransaction control.</p></li>\n</ul>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<dl class=\"simple\">\n<dt><a class=\"reference external\" href=\"https://www.sqlite.org\">https://www.sqlite.org</a></dt><dd><p>The SQLite web page; the documentation describes the syntax and the\navailable data types for the supported SQL dialect.</p>\n</dd>\n<dt><a class=\"reference external\" href=\"https://www.w3schools.com/sql/\">https://www.w3schools.com/sql/</a></dt><dd><p>Tutorial, reference and examples for learning SQL syntax.</p>\n</dd>\n<dt><span class=\"target\" id=\"index-1\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/\"><strong>PEP 249</strong></a> - Database API Specification 2.0</dt><dd><p>PEP written by Marc-André Lemburg.</p>\n</dd>\n</dl>\n</div>\n<section id=\"tutorial\">\n<span id=\"sqlite3-tutorial\"></span><h2>Tutorial<a class=\"headerlink\" href=\"#tutorial\" title=\"Link to this heading\">¶</a></h2>\n<p>In this tutorial, you will create a database of Monty Python movies\nusing basic <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> functionality.\nIt assumes a fundamental understanding of database concepts,\nincluding <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Cursor_(databases)\">cursors</a> and <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Database_transaction\">transactions</a>.</p>\n<p>First, we need to create a new database and open\na database connection to allow <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> to work with it.\nCall <a class=\"reference internal\" href=\"#sqlite3.connect\" title=\"sqlite3.connect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sqlite3.connect()</span></code></a> to create a connection to\nthe database <code class=\"file docutils literal notranslate\"><span class=\"pre\">tutorial.db</span></code> in the current working directory,\nimplicitly creating it if it does not exist:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">sqlite3</span>\n<span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;tutorial.db&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>The returned <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> object <code class=\"docutils literal notranslate\"><span class=\"pre\">con</span></code>\nrepresents the connection to the on-disk database.</p>\n<p>In order to execute SQL statements and fetch results from SQL queries,\nwe will need to use a database cursor.\nCall <a class=\"reference internal\" href=\"#sqlite3.Connection.cursor\" title=\"sqlite3.Connection.cursor\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">con.cursor()</span></code></a> to create the <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a>:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">cursor</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Now that we’ve got a database connection and a cursor,\nwe can create a database table <code class=\"docutils literal notranslate\"><span class=\"pre\">movie</span></code> with columns for title,\nrelease year, and review score.\nFor simplicity, we can just use column names in the table declaration –\nthanks to the <a class=\"reference external\" href=\"https://www.sqlite.org/flextypegood.html\">flexible typing</a> feature of SQLite,\nspecifying the data types is optional.\nExecute the <code class=\"docutils literal notranslate\"><span class=\"pre\">CREATE</span> <span class=\"pre\">TABLE</span></code> statement\nby calling <a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">cur.execute(...)</span></code></a>:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE movie(title, year, score)&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>We can verify that the new table has been created by querying\nthe <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite_master</span></code> table built-in to SQLite,\nwhich should now contain an entry for the <code class=\"docutils literal notranslate\"><span class=\"pre\">movie</span></code> table definition\n(see <a class=\"reference external\" href=\"https://www.sqlite.org/schematab.html\">The Schema Table</a> for details).\nExecute that query by calling <a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">cur.execute(...)</span></code></a>,\nassign the result to <code class=\"docutils literal notranslate\"><span class=\"pre\">res</span></code>,\nand call <a class=\"reference internal\" href=\"#sqlite3.Cursor.fetchone\" title=\"sqlite3.Cursor.fetchone\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">res.fetchone()</span></code></a> to fetch the resulting row:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT name FROM sqlite_master&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()</span>\n<span class=\"go\">(&#39;movie&#39;,)</span>\n</pre></div>\n</div>\n<p>We can see that the table has been created,\nas the query returns a <a class=\"reference internal\" href=\"stdtypes.html#tuple\" title=\"tuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code></a> containing the table’s name.\nIf we query <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite_master</span></code> for a non-existent table <code class=\"docutils literal notranslate\"><span class=\"pre\">spam</span></code>,\n<code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">res.fetchone()</span></code> will return <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT name FROM sqlite_master WHERE name=&#39;spam&#39;&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n<p>Now, add two rows of data supplied as SQL literals\nby executing an <code class=\"docutils literal notranslate\"><span class=\"pre\">INSERT</span></code> statement,\nonce again by calling <a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">cur.execute(...)</span></code></a>:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;&quot;&quot;</span>\n<span class=\"s2\">    INSERT INTO movie VALUES</span>\n<span class=\"s2\">        (&#39;Monty Python and the Holy Grail&#39;, 1975, 8.2),</span>\n<span class=\"s2\">        (&#39;And Now for Something Completely Different&#39;, 1971, 7.5)</span>\n<span class=\"s2\">&quot;&quot;&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">INSERT</span></code> statement implicitly opens a transaction,\nwhich needs to be committed before changes are saved in the database\n(see <a class=\"reference internal\" href=\"#sqlite3-controlling-transactions\"><span class=\"std std-ref\">Transaction control</span></a> for details).\nCall <a class=\"reference internal\" href=\"#sqlite3.Connection.commit\" title=\"sqlite3.Connection.commit\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">con.commit()</span></code></a> on the connection object\nto commit the transaction:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">commit</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>We can verify that the data was inserted correctly\nby executing a <code class=\"docutils literal notranslate\"><span class=\"pre\">SELECT</span></code> query.\nUse the now-familiar <a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">cur.execute(...)</span></code></a> to\nassign the result to <code class=\"docutils literal notranslate\"><span class=\"pre\">res</span></code>,\nand call <a class=\"reference internal\" href=\"#sqlite3.Cursor.fetchall\" title=\"sqlite3.Cursor.fetchall\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">res.fetchall()</span></code></a> to return all resulting rows:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT score FROM movie&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">fetchall</span><span class=\"p\">()</span>\n<span class=\"go\">[(8.2,), (7.5,)]</span>\n</pre></div>\n</div>\n<p>The result is a <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> of two <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code>s, one per row,\neach containing that row’s <code class=\"docutils literal notranslate\"><span class=\"pre\">score</span></code> value.</p>\n<p>Now, insert three more rows by calling\n<a class=\"reference internal\" href=\"#sqlite3.Cursor.executemany\" title=\"sqlite3.Cursor.executemany\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">cur.executemany(...)</span></code></a>:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;Monty Python Live at the Hollywood Bowl&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1982</span><span class=\"p\">,</span> <span class=\"mf\">7.9</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;Monty Python&#39;s The Meaning of Life&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1983</span><span class=\"p\">,</span> <span class=\"mf\">7.5</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;Monty Python&#39;s Life of Brian&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1979</span><span class=\"p\">,</span> <span class=\"mf\">8.0</span><span class=\"p\">),</span>\n<span class=\"p\">]</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">executemany</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO movie VALUES(?, ?, ?)&quot;</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">commit</span><span class=\"p\">()</span>  <span class=\"c1\"># Remember to commit the transaction after executing INSERT.</span>\n</pre></div>\n</div>\n<p>Notice that <code class=\"docutils literal notranslate\"><span class=\"pre\">?</span></code> placeholders are used to bind <code class=\"docutils literal notranslate\"><span class=\"pre\">data</span></code> to the query.\nAlways use placeholders instead of <a class=\"reference internal\" href=\"../tutorial/inputoutput.html#tut-formatting\"><span class=\"std std-ref\">string formatting</span></a>\nto bind Python values to SQL statements,\nto avoid <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/SQL_injection\">SQL injection attacks</a>\n(see <a class=\"reference internal\" href=\"#sqlite3-placeholders\"><span class=\"std std-ref\">How to use placeholders to bind values in SQL queries</span></a> for more details).</p>\n<p>We can verify that the new rows were inserted\nby executing a <code class=\"docutils literal notranslate\"><span class=\"pre\">SELECT</span></code> query,\nthis time iterating over the results of the query:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT year, title FROM movie ORDER BY year&quot;</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)</span>\n<span class=\"go\">(1971, &#39;And Now for Something Completely Different&#39;)</span>\n<span class=\"go\">(1975, &#39;Monty Python and the Holy Grail&#39;)</span>\n<span class=\"go\">(1979, &quot;Monty Python&#39;s Life of Brian&quot;)</span>\n<span class=\"go\">(1982, &#39;Monty Python Live at the Hollywood Bowl&#39;)</span>\n<span class=\"go\">(1983, &quot;Monty Python&#39;s The Meaning of Life&quot;)</span>\n</pre></div>\n</div>\n<p>Each row is a two-item <a class=\"reference internal\" href=\"stdtypes.html#tuple\" title=\"tuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code></a> of <code class=\"docutils literal notranslate\"><span class=\"pre\">(year,</span> <span class=\"pre\">title)</span></code>,\nmatching the columns selected in the query.</p>\n<p>Finally, verify that the database has been written to disk\nby calling <a class=\"reference internal\" href=\"#sqlite3.Connection.close\" title=\"sqlite3.Connection.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">con.close()</span></code></a>\nto close the existing connection, opening a new one,\ncreating a new cursor, then querying the database:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">new_con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;tutorial.db&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">new_cur</span> <span class=\"o\">=</span> <span class=\"n\">new_con</span><span class=\"o\">.</span><span class=\"n\">cursor</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">new_cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT title, year FROM movie ORDER BY score DESC&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">title</span><span class=\"p\">,</span> <span class=\"n\">year</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">&#39;The highest scoring Monty Python movie is </span><span class=\"si\">{</span><span class=\"n\">title</span><span class=\"si\">!r}</span><span class=\"s1\">, released in </span><span class=\"si\">{</span><span class=\"n\">year</span><span class=\"si\">}</span><span class=\"s1\">&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">The highest scoring Monty Python movie is &#39;Monty Python and the Holy Grail&#39;, released in 1975</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">new_con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>You’ve now created an SQLite database using the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module,\ninserted data and retrieved values from it in multiple ways.</p>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"#sqlite3-howtos\"><span class=\"std std-ref\">How-to guides</span></a> for further reading:</p>\n<ul>\n<li><p><a class=\"reference internal\" href=\"#sqlite3-placeholders\"><span class=\"std std-ref\">How to use placeholders to bind values in SQL queries</span></a></p></li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3-adapters\"><span class=\"std std-ref\">How to adapt custom Python types to SQLite values</span></a></p></li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3-converters\"><span class=\"std std-ref\">How to convert SQLite values to custom Python types</span></a></p></li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3-connection-context-manager\"><span class=\"std std-ref\">How to use the connection context manager</span></a></p></li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3-howto-row-factory\"><span class=\"std std-ref\">How to create and use row factories</span></a></p></li>\n</ul>\n</li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3-explanation\"><span class=\"std std-ref\">Explanation</span></a> for in-depth background on transaction control.</p></li>\n</ul>\n</div>\n</section>\n<section id=\"reference\">\n<span id=\"sqlite3-reference\"></span><h2>Reference<a class=\"headerlink\" href=\"#reference\" title=\"Link to this heading\">¶</a></h2>\n<section id=\"module-functions\">\n<span id=\"sqlite3-module-functions\"></span><span id=\"sqlite3-module-contents\"></span><h3>Module functions<a class=\"headerlink\" href=\"#module-functions\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.connect\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">connect</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">database</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">5.0</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">detect_types</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">0</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">isolation_level</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'DEFERRED'</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">check_same_thread</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">factory</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">sqlite3.Connection</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">cached_statements</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">128</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">uri</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">autocommit</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">sqlite3.LEGACY_TRANSACTION_CONTROL</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.connect\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Open a connection to an SQLite database.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>database</strong> (<a class=\"reference internal\" href=\"../glossary.html#term-path-like-object\"><span class=\"xref std std-term\">path-like object</span></a>) – The path to the database file to be opened.\nYou can pass <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;:memory:&quot;</span></code> to create an <a class=\"reference external\" href=\"https://sqlite.org/inmemorydb.html\">SQLite database existing only\nin memory</a>, and open a connection\nto it.</p></li>\n<li><p><strong>timeout</strong> (<a class=\"reference internal\" href=\"functions.html#float\" title=\"float\"><em>float</em></a>) – How many seconds the connection should wait before raising\nan <a class=\"reference internal\" href=\"#sqlite3.OperationalError\" title=\"sqlite3.OperationalError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OperationalError</span></code></a> when a table is locked.\nIf another connection opens a transaction to modify a table,\nthat table will be locked until the transaction is committed.\nDefault five seconds.</p></li>\n<li><p><strong>detect_types</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – Control whether and how data types not\n<a class=\"reference internal\" href=\"#sqlite3-types\"><span class=\"std std-ref\">natively supported by SQLite</span></a>\nare looked up to be converted to Python types,\nusing the converters registered with <a class=\"reference internal\" href=\"#sqlite3.register_converter\" title=\"sqlite3.register_converter\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">register_converter()</span></code></a>.\nSet it to any combination (using <code class=\"docutils literal notranslate\"><span class=\"pre\">|</span></code>, bitwise or) of\n<a class=\"reference internal\" href=\"#sqlite3.PARSE_DECLTYPES\" title=\"sqlite3.PARSE_DECLTYPES\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">PARSE_DECLTYPES</span></code></a> and <a class=\"reference internal\" href=\"#sqlite3.PARSE_COLNAMES\" title=\"sqlite3.PARSE_COLNAMES\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">PARSE_COLNAMES</span></code></a>\nto enable this.\nColumn names takes precedence over declared types if both flags are set.\nBy default (<code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code>), type detection is disabled.</p></li>\n<li><p><strong>isolation_level</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a><em> | </em><em>None</em>) – Control legacy transaction handling behaviour.\nSee <a class=\"reference internal\" href=\"#sqlite3.Connection.isolation_level\" title=\"sqlite3.Connection.isolation_level\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.isolation_level</span></code></a> and\n<a class=\"reference internal\" href=\"#sqlite3-transaction-control-isolation-level\"><span class=\"std std-ref\">Transaction control via the isolation_level attribute</span></a> for more information.\nCan be <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;DEFERRED&quot;</span></code> (default), <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;EXCLUSIVE&quot;</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;IMMEDIATE&quot;</span></code>;\nor <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> to disable opening transactions implicitly.\nHas no effect unless <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.autocommit</span></code></a> is set to\n<a class=\"reference internal\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"sqlite3.LEGACY_TRANSACTION_CONTROL\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></code></a> (the default).</p></li>\n<li><p><strong>check_same_thread</strong> (<a class=\"reference internal\" href=\"functions.html#bool\" title=\"bool\"><em>bool</em></a>) – If <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (default), <a class=\"reference internal\" href=\"#sqlite3.ProgrammingError\" title=\"sqlite3.ProgrammingError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ProgrammingError</span></code></a> will be raised\nif the database connection is used by a thread\nother than the one that created it.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, the connection may be accessed in multiple threads;\nwrite operations may need to be serialized by the user\nto avoid data corruption.\nSee <a class=\"reference internal\" href=\"#sqlite3.threadsafety\" title=\"sqlite3.threadsafety\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">threadsafety</span></code></a> for more information.</p></li>\n<li><p><strong>factory</strong> (<a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><em>Connection</em></a>) – A custom subclass of <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> to create the connection with,\nif not the default <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> class.</p></li>\n<li><p><strong>cached_statements</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – The number of statements that <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code>\nshould internally cache for this connection, to avoid parsing overhead.\nBy default, 128 statements.</p></li>\n<li><p><strong>uri</strong> (<a class=\"reference internal\" href=\"functions.html#bool\" title=\"bool\"><em>bool</em></a>) – If set to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, <em>database</em> is interpreted as a\n<abbr title=\"Uniform Resource Identifier\">URI</abbr> with a file path\nand an optional query string.\nThe scheme part <em>must</em> be <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;file:&quot;</span></code>,\nand the path can be relative or absolute.\nThe query string allows passing parameters to SQLite,\nenabling various <a class=\"reference internal\" href=\"#sqlite3-uri-tricks\"><span class=\"std std-ref\">How to work with SQLite URIs</span></a>.</p></li>\n<li><p><strong>autocommit</strong> (<a class=\"reference internal\" href=\"functions.html#bool\" title=\"bool\"><em>bool</em></a>) – Control <span class=\"target\" id=\"index-2\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/\"><strong>PEP 249</strong></a> transaction handling behaviour.\nSee <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.autocommit</span></code></a> and\n<a class=\"reference internal\" href=\"#sqlite3-transaction-control-autocommit\"><span class=\"std std-ref\">Transaction control via the autocommit attribute</span></a> for more information.\n<em>autocommit</em> currently defaults to\n<a class=\"reference internal\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"sqlite3.LEGACY_TRANSACTION_CONTROL\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></code></a>.\nThe default will change to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> in a future Python release.</p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Return type<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p><a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><em>Connection</em></a></p>\n</dd>\n</dl>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite3.connect</span></code> with argument <code class=\"docutils literal notranslate\"><span class=\"pre\">database</span></code>.</p>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite3.connect/handle</span></code> with argument <code class=\"docutils literal notranslate\"><span class=\"pre\">connection_handle</span></code>.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.4: </span>Added the <em>uri</em> parameter.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.7: </span><em>database</em> can now also be a <a class=\"reference internal\" href=\"../glossary.html#term-path-like-object\"><span class=\"xref std std-term\">path-like object</span></a>, not only a string.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.10: </span>Added the <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite3.connect/handle</span></code> auditing event.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span>Added the <em>autocommit</em> parameter.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Positional use of the parameters <em>timeout</em>, <em>detect_types</em>,\n<em>isolation_level</em>, <em>check_same_thread</em>, <em>factory</em>, <em>cached_statements</em>,\nand <em>uri</em> is deprecated.\nThey will become keyword-only parameters in Python 3.15.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.complete_statement\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">complete_statement</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">statement</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.complete_statement\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if the string <em>statement</em> appears to contain\none or more complete SQL statements.\nNo syntactic verification or parsing of any kind is performed,\nother than checking that there are no unclosed string literals\nand the statement is terminated by a semicolon.</p>\n<p>For example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">complete_statement</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT foo FROM bar;&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">complete_statement</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT foo&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">False</span>\n</pre></div>\n</div>\n<p>This function may be useful during command-line input\nto determine if the entered text seems to form a complete SQL statement,\nor if additional input is needed before calling <a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">execute()</span></code></a>.</p>\n<p>See <code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">runsource()</span></code> in <a class=\"extlink-source reference external\" href=\"https://github.com/python/cpython/tree/3.14/Lib/sqlite3/__main__.py\">Lib/sqlite3/__main__.py</a>\nfor real-world use.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.enable_callback_tracebacks\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">enable_callback_tracebacks</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flag</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.enable_callback_tracebacks\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Enable or disable callback tracebacks.\nBy default you will not get any tracebacks in user-defined functions,\naggregates, converters, authorizer callbacks etc. If you want to debug them,\nyou can call this function with <em>flag</em> set to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>. Afterwards, you\nwill get tracebacks from callbacks on <a class=\"reference internal\" href=\"sys.html#sys.stderr\" title=\"sys.stderr\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.stderr</span></code></a>. Use <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>\nto disable the feature again.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Errors in user-defined function callbacks are logged as unraisable exceptions.\nUse an <a class=\"reference internal\" href=\"sys.html#sys.unraisablehook\" title=\"sys.unraisablehook\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">unraisable</span> <span class=\"pre\">hook</span> <span class=\"pre\">handler</span></code></a> for\nintrospection of the failed callback.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.register_adapter\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">register_adapter</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">type</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">adapter</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.register_adapter\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Register an <em>adapter</em> <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a> to adapt the Python type <em>type</em>\ninto an SQLite type.\nThe adapter is called with a Python object of type <em>type</em> as its sole\nargument, and must return a value of a\n<a class=\"reference internal\" href=\"#sqlite3-types\"><span class=\"std std-ref\">type that SQLite natively understands</span></a>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.register_converter\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">register_converter</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typename</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">converter</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.register_converter\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Register the <em>converter</em> <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a> to convert SQLite objects of type\n<em>typename</em> into a Python object of a specific type.\nThe converter is invoked for all SQLite values of type <em>typename</em>;\nit is passed a <a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bytes</span></code></a> object and should return an object of the\ndesired Python type.\nConsult the parameter <em>detect_types</em> of\n<a class=\"reference internal\" href=\"#sqlite3.connect\" title=\"sqlite3.connect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">connect()</span></code></a> for information regarding how type detection works.</p>\n<p>Note: <em>typename</em> and the name of the type in your query are matched\ncase-insensitively.</p>\n</dd></dl>\n\n</section>\n<section id=\"module-constants\">\n<span id=\"sqlite3-module-constants\"></span><h3>Module constants<a class=\"headerlink\" href=\"#module-constants\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.LEGACY_TRANSACTION_CONTROL\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></span><a class=\"headerlink\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> to this constant to select\nold style (pre-Python 3.12) transaction control behaviour.\nSee <a class=\"reference internal\" href=\"#sqlite3-transaction-control-isolation-level\"><span class=\"std std-ref\">Transaction control via the isolation_level attribute</span></a> for more information.</p>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.PARSE_DECLTYPES\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">PARSE_DECLTYPES</span></span><a class=\"headerlink\" href=\"#sqlite3.PARSE_DECLTYPES\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Pass this flag value to the <em>detect_types</em> parameter of\n<a class=\"reference internal\" href=\"#sqlite3.connect\" title=\"sqlite3.connect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">connect()</span></code></a> to look up a converter function using\nthe declared types for each column.\nThe types are declared when the database table is created.\n<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> will look up a converter function using the first word of the\ndeclared type as the converter dictionary key.\nFor example:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"p\">(</span>\n<span class=\"w\">   </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"nb\">integer</span><span class=\"w\"> </span><span class=\"k\">primary</span><span class=\"w\"> </span><span class=\"k\">key</span><span class=\"p\">,</span><span class=\"w\">  </span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"n\">will</span><span class=\"w\"> </span><span class=\"n\">look</span><span class=\"w\"> </span><span class=\"n\">up</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">converter</span><span class=\"w\"> </span><span class=\"n\">named</span><span class=\"w\"> </span><span class=\"ss\">&quot;integer&quot;</span>\n<span class=\"w\">   </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">point</span><span class=\"p\">,</span><span class=\"w\">                </span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"n\">will</span><span class=\"w\"> </span><span class=\"n\">look</span><span class=\"w\"> </span><span class=\"n\">up</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">converter</span><span class=\"w\"> </span><span class=\"n\">named</span><span class=\"w\"> </span><span class=\"ss\">&quot;point&quot;</span>\n<span class=\"w\">   </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"nb\">number</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span><span class=\"w\">            </span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"n\">will</span><span class=\"w\"> </span><span class=\"n\">look</span><span class=\"w\"> </span><span class=\"n\">up</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">converter</span><span class=\"w\"> </span><span class=\"n\">named</span><span class=\"w\"> </span><span class=\"ss\">&quot;number&quot;</span>\n<span class=\"w\"> </span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>This flag may be combined with <a class=\"reference internal\" href=\"#sqlite3.PARSE_COLNAMES\" title=\"sqlite3.PARSE_COLNAMES\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">PARSE_COLNAMES</span></code></a> using the <code class=\"docutils literal notranslate\"><span class=\"pre\">|</span></code>\n(bitwise or) operator.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Generated fields (for example <code class=\"docutils literal notranslate\"><span class=\"pre\">MAX(p)</span></code>) are returned as <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a>.\nUse <code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">PARSE_COLNAMES</span></code> to enforce types for such queries.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.PARSE_COLNAMES\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">PARSE_COLNAMES</span></span><a class=\"headerlink\" href=\"#sqlite3.PARSE_COLNAMES\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Pass this flag value to the <em>detect_types</em> parameter of\n<a class=\"reference internal\" href=\"#sqlite3.connect\" title=\"sqlite3.connect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">connect()</span></code></a> to look up a converter function by\nusing the type name, parsed from the query column name,\nas the converter dictionary key.\nThe query column name must be wrapped in double quotes (<code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;</span></code>)\nand the type name must be wrapped in square brackets (<code class=\"docutils literal notranslate\"><span class=\"pre\">[]</span></code>).</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"k\">MAX</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"ss\">&quot;p [point]&quot;</span><span class=\"w\"> </span><span class=\"k\">FROM</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"n\">will</span><span class=\"w\"> </span><span class=\"n\">look</span><span class=\"w\"> </span><span class=\"n\">up</span><span class=\"w\"> </span><span class=\"n\">converter</span><span class=\"w\"> </span><span class=\"ss\">&quot;point&quot;</span>\n</pre></div>\n</div>\n<p>This flag may be combined with <a class=\"reference internal\" href=\"#sqlite3.PARSE_DECLTYPES\" title=\"sqlite3.PARSE_DECLTYPES\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">PARSE_DECLTYPES</span></code></a> using the <code class=\"docutils literal notranslate\"><span class=\"pre\">|</span></code>\n(bitwise or) operator.</p>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_OK\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_OK</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_OK\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DENY\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DENY</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DENY\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_IGNORE\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_IGNORE</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_IGNORE\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Flags that should be returned by the <em>authorizer_callback</em> <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a>\npassed to <a class=\"reference internal\" href=\"#sqlite3.Connection.set_authorizer\" title=\"sqlite3.Connection.set_authorizer\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.set_authorizer()</span></code></a>, to indicate whether:</p>\n<ul class=\"simple\">\n<li><p>Access is allowed (<code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SQLITE_OK</span></code>),</p></li>\n<li><p>The SQL statement should be aborted with an error (<code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SQLITE_DENY</span></code>)</p></li>\n<li><p>The column should be treated as a <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> value (<code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SQLITE_IGNORE</span></code>)</p></li>\n</ul>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.apilevel\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">apilevel</span></span><a class=\"headerlink\" href=\"#sqlite3.apilevel\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>String constant stating the supported DB-API level. Required by the DB-API.\nHard-coded to <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;2.0&quot;</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.paramstyle\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">paramstyle</span></span><a class=\"headerlink\" href=\"#sqlite3.paramstyle\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>String constant stating the type of parameter marker formatting expected by\nthe <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module. Required by the DB-API. Hard-coded to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;qmark&quot;</span></code>.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">named</span></code> DB-API parameter style is also supported.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.sqlite_version\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">sqlite_version</span></span><a class=\"headerlink\" href=\"#sqlite3.sqlite_version\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Version number of the runtime SQLite library as a <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">string</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.sqlite_version_info\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">sqlite_version_info</span></span><a class=\"headerlink\" href=\"#sqlite3.sqlite_version_info\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Version number of the runtime SQLite library as a <a class=\"reference internal\" href=\"stdtypes.html#tuple\" title=\"tuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code></a> of\n<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">integers</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.threadsafety\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">threadsafety</span></span><a class=\"headerlink\" href=\"#sqlite3.threadsafety\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Integer constant required by the DB-API 2.0, stating the level of thread\nsafety the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module supports. This attribute is set based on\nthe default <a class=\"reference external\" href=\"https://sqlite.org/threadsafe.html\">threading mode</a> the\nunderlying SQLite library is compiled with. The SQLite threading modes are:</p>\n<ol class=\"arabic simple\">\n<li><p><strong>Single-thread</strong>: In this mode, all mutexes are disabled and SQLite is\nunsafe to use in more than a single thread at once.</p></li>\n<li><p><strong>Multi-thread</strong>: In this mode, SQLite can be safely used by multiple\nthreads provided that no single database connection is used\nsimultaneously in two or more threads.</p></li>\n<li><p><strong>Serialized</strong>: In serialized mode, SQLite can be safely used by\nmultiple threads with no restriction.</p></li>\n</ol>\n<p>The mappings from SQLite threading modes to DB-API 2.0 threadsafety levels\nare as follows:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>SQLite threading\nmode</p></th>\n<th class=\"head\"><p><span class=\"target\" id=\"index-3\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/#threadsafety\"><strong>threadsafety</strong></a></p></th>\n<th class=\"head\"><p><a class=\"reference external\" href=\"https://sqlite.org/compile.html#threadsafe\">SQLITE_THREADSAFE</a></p></th>\n<th class=\"head\"><p>DB-API 2.0 meaning</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>single-thread</p></td>\n<td><p>0</p></td>\n<td><p>0</p></td>\n<td><p>Threads may not share the\nmodule</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>multi-thread</p></td>\n<td><p>1</p></td>\n<td><p>2</p></td>\n<td><p>Threads may share the module,\nbut not connections</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>serialized</p></td>\n<td><p>3</p></td>\n<td><p>1</p></td>\n<td><p>Threads may share the module,\nconnections and cursors</p></td>\n</tr>\n</tbody>\n</table>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.11: </span>Set <em>threadsafety</em> dynamically instead of hard-coding it to <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py data\" id=\"sqlite3-dbconfig-constants\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_DEFENSIVE\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_DEFENSIVE</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_DEFENSIVE\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_DQS_DDL\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_DQS_DDL</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_DQS_DDL\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_DQS_DML\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_DQS_DML</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_DQS_DML\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_ENABLE_FKEY\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_ENABLE_FKEY</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_ENABLE_FKEY\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_ENABLE_QPSG\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_ENABLE_QPSG</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_ENABLE_QPSG\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_ENABLE_TRIGGER\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_ENABLE_TRIGGER</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_ENABLE_TRIGGER\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_ENABLE_VIEW\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_ENABLE_VIEW</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_ENABLE_VIEW\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_LEGACY_ALTER_TABLE</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_LEGACY_FILE_FORMAT</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_RESET_DATABASE\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_RESET_DATABASE</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_RESET_DATABASE\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_TRIGGER_EQP\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_TRIGGER_EQP</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_TRIGGER_EQP\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_TRUSTED_SCHEMA\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_TRUSTED_SCHEMA</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_TRUSTED_SCHEMA\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"sqlite3.SQLITE_DBCONFIG_WRITABLE_SCHEMA\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SQLITE_DBCONFIG_WRITABLE_SCHEMA</span></span><a class=\"headerlink\" href=\"#sqlite3.SQLITE_DBCONFIG_WRITABLE_SCHEMA\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>These constants are used for the <a class=\"reference internal\" href=\"#sqlite3.Connection.setconfig\" title=\"sqlite3.Connection.setconfig\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.setconfig()</span></code></a>\nand <a class=\"reference internal\" href=\"#sqlite3.Connection.getconfig\" title=\"sqlite3.Connection.getconfig\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">getconfig()</span></code></a> methods.</p>\n<p>The availability of these constants varies depending on the version of SQLite\nPython was compiled with.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.12.</span></p>\n</div>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<dl class=\"simple\">\n<dt><a class=\"reference external\" href=\"https://www.sqlite.org/c3ref/c_dbconfig_defensive.html\">https://www.sqlite.org/c3ref/c_dbconfig_defensive.html</a></dt><dd><p>SQLite docs: Database Connection Configuration Options</p>\n</dd>\n</dl>\n</div>\n</dd></dl>\n\n<div class=\"deprecated-removed\">\n<p><span class=\"versionmodified removed\">Deprecated since version 3.12, removed in version 3.14: </span>The <code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">version</span></code> and <code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">version_info</span></code> constants.</p>\n</div>\n</section>\n<section id=\"connection-objects\">\n<span id=\"sqlite3-connection-objects\"></span><h3>Connection objects<a class=\"headerlink\" href=\"#connection-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Connection</span></span><a class=\"headerlink\" href=\"#sqlite3.Connection\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Each open SQLite database is represented by a <code class=\"docutils literal notranslate\"><span class=\"pre\">Connection</span></code> object,\nwhich is created using <a class=\"reference internal\" href=\"#sqlite3.connect\" title=\"sqlite3.connect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sqlite3.connect()</span></code></a>.\nTheir main purpose is creating <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> objects,\nand <a class=\"reference internal\" href=\"#sqlite3-controlling-transactions\"><span class=\"std std-ref\">Transaction control</span></a>.</p>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"#sqlite3-connection-shortcuts\"><span class=\"std std-ref\">How to use connection shortcut methods</span></a></p></li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3-connection-context-manager\"><span class=\"std std-ref\">How to use the connection context manager</span></a></p></li>\n</ul>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>A <a class=\"reference internal\" href=\"exceptions.html#ResourceWarning\" title=\"ResourceWarning\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ResourceWarning</span></code></a> is emitted if <a class=\"reference internal\" href=\"#sqlite3.Connection.close\" title=\"sqlite3.Connection.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> is not called before\na <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code> object is deleted.</p>\n</div>\n<p>An SQLite database connection has the following attributes and methods:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.cursor\">\n<span class=\"sig-name descname\"><span class=\"pre\">cursor</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">factory</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">Cursor</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.cursor\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create and return a <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> object.\nThe cursor method accepts a single optional parameter <em>factory</em>. If\nsupplied, this must be a <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a> returning\nan instance of <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> or its subclasses.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.blobopen\">\n<span class=\"sig-name descname\"><span class=\"pre\">blobopen</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">table</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">column</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">rowid</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">readonly</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'main'</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.blobopen\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Open a <a class=\"reference internal\" href=\"#sqlite3.Blob\" title=\"sqlite3.Blob\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Blob</span></code></a> handle to an existing\n<abbr title=\"Binary Large OBject\">BLOB</abbr>.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>table</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – The name of the table where the blob is located.</p></li>\n<li><p><strong>column</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – The name of the column where the blob is located.</p></li>\n<li><p><strong>rowid</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – The row id where the blob is located.</p></li>\n<li><p><strong>readonly</strong> (<a class=\"reference internal\" href=\"functions.html#bool\" title=\"bool\"><em>bool</em></a>) – Set to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if the blob should be opened without write\npermissions.\nDefaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.</p></li>\n<li><p><strong>name</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – The name of the database where the blob is located.\nDefaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;main&quot;</span></code>.</p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Raises<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p><a class=\"reference internal\" href=\"#sqlite3.OperationalError\" title=\"sqlite3.OperationalError\"><strong>OperationalError</strong></a> – When trying to open a blob in a <code class=\"docutils literal notranslate\"><span class=\"pre\">WITHOUT</span> <span class=\"pre\">ROWID</span></code> table.</p>\n</dd>\n<dt class=\"field-odd\">Return type<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><a class=\"reference internal\" href=\"#sqlite3.Blob\" title=\"sqlite3.Blob\">Blob</a></p>\n</dd>\n</dl>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The blob size cannot be changed using the <a class=\"reference internal\" href=\"#sqlite3.Blob\" title=\"sqlite3.Blob\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Blob</span></code></a> class.\nUse the SQL function <code class=\"docutils literal notranslate\"><span class=\"pre\">zeroblob</span></code> to create a blob with a fixed size.</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.commit\">\n<span class=\"sig-name descname\"><span class=\"pre\">commit</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.commit\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Commit any pending transaction to the database.\nIf <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, or there is no open transaction,\nthis method does nothing.\nIf <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, a new transaction is implicitly\nopened if a pending transaction was committed by this method.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.rollback\">\n<span class=\"sig-name descname\"><span class=\"pre\">rollback</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.rollback\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Roll back to the start of any pending transaction.\nIf <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, or there is no open transaction,\nthis method does nothing.\nIf <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, a new transaction is implicitly\nopened if a pending transaction was rolled back by this method.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Close the database connection.\nIf <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>,\nany pending transaction is implicitly rolled back.\nIf <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> or <a class=\"reference internal\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"sqlite3.LEGACY_TRANSACTION_CONTROL\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></code></a>,\nno implicit transaction control is executed.\nMake sure to <a class=\"reference internal\" href=\"#sqlite3.Connection.commit\" title=\"sqlite3.Connection.commit\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">commit()</span></code></a> before closing\nto avoid losing pending changes.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.execute\">\n<span class=\"sig-name descname\"><span class=\"pre\">execute</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sql</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">parameters</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">()</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.execute\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a new <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> object and call\n<a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">execute()</span></code></a> on it with the given <em>sql</em> and <em>parameters</em>.\nReturn the new cursor object.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.executemany\">\n<span class=\"sig-name descname\"><span class=\"pre\">executemany</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sql</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">parameters</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.executemany\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a new <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> object and call\n<a class=\"reference internal\" href=\"#sqlite3.Cursor.executemany\" title=\"sqlite3.Cursor.executemany\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">executemany()</span></code></a> on it with the given <em>sql</em> and <em>parameters</em>.\nReturn the new cursor object.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.executescript\">\n<span class=\"sig-name descname\"><span class=\"pre\">executescript</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sql_script</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.executescript\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a new <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> object and call\n<a class=\"reference internal\" href=\"#sqlite3.Cursor.executescript\" title=\"sqlite3.Cursor.executescript\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">executescript()</span></code></a> on it with the given <em>sql_script</em>.\nReturn the new cursor object.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.create_function\">\n<span class=\"sig-name descname\"><span class=\"pre\">create_function</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">narg</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">deterministic</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.create_function\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create or remove a user-defined SQL function.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>name</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – The name of the SQL function.</p></li>\n<li><p><strong>narg</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – The number of arguments the SQL function can accept.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">-1</span></code>, it may take any number of arguments.</p></li>\n<li><p><strong>func</strong> (<a class=\"reference internal\" href=\"../glossary.html#term-callback\"><span class=\"xref std std-term\">callback</span></a> | None) – A <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a> that is called when the SQL function is invoked.\nThe callable must return <a class=\"reference internal\" href=\"#sqlite3-types\"><span class=\"std std-ref\">a type natively supported by SQLite</span></a>.\nSet to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> to remove an existing SQL function.</p></li>\n<li><p><strong>deterministic</strong> (<a class=\"reference internal\" href=\"functions.html#bool\" title=\"bool\"><em>bool</em></a>) – If <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, the created SQL function is marked as\n<a class=\"reference external\" href=\"https://sqlite.org/deterministic.html\">deterministic</a>,\nwhich allows SQLite to perform additional optimizations.</p></li>\n</ul>\n</dd>\n</dl>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.8: </span>Added the <em>deterministic</em> parameter.</p>\n</div>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">hashlib</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">md5sum</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">return</span> <span class=\"n\">hashlib</span><span class=\"o\">.</span><span class=\"n\">md5</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">hexdigest</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">create_function</span><span class=\"p\">(</span><span class=\"s2\">&quot;md5&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">md5sum</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT md5(?)&quot;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;foo&quot;</span><span class=\"p\">,)):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)</span>\n<span class=\"go\">(&#39;acbd18db4cc2f85cedef654fccc4a4d8&#39;,)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Passing <em>name</em>, <em>narg</em>, and <em>func</em> as keyword arguments is deprecated.\nThese parameters will become positional-only in Python 3.15.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.create_aggregate\">\n<span class=\"sig-name descname\"><span class=\"pre\">create_aggregate</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">n_arg</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">aggregate_class</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.create_aggregate\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create or remove a user-defined SQL aggregate function.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>name</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – The name of the SQL aggregate function.</p></li>\n<li><p><strong>n_arg</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – The number of arguments the SQL aggregate function can accept.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">-1</span></code>, it may take any number of arguments.</p></li>\n<li><p><strong>aggregate_class</strong> (<a class=\"reference internal\" href=\"../glossary.html#term-class\"><span class=\"xref std std-term\">class</span></a> | None) – <p>A class must implement the following methods:</p>\n<ul>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">step()</span></code>: Add a row to the aggregate.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">finalize()</span></code>: Return the final result of the aggregate as\n<a class=\"reference internal\" href=\"#sqlite3-types\"><span class=\"std std-ref\">a type natively supported by SQLite</span></a>.</p></li>\n</ul>\n<p>The number of arguments that the <code class=\"docutils literal notranslate\"><span class=\"pre\">step()</span></code> method must accept\nis controlled by <em>n_arg</em>.</p>\n<p>Set to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> to remove an existing SQL aggregate function.</p>\n</p></li>\n</ul>\n</dd>\n</dl>\n<p>Example:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MySum</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">step</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span> <span class=\"o\">+=</span> <span class=\"n\">value</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">finalize</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span>\n\n<span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">create_aggregate</span><span class=\"p\">(</span><span class=\"s2\">&quot;mysum&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">MySum</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE test(i)&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO test(i) VALUES(1)&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO test(i) VALUES(2)&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT mysum(i) FROM test&quot;</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Passing <em>name</em>, <em>n_arg</em>, and <em>aggregate_class</em> as keyword arguments is deprecated.\nThese parameters will become positional-only in Python 3.15.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.create_window_function\">\n<span class=\"sig-name descname\"><span class=\"pre\">create_window_function</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">num_params</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">aggregate_class</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.create_window_function\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create or remove a user-defined aggregate window function.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>name</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – The name of the SQL aggregate window function to create or remove.</p></li>\n<li><p><strong>num_params</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – The number of arguments the SQL aggregate window function can accept.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">-1</span></code>, it may take any number of arguments.</p></li>\n<li><p><strong>aggregate_class</strong> (<a class=\"reference internal\" href=\"../glossary.html#term-class\"><span class=\"xref std std-term\">class</span></a> | None) – <p>A class that must implement the following methods:</p>\n<ul>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">step()</span></code>: Add a row to the current window.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">value()</span></code>: Return the current value of the aggregate.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">inverse()</span></code>: Remove a row from the current window.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">finalize()</span></code>: Return the final result of the aggregate as\n<a class=\"reference internal\" href=\"#sqlite3-types\"><span class=\"std std-ref\">a type natively supported by SQLite</span></a>.</p></li>\n</ul>\n<p>The number of arguments that the <code class=\"docutils literal notranslate\"><span class=\"pre\">step()</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">value()</span></code> methods\nmust accept is controlled by <em>num_params</em>.</p>\n<p>Set to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> to remove an existing SQL aggregate window function.</p>\n</p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Raises<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p><a class=\"reference internal\" href=\"#sqlite3.NotSupportedError\" title=\"sqlite3.NotSupportedError\"><strong>NotSupportedError</strong></a> – If used with a version of SQLite older than 3.25.0,\nwhich does not support aggregate window functions.</p>\n</dd>\n</dl>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n<p>Example:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Example taken from https://www.sqlite.org/windowfunctions.html#udfwinfunc</span>\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">WindowSumInt</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">step</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Add a row to the current window.&quot;&quot;&quot;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span> <span class=\"o\">+=</span> <span class=\"n\">value</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">value</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Return the current value of the aggregate.&quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">inverse</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Remove a row from the current window.&quot;&quot;&quot;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span> <span class=\"o\">-=</span> <span class=\"n\">value</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">finalize</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Return the final value of the aggregate.</span>\n\n<span class=\"sd\">        Any clean-up actions should be placed here.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span>\n\n\n<span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE test(x, y)&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;a&quot;</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;b&quot;</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;c&quot;</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;d&quot;</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;e&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n<span class=\"p\">]</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">executemany</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO test VALUES(?, ?)&quot;</span><span class=\"p\">,</span> <span class=\"n\">values</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">create_window_function</span><span class=\"p\">(</span><span class=\"s2\">&quot;sumint&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">WindowSumInt</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;&quot;&quot;</span>\n<span class=\"s2\">    SELECT x, sumint(y) OVER (</span>\n<span class=\"s2\">        ORDER BY x ROWS BETWEEN 1 PRECEDING AND 1 FOLLOWING</span>\n<span class=\"s2\">    ) AS sum_y</span>\n<span class=\"s2\">    FROM test ORDER BY x</span>\n<span class=\"s2\">&quot;&quot;&quot;</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">fetchall</span><span class=\"p\">())</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.create_collation\">\n<span class=\"sig-name descname\"><span class=\"pre\">create_collation</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">callable</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.create_collation\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a collation named <em>name</em> using the collating function <em>callable</em>.\n<em>callable</em> is passed two <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">string</span></code></a> arguments,\nand it should return an <a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">integer</span></code></a>:</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code> if the first is ordered higher than the second</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">-1</span></code> if the first is ordered lower than the second</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code> if they are ordered equal</p></li>\n</ul>\n<p>The following example shows a reverse sorting collation:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">collate_reverse</span><span class=\"p\">(</span><span class=\"n\">string1</span><span class=\"p\">,</span> <span class=\"n\">string2</span><span class=\"p\">):</span>\n    <span class=\"k\">if</span> <span class=\"n\">string1</span> <span class=\"o\">==</span> <span class=\"n\">string2</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"mi\">0</span>\n    <span class=\"k\">elif</span> <span class=\"n\">string1</span> <span class=\"o\">&lt;</span> <span class=\"n\">string2</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"mi\">1</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n\n<span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">create_collation</span><span class=\"p\">(</span><span class=\"s2\">&quot;reverse&quot;</span><span class=\"p\">,</span> <span class=\"n\">collate_reverse</span><span class=\"p\">)</span>\n\n<span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE test(x)&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">executemany</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO test(x) VALUES(?)&quot;</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;a&quot;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;b&quot;</span><span class=\"p\">,)])</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT x FROM test ORDER BY x COLLATE reverse&quot;</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">cur</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Remove a collation function by setting <em>callable</em> to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.11: </span>The collation name can contain any Unicode character.  Earlier, only\nASCII characters were allowed.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.interrupt\">\n<span class=\"sig-name descname\"><span class=\"pre\">interrupt</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.interrupt\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Call this method from a different thread to abort any queries that might\nbe executing on the connection.\nAborted queries will raise an <a class=\"reference internal\" href=\"#sqlite3.OperationalError\" title=\"sqlite3.OperationalError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OperationalError</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.set_authorizer\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_authorizer</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">authorizer_callback</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.set_authorizer\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Register <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a> <em>authorizer_callback</em> to be invoked\nfor each attempt to access a column of a table in the database.\nThe callback should return one of <a class=\"reference internal\" href=\"#sqlite3.SQLITE_OK\" title=\"sqlite3.SQLITE_OK\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SQLITE_OK</span></code></a>,\n<a class=\"reference internal\" href=\"#sqlite3.SQLITE_DENY\" title=\"sqlite3.SQLITE_DENY\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SQLITE_DENY</span></code></a>, or <a class=\"reference internal\" href=\"#sqlite3.SQLITE_IGNORE\" title=\"sqlite3.SQLITE_IGNORE\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SQLITE_IGNORE</span></code></a>\nto signal how access to the column should be handled\nby the underlying SQLite library.</p>\n<p>The first argument to the callback signifies what kind of operation is to be\nauthorized. The second and third argument will be arguments or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>\ndepending on the first argument. The 4th argument is the name of the database\n(“main”, “temp”, etc.) if applicable. The 5th argument is the name of the\ninner-most trigger or view that is responsible for the access attempt or\n<code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> if this access attempt is directly from input SQL code.</p>\n<p>Please consult the SQLite documentation about the possible values for the first\nargument and the meaning of the second and third argument depending on the first\none. All necessary constants are available in the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module.</p>\n<p>Passing <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> as <em>authorizer_callback</em> will disable the authorizer.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.11: </span>Added support for disabling the authorizer using <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Passing <em>authorizer_callback</em> as a keyword argument is deprecated.\nThe parameter will become positional-only in Python 3.15.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.set_progress_handler\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_progress_handler</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">progress_handler</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">n</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.set_progress_handler\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Register <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a> <em>progress_handler</em> to be invoked for every <em>n</em>\ninstructions of the SQLite virtual machine. This is useful if you want to\nget called from SQLite during long-running operations, for example to update\na GUI.</p>\n<p>If you want to clear any previously installed progress handler, call the\nmethod with <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> for <em>progress_handler</em>.</p>\n<p>Returning a non-zero value from the handler function will terminate the\ncurrently executing query and cause it to raise a <a class=\"reference internal\" href=\"#sqlite3.DatabaseError\" title=\"sqlite3.DatabaseError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">DatabaseError</span></code></a>\nexception.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Passing <em>progress_handler</em> as a keyword argument is deprecated.\nThe parameter will become positional-only in Python 3.15.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.set_trace_callback\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_trace_callback</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">trace_callback</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.set_trace_callback\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Register <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a> <em>trace_callback</em> to be invoked\nfor each SQL statement that is actually executed by the SQLite backend.</p>\n<p>The only argument passed to the callback is the statement (as\n<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a>) that is being executed. The return value of the callback is\nignored. Note that the backend does not only run statements passed to the\n<a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Cursor.execute()</span></code></a> methods.  Other sources include the\n<a class=\"reference internal\" href=\"#sqlite3-controlling-transactions\"><span class=\"std std-ref\">transaction management</span></a> of the\n<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module and the execution of triggers defined in the current\ndatabase.</p>\n<p>Passing <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> as <em>trace_callback</em> will disable the trace callback.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Exceptions raised in the trace callback are not propagated. As a\ndevelopment and debugging aid, use\n<a class=\"reference internal\" href=\"#sqlite3.enable_callback_tracebacks\" title=\"sqlite3.enable_callback_tracebacks\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">enable_callback_tracebacks()</span></code></a> to enable printing\ntracebacks from exceptions raised in the trace callback.</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Passing <em>trace_callback</em> as a keyword argument is deprecated.\nThe parameter will become positional-only in Python 3.15.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.enable_load_extension\">\n<span class=\"sig-name descname\"><span class=\"pre\">enable_load_extension</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">enabled</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.enable_load_extension\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Enable the SQLite engine to load SQLite extensions from shared libraries\nif <em>enabled</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>;\nelse, disallow loading SQLite extensions.\nSQLite extensions can define new functions,\naggregates or whole new virtual table implementations.  One well-known\nextension is the fulltext-search extension distributed with SQLite.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module is not built with loadable extension support by\ndefault, because some platforms (notably macOS) have SQLite\nlibraries which are compiled without this feature.\nTo get loadable extension support,\nyou must pass the <a class=\"reference internal\" href=\"../using/configure.html#cmdoption-enable-loadable-sqlite-extensions\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">--enable-loadable-sqlite-extensions</span></code></a> option\nto <strong class=\"program\">configure</strong>.</p>\n</div>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite3.enable_load_extension</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">connection</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">enabled</span></code>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.10: </span>Added the <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite3.enable_load_extension</span></code> auditing event.</p>\n</div>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">enable_load_extension</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Load the fulltext search extension</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;select load_extension(&#39;./fts3.so&#39;)&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># alternatively you can load the extension using an API call:</span>\n<span class=\"c1\"># con.load_extension(&quot;./fts3.so&quot;)</span>\n\n<span class=\"c1\"># disable extension loading again</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">enable_load_extension</span><span class=\"p\">(</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># example from SQLite wiki</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE VIRTUAL TABLE recipe USING fts3(name, ingredients)&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">executescript</span><span class=\"p\">(</span><span class=\"s2\">&quot;&quot;&quot;</span>\n<span class=\"s2\">    INSERT INTO recipe (name, ingredients) VALUES(&#39;broccoli stew&#39;, &#39;broccoli peppers cheese tomatoes&#39;);</span>\n<span class=\"s2\">    INSERT INTO recipe (name, ingredients) VALUES(&#39;pumpkin stew&#39;, &#39;pumpkin onions garlic celery&#39;);</span>\n<span class=\"s2\">    INSERT INTO recipe (name, ingredients) VALUES(&#39;broccoli pie&#39;, &#39;broccoli cheese onions flour&#39;);</span>\n<span class=\"s2\">    INSERT INTO recipe (name, ingredients) VALUES(&#39;pumpkin pie&#39;, &#39;pumpkin sugar flour butter&#39;);</span>\n<span class=\"s2\">    &quot;&quot;&quot;</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT rowid, name, ingredients FROM recipe WHERE name MATCH &#39;pie&#39;&quot;</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.load_extension\">\n<span class=\"sig-name descname\"><span class=\"pre\">load_extension</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">path</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">entrypoint</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.load_extension\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Load an SQLite extension from a shared library.\nEnable extension loading with <a class=\"reference internal\" href=\"#sqlite3.Connection.enable_load_extension\" title=\"sqlite3.Connection.enable_load_extension\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">enable_load_extension()</span></code></a> before\ncalling this method.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>path</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – The path to the SQLite extension.</p></li>\n<li><p><strong>entrypoint</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a><em> | </em><em>None</em>) – Entry point name.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default),\nSQLite will come up with an entry point name of its own;\nsee the SQLite docs <a class=\"reference external\" href=\"https://www.sqlite.org/loadext.html#loading_an_extension\">Loading an Extension</a> for details.</p></li>\n</ul>\n</dd>\n</dl>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite3.load_extension</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">connection</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">path</span></code>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.10: </span>Added the <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite3.load_extension</span></code> auditing event.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span>Added the <em>entrypoint</em> parameter.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.iterdump\">\n<span class=\"sig-name descname\"><span class=\"pre\">iterdump</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">filter</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.iterdump\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return an <a class=\"reference internal\" href=\"../glossary.html#term-iterator\"><span class=\"xref std std-term\">iterator</span></a> to dump the database as SQL source code.\nUseful when saving an in-memory database for later restoration.\nSimilar to the <code class=\"docutils literal notranslate\"><span class=\"pre\">.dump</span></code> command in the <strong class=\"program\">sqlite3</strong> shell.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>filter</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a><em> | </em><em>None</em>) – An optional <code class=\"docutils literal notranslate\"><span class=\"pre\">LIKE</span></code> pattern for database objects to dump, e.g. <code class=\"docutils literal notranslate\"><span class=\"pre\">prefix_%</span></code>.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default), all database objects will be included.</p>\n</dd>\n</dl>\n<p>Example:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Convert file example.db to SQL dump file dump.sql</span>\n<span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s1\">&#39;example.db&#39;</span><span class=\"p\">)</span>\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">&#39;dump.sql&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;w&#39;</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n    <span class=\"k\">for</span> <span class=\"n\">line</span> <span class=\"ow\">in</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">iterdump</span><span class=\"p\">():</span>\n        <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"si\">%s</span><span class=\"se\">\\n</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">line</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<p><a class=\"reference internal\" href=\"#sqlite3-howto-encoding\"><span class=\"std std-ref\">How to handle non-UTF-8 text encodings</span></a></p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Added the <em>filter</em> parameter.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.backup\">\n<span class=\"sig-name descname\"><span class=\"pre\">backup</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">target</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">pages</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">-1</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">progress</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'main'</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sleep</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">0.250</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.backup\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a backup of an SQLite database.</p>\n<p>Works even if the database is being accessed by other clients\nor concurrently by the same connection.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>target</strong> (<a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><em>Connection</em></a>) – The database connection to save the backup to.</p></li>\n<li><p><strong>pages</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – The number of pages to copy at a time.\nIf equal to or less than <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code>,\nthe entire database is copied in a single step.\nDefaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">-1</span></code>.</p></li>\n<li><p><strong>progress</strong> (<a class=\"reference internal\" href=\"../glossary.html#term-callback\"><span class=\"xref std std-term\">callback</span></a> | None) – If set to a <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a>,\nit is invoked with three integer arguments for every backup iteration:\nthe <em>status</em> of the last iteration,\nthe <em>remaining</em> number of pages still to be copied,\nand the <em>total</em> number of pages.\nDefaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p></li>\n<li><p><strong>name</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – The name of the database to back up.\nEither <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;main&quot;</span></code> (the default) for the main database,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;temp&quot;</span></code> for the temporary database,\nor the name of a custom database as attached using the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ATTACH</span> <span class=\"pre\">DATABASE</span></code> SQL statement.</p></li>\n<li><p><strong>sleep</strong> (<a class=\"reference internal\" href=\"functions.html#float\" title=\"float\"><em>float</em></a>) – The number of seconds to sleep between successive attempts\nto back up remaining pages.</p></li>\n</ul>\n</dd>\n</dl>\n<p>Example 1, copy an existing database into another:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">progress</span><span class=\"p\">(</span><span class=\"n\">status</span><span class=\"p\">,</span> <span class=\"n\">remaining</span><span class=\"p\">,</span> <span class=\"n\">total</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">&#39;Copied </span><span class=\"si\">{</span><span class=\"n\">total</span><span class=\"o\">-</span><span class=\"n\">remaining</span><span class=\"si\">}</span><span class=\"s1\"> of </span><span class=\"si\">{</span><span class=\"n\">total</span><span class=\"si\">}</span><span class=\"s1\"> pages...&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">src</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s1\">&#39;example.db&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">dst</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s1\">&#39;backup.db&#39;</span><span class=\"p\">)</span>\n<span class=\"k\">with</span> <span class=\"n\">dst</span><span class=\"p\">:</span>\n    <span class=\"n\">src</span><span class=\"o\">.</span><span class=\"n\">backup</span><span class=\"p\">(</span><span class=\"n\">dst</span><span class=\"p\">,</span> <span class=\"n\">pages</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">progress</span><span class=\"o\">=</span><span class=\"n\">progress</span><span class=\"p\">)</span>\n<span class=\"n\">dst</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"n\">src</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Example 2, copy an existing database into a transient copy:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">src</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s1\">&#39;example.db&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">dst</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s1\">&#39;:memory:&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">src</span><span class=\"o\">.</span><span class=\"n\">backup</span><span class=\"p\">(</span><span class=\"n\">dst</span><span class=\"p\">)</span>\n<span class=\"n\">dst</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"n\">src</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.7.</span></p>\n</div>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<p><a class=\"reference internal\" href=\"#sqlite3-howto-encoding\"><span class=\"std std-ref\">How to handle non-UTF-8 text encodings</span></a></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.getlimit\">\n<span class=\"sig-name descname\"><span class=\"pre\">getlimit</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">category</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.getlimit\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Get a connection runtime limit.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>category</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – The <a class=\"reference external\" href=\"https://www.sqlite.org/c3ref/c_limit_attached.html\">SQLite limit category</a> to be queried.</p>\n</dd>\n<dt class=\"field-even\">Return type<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p><a class=\"reference internal\" href=\"functions.html#int\" title=\"int\">int</a></p>\n</dd>\n<dt class=\"field-odd\">Raises<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><a class=\"reference internal\" href=\"#sqlite3.ProgrammingError\" title=\"sqlite3.ProgrammingError\"><strong>ProgrammingError</strong></a> – If <em>category</em> is not recognised by the underlying SQLite library.</p>\n</dd>\n</dl>\n<p>Example, query the maximum length of an SQL statement\nfor <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">con</span></code> (the default is 1000000000):</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">getlimit</span><span class=\"p\">(</span><span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">SQLITE_LIMIT_SQL_LENGTH</span><span class=\"p\">)</span>\n<span class=\"go\">1000000000</span>\n</pre></div>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.setlimit\">\n<span class=\"sig-name descname\"><span class=\"pre\">setlimit</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">category</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">limit</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.setlimit\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set a connection runtime limit.\nAttempts to increase a limit above its hard upper bound are silently\ntruncated to the hard upper bound. Regardless of whether or not the limit\nwas changed, the prior value of the limit is returned.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>category</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – The <a class=\"reference external\" href=\"https://www.sqlite.org/c3ref/c_limit_attached.html\">SQLite limit category</a> to be set.</p></li>\n<li><p><strong>limit</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – The value of the new limit.\nIf negative, the current limit is unchanged.</p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Return type<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p><a class=\"reference internal\" href=\"functions.html#int\" title=\"int\">int</a></p>\n</dd>\n<dt class=\"field-odd\">Raises<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><a class=\"reference internal\" href=\"#sqlite3.ProgrammingError\" title=\"sqlite3.ProgrammingError\"><strong>ProgrammingError</strong></a> – If <em>category</em> is not recognised by the underlying SQLite library.</p>\n</dd>\n</dl>\n<p>Example, limit the number of attached databases to 1\nfor <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">con</span></code> (the default limit is 10):</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">setlimit</span><span class=\"p\">(</span><span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">SQLITE_LIMIT_ATTACHED</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">getlimit</span><span class=\"p\">(</span><span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">SQLITE_LIMIT_ATTACHED</span><span class=\"p\">)</span>\n<span class=\"go\">1</span>\n</pre></div>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.getconfig\">\n<span class=\"sig-name descname\"><span class=\"pre\">getconfig</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">op</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.getconfig\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Query a boolean connection configuration option.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>op</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – A <a class=\"reference internal\" href=\"#sqlite3-dbconfig-constants\"><span class=\"std std-ref\">SQLITE_DBCONFIG code</span></a>.</p>\n</dd>\n<dt class=\"field-even\">Return type<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p><a class=\"reference internal\" href=\"functions.html#bool\" title=\"bool\">bool</a></p>\n</dd>\n</dl>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.12.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.setconfig\">\n<span class=\"sig-name descname\"><span class=\"pre\">setconfig</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">op</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">enable</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.setconfig\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set a boolean connection configuration option.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>op</strong> (<a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><em>int</em></a>) – A <a class=\"reference internal\" href=\"#sqlite3-dbconfig-constants\"><span class=\"std std-ref\">SQLITE_DBCONFIG code</span></a>.</p></li>\n<li><p><strong>enable</strong> (<a class=\"reference internal\" href=\"functions.html#bool\" title=\"bool\"><em>bool</em></a>) – <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if the configuration option should be enabled (default);\n<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> if it should be disabled.</p></li>\n</ul>\n</dd>\n</dl>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.12.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.serialize\">\n<span class=\"sig-name descname\"><span class=\"pre\">serialize</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'main'</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.serialize\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Serialize a database into a <a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bytes</span></code></a> object.  For an\nordinary on-disk database file, the serialization is just a copy of the\ndisk file.  For an in-memory database or a “temp” database, the\nserialization is the same sequence of bytes which would be written to\ndisk if that database were backed up to disk.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>name</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – The database name to be serialized.\nDefaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;main&quot;</span></code>.</p>\n</dd>\n<dt class=\"field-even\">Return type<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p><a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\">bytes</a></p>\n</dd>\n</dl>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>This method is only available if the underlying SQLite library has the\nserialize API.</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.deserialize\">\n<span class=\"sig-name descname\"><span class=\"pre\">deserialize</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">data</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'main'</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Connection.deserialize\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Deserialize a <a class=\"reference internal\" href=\"#sqlite3.Connection.serialize\" title=\"sqlite3.Connection.serialize\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">serialized</span></code></a> database into a\n<a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a>.\nThis method causes the database connection to disconnect from database\n<em>name</em>, and reopen <em>name</em> as an in-memory database based on the\nserialization contained in <em>data</em>.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>data</strong> (<a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\"><em>bytes</em></a>) – A serialized database.</p></li>\n<li><p><strong>name</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – The database name to deserialize into.\nDefaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;main&quot;</span></code>.</p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Raises<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"#sqlite3.OperationalError\" title=\"sqlite3.OperationalError\"><strong>OperationalError</strong></a> – If the database connection is currently involved in a read\ntransaction or a backup operation.</p></li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3.DatabaseError\" title=\"sqlite3.DatabaseError\"><strong>DatabaseError</strong></a> – If <em>data</em> does not contain a valid SQLite database.</p></li>\n<li><p><a class=\"reference internal\" href=\"exceptions.html#OverflowError\" title=\"OverflowError\"><strong>OverflowError</strong></a> – If <a class=\"reference internal\" href=\"functions.html#len\" title=\"len\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">len(data)</span></code></a> is larger than <code class=\"docutils literal notranslate\"><span class=\"pre\">2**63</span> <span class=\"pre\">-</span> <span class=\"pre\">1</span></code>.</p></li>\n</ul>\n</dd>\n</dl>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>This method is only available if the underlying SQLite library has the\ndeserialize API.</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.autocommit\">\n<span class=\"sig-name descname\"><span class=\"pre\">autocommit</span></span><a class=\"headerlink\" href=\"#sqlite3.Connection.autocommit\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This attribute controls <span class=\"target\" id=\"index-4\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/\"><strong>PEP 249</strong></a>-compliant transaction behaviour.\n<code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code> has three allowed values:</p>\n<ul>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>: Select <span class=\"target\" id=\"index-5\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/\"><strong>PEP 249</strong></a>-compliant transaction behaviour,\nimplying that <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> ensures a transaction is always open.\nUse <a class=\"reference internal\" href=\"#sqlite3.Connection.commit\" title=\"sqlite3.Connection.commit\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">commit()</span></code></a> and <a class=\"reference internal\" href=\"#sqlite3.Connection.rollback\" title=\"sqlite3.Connection.rollback\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">rollback()</span></code></a> to close transactions.</p>\n<p>This is the recommended value of <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code>.</p>\n</li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>: Use SQLite’s <a class=\"reference external\" href=\"https://www.sqlite.org/lang_transaction.html#implicit_versus_explicit_transactions\">autocommit mode</a>.\n<a class=\"reference internal\" href=\"#sqlite3.Connection.commit\" title=\"sqlite3.Connection.commit\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">commit()</span></code></a> and <a class=\"reference internal\" href=\"#sqlite3.Connection.rollback\" title=\"sqlite3.Connection.rollback\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">rollback()</span></code></a> have no effect in this mode.</p></li>\n<li><p><a class=\"reference internal\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"sqlite3.LEGACY_TRANSACTION_CONTROL\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></code></a>:\nPre-Python 3.12 (non-<span class=\"target\" id=\"index-6\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/\"><strong>PEP 249</strong></a>-compliant) transaction control.\nSee <a class=\"reference internal\" href=\"#sqlite3.Connection.isolation_level\" title=\"sqlite3.Connection.isolation_level\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code></a> for more details.</p>\n<p>This is currently the default value of <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code>.</p>\n</li>\n</ul>\n<p>Changing <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> will open a new transaction,\nand changing it to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> will commit any pending transaction.</p>\n<p>See <a class=\"reference internal\" href=\"#sqlite3-transaction-control-autocommit\"><span class=\"std std-ref\">Transaction control via the autocommit attribute</span></a> for more details.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The <a class=\"reference internal\" href=\"#sqlite3.Connection.isolation_level\" title=\"sqlite3.Connection.isolation_level\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code></a> attribute has no effect unless\n<a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> is <a class=\"reference internal\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"sqlite3.LEGACY_TRANSACTION_CONTROL\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></code></a>.</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.12.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.in_transaction\">\n<span class=\"sig-name descname\"><span class=\"pre\">in_transaction</span></span><a class=\"headerlink\" href=\"#sqlite3.Connection.in_transaction\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This read-only attribute corresponds to the low-level SQLite\n<a class=\"reference external\" href=\"https://www.sqlite.org/lang_transaction.html#implicit_versus_explicit_transactions\">autocommit mode</a>.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if a transaction is active (there are uncommitted changes),\n<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> otherwise.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.isolation_level\">\n<span class=\"sig-name descname\"><span class=\"pre\">isolation_level</span></span><a class=\"headerlink\" href=\"#sqlite3.Connection.isolation_level\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Controls the <a class=\"reference internal\" href=\"#sqlite3-transaction-control-isolation-level\"><span class=\"std std-ref\">legacy transaction handling mode</span></a> of <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code>.\nIf set to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, transactions are never implicitly opened.\nIf set to one of <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;DEFERRED&quot;</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;IMMEDIATE&quot;</span></code>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;EXCLUSIVE&quot;</span></code>,\ncorresponding to the underlying <a class=\"reference external\" href=\"https://www.sqlite.org/lang_transaction.html#deferred_immediate_and_exclusive_transactions\">SQLite transaction behaviour</a>,\n<a class=\"reference internal\" href=\"#sqlite3-transaction-control-isolation-level\"><span class=\"std std-ref\">implicit transaction management</span></a> is performed.</p>\n<p>If not overridden by the <em>isolation_level</em> parameter of <a class=\"reference internal\" href=\"#sqlite3.connect\" title=\"sqlite3.connect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">connect()</span></code></a>,\nthe default is <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;&quot;</span></code>, which is an alias for <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;DEFERRED&quot;</span></code>.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Using <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> to control transaction handling is\nrecommended over using <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code>.\n<code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code> has no effect unless <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> is\nset to <a class=\"reference internal\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"sqlite3.LEGACY_TRANSACTION_CONTROL\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></code></a> (the default).</p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.row_factory\">\n<span class=\"sig-name descname\"><span class=\"pre\">row_factory</span></span><a class=\"headerlink\" href=\"#sqlite3.Connection.row_factory\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The initial <a class=\"reference internal\" href=\"#sqlite3.Cursor.row_factory\" title=\"sqlite3.Cursor.row_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">row_factory</span></code></a>\nfor <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> objects created from this connection.\nAssigning to this attribute does not affect the <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">row_factory</span></code>\nof existing cursors belonging to this connection, only new ones.\nIs <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> by default,\nmeaning each row is returned as a <a class=\"reference internal\" href=\"stdtypes.html#tuple\" title=\"tuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code></a>.</p>\n<p>See <a class=\"reference internal\" href=\"#sqlite3-howto-row-factory\"><span class=\"std std-ref\">How to create and use row factories</span></a> for more details.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.text_factory\">\n<span class=\"sig-name descname\"><span class=\"pre\">text_factory</span></span><a class=\"headerlink\" href=\"#sqlite3.Connection.text_factory\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a> that accepts a <a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bytes</span></code></a> parameter\nand returns a text representation of it.\nThe callable is invoked for SQLite values with the <code class=\"docutils literal notranslate\"><span class=\"pre\">TEXT</span></code> data type.\nBy default, this attribute is set to <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a>.</p>\n<p>See <a class=\"reference internal\" href=\"#sqlite3-howto-encoding\"><span class=\"std std-ref\">How to handle non-UTF-8 text encodings</span></a> for more details.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Connection.total_changes\">\n<span class=\"sig-name descname\"><span class=\"pre\">total_changes</span></span><a class=\"headerlink\" href=\"#sqlite3.Connection.total_changes\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the total number of database rows that have been modified, inserted, or\ndeleted since the database connection was opened.</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"cursor-objects\">\n<span id=\"sqlite3-cursor-objects\"></span><h3>Cursor objects<a class=\"headerlink\" href=\"#cursor-objects\" title=\"Link to this heading\">¶</a></h3>\n<blockquote>\n<div><p>A <code class=\"docutils literal notranslate\"><span class=\"pre\">Cursor</span></code> object represents a <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Cursor_(databases)\">database cursor</a>\nwhich is used to execute SQL statements,\nand manage the context of a fetch operation.\nCursors are created using <a class=\"reference internal\" href=\"#sqlite3.Connection.cursor\" title=\"sqlite3.Connection.cursor\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.cursor()</span></code></a>,\nor by using any of the <a class=\"reference internal\" href=\"#sqlite3-connection-shortcuts\"><span class=\"std std-ref\">connection shortcut methods</span></a>.</p>\n<p>Cursor objects are <a class=\"reference internal\" href=\"../glossary.html#term-iterator\"><span class=\"xref std std-term\">iterators</span></a>,\nmeaning that if you <a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">execute()</span></code></a> a <code class=\"docutils literal notranslate\"><span class=\"pre\">SELECT</span></code> query,\nyou can simply iterate over the cursor to fetch the resulting rows:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT t FROM data&quot;</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div></blockquote>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Cursor</span></span><a class=\"headerlink\" href=\"#sqlite3.Cursor\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> instance has the following attributes and methods.</p>\n<dl class=\"py method\" id=\"index-8\">\n<span id=\"index-7\"></span><dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.execute\">\n<span class=\"sig-name descname\"><span class=\"pre\">execute</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sql</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">parameters</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">()</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Cursor.execute\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Execute a single SQL statement,\noptionally binding Python values using\n<a class=\"reference internal\" href=\"#sqlite3-placeholders\"><span class=\"std std-ref\">placeholders</span></a>.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>sql</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – A single SQL statement.</p></li>\n<li><p><strong>parameters</strong> (<a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> | <a class=\"reference internal\" href=\"../glossary.html#term-sequence\"><span class=\"xref std std-term\">sequence</span></a>) – Python values to bind to placeholders in <em>sql</em>.\nA <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code> if named placeholders are used.\nA <span class=\"xref std std-term\">sequence</span> if unnamed placeholders are used.\nSee <a class=\"reference internal\" href=\"#sqlite3-placeholders\"><span class=\"std std-ref\">How to use placeholders to bind values in SQL queries</span></a>.</p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Raises<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p><a class=\"reference internal\" href=\"#sqlite3.ProgrammingError\" title=\"sqlite3.ProgrammingError\"><strong>ProgrammingError</strong></a> – When <em>sql</em> contains more than one SQL statement.\nWhen <a class=\"reference internal\" href=\"#sqlite3-placeholders\"><span class=\"std std-ref\">named placeholders</span></a> are used\nand <em>parameters</em> is a sequence instead of a <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a>.</p>\n</dd>\n</dl>\n<p>If <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> is\n<a class=\"reference internal\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"sqlite3.LEGACY_TRANSACTION_CONTROL\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></code></a>,\n<a class=\"reference internal\" href=\"#sqlite3.Connection.isolation_level\" title=\"sqlite3.Connection.isolation_level\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code></a> is not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>,\n<em>sql</em> is an <code class=\"docutils literal notranslate\"><span class=\"pre\">INSERT</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">UPDATE</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">DELETE</span></code>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">REPLACE</span></code> statement,\nand there is no open transaction,\na transaction is implicitly opened before executing <em>sql</em>.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14: </span><a class=\"reference internal\" href=\"#sqlite3.ProgrammingError\" title=\"sqlite3.ProgrammingError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ProgrammingError</span></code></a> is emitted if\n<a class=\"reference internal\" href=\"#sqlite3-placeholders\"><span class=\"std std-ref\">named placeholders</span></a> are used\nand <em>parameters</em> is a sequence instead of a <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a>.</p>\n</div>\n<p>Use <a class=\"reference internal\" href=\"#sqlite3.Cursor.executescript\" title=\"sqlite3.Cursor.executescript\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">executescript()</span></code></a> to execute multiple SQL statements.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.executemany\">\n<span class=\"sig-name descname\"><span class=\"pre\">executemany</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sql</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">parameters</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Cursor.executemany\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>For every item in <em>parameters</em>,\nrepeatedly execute the <a class=\"reference internal\" href=\"#sqlite3-placeholders\"><span class=\"std std-ref\">parameterized</span></a>\n<abbr title=\"Data Manipulation Language\">DML</abbr> SQL statement <em>sql</em>.</p>\n<p>Uses the same implicit transaction handling as <a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">execute()</span></code></a>.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>sql</strong> (<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><em>str</em></a>) – A single SQL DML statement.</p></li>\n<li><p><strong>parameters</strong> (<a class=\"reference internal\" href=\"../glossary.html#term-iterable\"><span class=\"xref std std-term\">iterable</span></a>) – An <span class=\"xref std std-term\">iterable</span> of parameters to bind with\nthe placeholders in <em>sql</em>.\nSee <a class=\"reference internal\" href=\"#sqlite3-placeholders\"><span class=\"std std-ref\">How to use placeholders to bind values in SQL queries</span></a>.</p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Raises<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p><a class=\"reference internal\" href=\"#sqlite3.ProgrammingError\" title=\"sqlite3.ProgrammingError\"><strong>ProgrammingError</strong></a> – When <em>sql</em> contains more than one SQL statement\nor is not a DML statement,\nWhen <a class=\"reference internal\" href=\"#sqlite3-placeholders\"><span class=\"std std-ref\">named placeholders</span></a> are used\nand the items in <em>parameters</em> are sequences instead of <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a>s.</p>\n</dd>\n</dl>\n<p>Example:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">rows</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;row1&quot;</span><span class=\"p\">,),</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;row2&quot;</span><span class=\"p\">,),</span>\n<span class=\"p\">]</span>\n<span class=\"c1\"># cur is an sqlite3.Cursor object</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">executemany</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO data VALUES(?)&quot;</span><span class=\"p\">,</span> <span class=\"n\">rows</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Any resulting rows are discarded,\nincluding DML statements with <a class=\"reference external\" href=\"https://www.sqlite.org/lang_returning.html\">RETURNING clauses</a>.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14: </span><a class=\"reference internal\" href=\"#sqlite3.ProgrammingError\" title=\"sqlite3.ProgrammingError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ProgrammingError</span></code></a> is emitted if\n<a class=\"reference internal\" href=\"#sqlite3-placeholders\"><span class=\"std std-ref\">named placeholders</span></a> are used\nand the items in <em>parameters</em> are sequences\ninstead of <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a>s.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.executescript\">\n<span class=\"sig-name descname\"><span class=\"pre\">executescript</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sql_script</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Cursor.executescript\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Execute the SQL statements in <em>sql_script</em>.\nIf the <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> is\n<a class=\"reference internal\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"sqlite3.LEGACY_TRANSACTION_CONTROL\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></code></a>\nand there is a pending transaction,\nan implicit <code class=\"docutils literal notranslate\"><span class=\"pre\">COMMIT</span></code> statement is executed first.\nNo other implicit transaction control is performed;\nany transaction control must be added to <em>sql_script</em>.</p>\n<p><em>sql_script</em> must be a <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">string</span></code></a>.</p>\n<p>Example:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># cur is an sqlite3.Cursor object</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">executescript</span><span class=\"p\">(</span><span class=\"s2\">&quot;&quot;&quot;</span>\n<span class=\"s2\">    BEGIN;</span>\n<span class=\"s2\">    CREATE TABLE person(firstname, lastname, age);</span>\n<span class=\"s2\">    CREATE TABLE book(title, author, published);</span>\n<span class=\"s2\">    CREATE TABLE publisher(name, address);</span>\n<span class=\"s2\">    COMMIT;</span>\n<span class=\"s2\">&quot;&quot;&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.fetchone\">\n<span class=\"sig-name descname\"><span class=\"pre\">fetchone</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Cursor.fetchone\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>If <a class=\"reference internal\" href=\"#sqlite3.Cursor.row_factory\" title=\"sqlite3.Cursor.row_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">row_factory</span></code></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>,\nreturn the next row query result set as a <a class=\"reference internal\" href=\"stdtypes.html#tuple\" title=\"tuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code></a>.\nElse, pass it to the row factory and return its result.\nReturn <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> if no more data is available.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.fetchmany\">\n<span class=\"sig-name descname\"><span class=\"pre\">fetchmany</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">cursor.arraysize</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Cursor.fetchmany\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the next set of rows of a query result as a <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a>.\nReturn an empty list if no more rows are available.</p>\n<p>The number of rows to fetch per call is specified by the <em>size</em> parameter.\nIf <em>size</em> is not given, <a class=\"reference internal\" href=\"#sqlite3.Cursor.arraysize\" title=\"sqlite3.Cursor.arraysize\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">arraysize</span></code></a> determines the number of rows\nto be fetched.\nIf fewer than <em>size</em> rows are available,\nas many rows as are available are returned.</p>\n<p>Note there are performance considerations involved with the <em>size</em> parameter.\nFor optimal performance, it is usually best to use the arraysize attribute.\nIf the <em>size</em> parameter is used, then it is best for it to retain the same\nvalue from one <a class=\"reference internal\" href=\"#sqlite3.Cursor.fetchmany\" title=\"sqlite3.Cursor.fetchmany\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">fetchmany()</span></code></a> call to the next.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14.0 (unreleased): </span>Negative <em>size</em> values are rejected by raising <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.fetchall\">\n<span class=\"sig-name descname\"><span class=\"pre\">fetchall</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Cursor.fetchall\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return all (remaining) rows of a query result as a <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a>.\nReturn an empty list if no rows are available.\nNote that the <a class=\"reference internal\" href=\"#sqlite3.Cursor.arraysize\" title=\"sqlite3.Cursor.arraysize\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">arraysize</span></code></a> attribute can affect the performance of\nthis operation.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Cursor.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Close the cursor now (rather than whenever <code class=\"docutils literal notranslate\"><span class=\"pre\">__del__</span></code> is called).</p>\n<p>The cursor will be unusable from this point forward; a <a class=\"reference internal\" href=\"#sqlite3.ProgrammingError\" title=\"sqlite3.ProgrammingError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ProgrammingError</span></code></a>\nexception will be raised if any operation is attempted with the cursor.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.setinputsizes\">\n<span class=\"sig-name descname\"><span class=\"pre\">setinputsizes</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sizes</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Cursor.setinputsizes\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Required by the DB-API. Does nothing in <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.setoutputsize\">\n<span class=\"sig-name descname\"><span class=\"pre\">setoutputsize</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">column</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Cursor.setoutputsize\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Required by the DB-API. Does nothing in <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.arraysize\">\n<span class=\"sig-name descname\"><span class=\"pre\">arraysize</span></span><a class=\"headerlink\" href=\"#sqlite3.Cursor.arraysize\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Read/write attribute that controls the number of rows returned by <a class=\"reference internal\" href=\"#sqlite3.Cursor.fetchmany\" title=\"sqlite3.Cursor.fetchmany\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">fetchmany()</span></code></a>.\nThe default value is 1 which means a single row would be fetched per call.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14.0 (unreleased): </span>Negative values are rejected by raising <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.connection\">\n<span class=\"sig-name descname\"><span class=\"pre\">connection</span></span><a class=\"headerlink\" href=\"#sqlite3.Cursor.connection\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Read-only attribute that provides the SQLite database <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a>\nbelonging to the cursor.  A <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> object created by\ncalling <a class=\"reference internal\" href=\"#sqlite3.Connection.cursor\" title=\"sqlite3.Connection.cursor\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">con.cursor()</span></code></a> will have a\n<a class=\"reference internal\" href=\"#sqlite3.Cursor.connection\" title=\"sqlite3.Cursor.connection\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">connection</span></code></a> attribute that refers to <em>con</em>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">cursor</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">connection</span> <span class=\"o\">==</span> <span class=\"n\">con</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.description\">\n<span class=\"sig-name descname\"><span class=\"pre\">description</span></span><a class=\"headerlink\" href=\"#sqlite3.Cursor.description\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Read-only attribute that provides the column names of the last query. To\nremain compatible with the Python DB API, it returns a 7-tuple for each\ncolumn where the last six items of each tuple are <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n<p>It is set for <code class=\"docutils literal notranslate\"><span class=\"pre\">SELECT</span></code> statements without any matching rows as well.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.lastrowid\">\n<span class=\"sig-name descname\"><span class=\"pre\">lastrowid</span></span><a class=\"headerlink\" href=\"#sqlite3.Cursor.lastrowid\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Read-only attribute that provides the row id of the last inserted row. It\nis only updated after successful <code class=\"docutils literal notranslate\"><span class=\"pre\">INSERT</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">REPLACE</span></code> statements\nusing the <a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">execute()</span></code></a> method.  For other statements, after\n<a class=\"reference internal\" href=\"#sqlite3.Cursor.executemany\" title=\"sqlite3.Cursor.executemany\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">executemany()</span></code></a> or <a class=\"reference internal\" href=\"#sqlite3.Cursor.executescript\" title=\"sqlite3.Cursor.executescript\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">executescript()</span></code></a>, or if the insertion failed,\nthe value of <code class=\"docutils literal notranslate\"><span class=\"pre\">lastrowid</span></code> is left unchanged.  The initial value of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">lastrowid</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Inserts into <code class=\"docutils literal notranslate\"><span class=\"pre\">WITHOUT</span> <span class=\"pre\">ROWID</span></code> tables are not recorded.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span>Added support for the <code class=\"docutils literal notranslate\"><span class=\"pre\">REPLACE</span></code> statement.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.rowcount\">\n<span class=\"sig-name descname\"><span class=\"pre\">rowcount</span></span><a class=\"headerlink\" href=\"#sqlite3.Cursor.rowcount\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Read-only attribute that provides the number of modified rows for\n<code class=\"docutils literal notranslate\"><span class=\"pre\">INSERT</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">UPDATE</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">DELETE</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">REPLACE</span></code> statements;\nis <code class=\"docutils literal notranslate\"><span class=\"pre\">-1</span></code> for other statements,\nincluding <abbr title=\"Common Table Expression\">CTE</abbr> queries.\nIt is only updated by the <a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">execute()</span></code></a> and <a class=\"reference internal\" href=\"#sqlite3.Cursor.executemany\" title=\"sqlite3.Cursor.executemany\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">executemany()</span></code></a> methods,\nafter the statement has run to completion.\nThis means that any resulting rows must be fetched in order for\n<code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">rowcount</span></code> to be updated.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Cursor.row_factory\">\n<span class=\"sig-name descname\"><span class=\"pre\">row_factory</span></span><a class=\"headerlink\" href=\"#sqlite3.Cursor.row_factory\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Control how a row fetched from this <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code> is represented.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, a row is represented as a <a class=\"reference internal\" href=\"stdtypes.html#tuple\" title=\"tuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code></a>.\nCan be set to the included <a class=\"reference internal\" href=\"#sqlite3.Row\" title=\"sqlite3.Row\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">sqlite3.Row</span></code></a>;\nor a <a class=\"reference internal\" href=\"../glossary.html#term-callable\"><span class=\"xref std std-term\">callable</span></a> that accepts two arguments,\na <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> object and the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code> of row values,\nand returns a custom object representing an SQLite row.</p>\n<p>Defaults to what <a class=\"reference internal\" href=\"#sqlite3.Connection.row_factory\" title=\"sqlite3.Connection.row_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.row_factory</span></code></a> was set to\nwhen the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code> was created.\nAssigning to this attribute does not affect\n<a class=\"reference internal\" href=\"#sqlite3.Connection.row_factory\" title=\"sqlite3.Connection.row_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.row_factory</span></code></a> of the parent connection.</p>\n<p>See <a class=\"reference internal\" href=\"#sqlite3-howto-row-factory\"><span class=\"std std-ref\">How to create and use row factories</span></a> for more details.</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"row-objects\">\n<span id=\"sqlite3-row-objects\"></span><span id=\"sqlite3-columns-by-name\"></span><h3>Row objects<a class=\"headerlink\" href=\"#row-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Row\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Row</span></span><a class=\"headerlink\" href=\"#sqlite3.Row\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Row</span></code> instance serves as a highly optimized\n<a class=\"reference internal\" href=\"#sqlite3.Connection.row_factory\" title=\"sqlite3.Connection.row_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">row_factory</span></code></a> for <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> objects.\nIt supports iteration, equality testing, <a class=\"reference internal\" href=\"functions.html#len\" title=\"len\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">len()</span></code></a>,\nand <a class=\"reference internal\" href=\"../glossary.html#term-mapping\"><span class=\"xref std std-term\">mapping</span></a> access by column name and index.</p>\n<p>Two <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Row</span></code> objects compare equal\nif they have identical column names and values.</p>\n<p>See <a class=\"reference internal\" href=\"#sqlite3-howto-row-factory\"><span class=\"std std-ref\">How to create and use row factories</span></a> for more details.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Row.keys\">\n<span class=\"sig-name descname\"><span class=\"pre\">keys</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Row.keys\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> of column names as <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">strings</span></code></a>.\nImmediately after a query,\nit is the first member of each tuple in <a class=\"reference internal\" href=\"#sqlite3.Cursor.description\" title=\"sqlite3.Cursor.description\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Cursor.description</span></code></a>.</p>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.5: </span>Added support of slicing.</p>\n</div>\n</dd></dl>\n\n</section>\n<section id=\"blob-objects\">\n<span id=\"sqlite3-blob-objects\"></span><h3>Blob objects<a class=\"headerlink\" href=\"#blob-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Blob\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Blob</span></span><a class=\"headerlink\" href=\"#sqlite3.Blob\" title=\"Link to this definition\">¶</a></dt>\n<dd><div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n<p>A <a class=\"reference internal\" href=\"#sqlite3.Blob\" title=\"sqlite3.Blob\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Blob</span></code></a> instance is a <a class=\"reference internal\" href=\"../glossary.html#term-file-like-object\"><span class=\"xref std std-term\">file-like object</span></a>\nthat can read and write data in an SQLite <abbr title=\"Binary Large OBject\">BLOB</abbr>.\nCall <a class=\"reference internal\" href=\"functions.html#len\" title=\"len\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">len(blob)</span></code></a> to get the size (number of bytes) of the blob.\nUse indices and <a class=\"reference internal\" href=\"../glossary.html#term-slice\"><span class=\"xref std std-term\">slices</span></a> for direct access to the blob data.</p>\n<p>Use the <a class=\"reference internal\" href=\"#sqlite3.Blob\" title=\"sqlite3.Blob\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Blob</span></code></a> as a <a class=\"reference internal\" href=\"../glossary.html#term-context-manager\"><span class=\"xref std std-term\">context manager</span></a> to ensure that the blob\nhandle is closed after use.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE test(blob_col blob)&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO test(blob_col) VALUES(zeroblob(13))&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Write to our blob, using two write operations:</span>\n<span class=\"k\">with</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">blobopen</span><span class=\"p\">(</span><span class=\"s2\">&quot;test&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;blob_col&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">blob</span><span class=\"p\">:</span>\n    <span class=\"n\">blob</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;hello, &quot;</span><span class=\"p\">)</span>\n    <span class=\"n\">blob</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;world.&quot;</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Modify the first and last bytes of our blob</span>\n    <span class=\"n\">blob</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nb\">ord</span><span class=\"p\">(</span><span class=\"s2\">&quot;H&quot;</span><span class=\"p\">)</span>\n    <span class=\"n\">blob</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nb\">ord</span><span class=\"p\">(</span><span class=\"s2\">&quot;!&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Read the contents of our blob</span>\n<span class=\"k\">with</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">blobopen</span><span class=\"p\">(</span><span class=\"s2\">&quot;test&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;blob_col&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">blob</span><span class=\"p\">:</span>\n    <span class=\"n\">greeting</span> <span class=\"o\">=</span> <span class=\"n\">blob</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">greeting</span><span class=\"p\">)</span>  <span class=\"c1\"># outputs &quot;b&#39;Hello, world!&#39;&quot;</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Blob.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Blob.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Close the blob.</p>\n<p>The blob will be unusable from this point onward.  An\n<a class=\"reference internal\" href=\"#sqlite3.Error\" title=\"sqlite3.Error\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Error</span></code></a> (or subclass) exception will be raised if any\nfurther operation is attempted with the blob.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Blob.read\">\n<span class=\"sig-name descname\"><span class=\"pre\">read</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">length</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">-1</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Blob.read\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Read <em>length</em> bytes of data from the blob at the current offset position.\nIf the end of the blob is reached, the data up to\n<abbr title=\"End of File\">EOF</abbr> will be returned.  When <em>length</em> is not\nspecified, or is negative, <a class=\"reference internal\" href=\"#sqlite3.Blob.read\" title=\"sqlite3.Blob.read\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">read()</span></code></a> will read until the end of\nthe blob.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Blob.write\">\n<span class=\"sig-name descname\"><span class=\"pre\">write</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">data</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Blob.write\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Write <em>data</em> to the blob at the current offset.  This function cannot\nchange the blob length.  Writing beyond the end of the blob will raise\n<a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Blob.tell\">\n<span class=\"sig-name descname\"><span class=\"pre\">tell</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Blob.tell\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the current access position of the blob.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Blob.seek\">\n<span class=\"sig-name descname\"><span class=\"pre\">seek</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">offset</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">origin</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">os.SEEK_SET</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#sqlite3.Blob.seek\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the current access position of the blob to <em>offset</em>.  The <em>origin</em>\nargument defaults to <a class=\"reference internal\" href=\"os.html#os.SEEK_SET\" title=\"os.SEEK_SET\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">os.SEEK_SET</span></code></a> (absolute blob positioning).\nOther values for <em>origin</em> are <a class=\"reference internal\" href=\"os.html#os.SEEK_CUR\" title=\"os.SEEK_CUR\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">os.SEEK_CUR</span></code></a> (seek relative to the\ncurrent position) and <a class=\"reference internal\" href=\"os.html#os.SEEK_END\" title=\"os.SEEK_END\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">os.SEEK_END</span></code></a> (seek relative to the blob’s\nend).</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"prepareprotocol-objects\">\n<h3>PrepareProtocol objects<a class=\"headerlink\" href=\"#prepareprotocol-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.PrepareProtocol\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">PrepareProtocol</span></span><a class=\"headerlink\" href=\"#sqlite3.PrepareProtocol\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The PrepareProtocol type’s single purpose is to act as a <span class=\"target\" id=\"index-9\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0246/\"><strong>PEP 246</strong></a> style\nadaption protocol for objects that can <a class=\"reference internal\" href=\"#sqlite3-conform\"><span class=\"std std-ref\">adapt themselves</span></a> to <a class=\"reference internal\" href=\"#sqlite3-types\"><span class=\"std std-ref\">native SQLite types</span></a>.</p>\n</dd></dl>\n\n</section>\n<section id=\"exceptions\">\n<span id=\"sqlite3-exceptions\"></span><h3>Exceptions<a class=\"headerlink\" href=\"#exceptions\" title=\"Link to this heading\">¶</a></h3>\n<p>The exception hierarchy is defined by the DB-API 2.0 (<span class=\"target\" id=\"index-10\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/\"><strong>PEP 249</strong></a>).</p>\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Warning\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Warning</span></span><a class=\"headerlink\" href=\"#sqlite3.Warning\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This exception is not currently raised by the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module,\nbut may be raised by applications using <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code>,\nfor example if a user-defined function truncates data while inserting.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">Warning</span></code> is a subclass of <a class=\"reference internal\" href=\"exceptions.html#Exception\" title=\"Exception\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">Exception</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Error\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Error</span></span><a class=\"headerlink\" href=\"#sqlite3.Error\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The base class of the other exceptions in this module.\nUse this to catch all errors with one single <a class=\"reference internal\" href=\"../reference/compound_stmts.html#except\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">except</span></code></a> statement.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">Error</span></code> is a subclass of <a class=\"reference internal\" href=\"exceptions.html#Exception\" title=\"Exception\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">Exception</span></code></a>.</p>\n<p>If the exception originated from within the SQLite library,\nthe following two attributes are added to the exception:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Error.sqlite_errorcode\">\n<span class=\"sig-name descname\"><span class=\"pre\">sqlite_errorcode</span></span><a class=\"headerlink\" href=\"#sqlite3.Error.sqlite_errorcode\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The numeric error code from the\n<a class=\"reference external\" href=\"https://sqlite.org/rescode.html\">SQLite API</a></p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.Error.sqlite_errorname\">\n<span class=\"sig-name descname\"><span class=\"pre\">sqlite_errorname</span></span><a class=\"headerlink\" href=\"#sqlite3.Error.sqlite_errorname\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The symbolic name of the numeric error code\nfrom the <a class=\"reference external\" href=\"https://sqlite.org/rescode.html\">SQLite API</a></p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.InterfaceError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">InterfaceError</span></span><a class=\"headerlink\" href=\"#sqlite3.InterfaceError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Exception raised for misuse of the low-level SQLite C API.\nIn other words, if this exception is raised, it probably indicates a bug in the\n<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">InterfaceError</span></code> is a subclass of <a class=\"reference internal\" href=\"#sqlite3.Error\" title=\"sqlite3.Error\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">Error</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.DatabaseError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">DatabaseError</span></span><a class=\"headerlink\" href=\"#sqlite3.DatabaseError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Exception raised for errors that are related to the database.\nThis serves as the base exception for several types of database errors.\nIt is only raised implicitly through the specialised subclasses.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">DatabaseError</span></code> is a subclass of <a class=\"reference internal\" href=\"#sqlite3.Error\" title=\"sqlite3.Error\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">Error</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.DataError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">DataError</span></span><a class=\"headerlink\" href=\"#sqlite3.DataError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Exception raised for errors caused by problems with the processed data,\nlike numeric values out of range, and strings which are too long.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">DataError</span></code> is a subclass of <a class=\"reference internal\" href=\"#sqlite3.DatabaseError\" title=\"sqlite3.DatabaseError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">DatabaseError</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.OperationalError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">OperationalError</span></span><a class=\"headerlink\" href=\"#sqlite3.OperationalError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Exception raised for errors that are related to the database’s operation,\nand not necessarily under the control of the programmer.\nFor example, the database path is not found,\nor a transaction could not be processed.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">OperationalError</span></code> is a subclass of <a class=\"reference internal\" href=\"#sqlite3.DatabaseError\" title=\"sqlite3.DatabaseError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">DatabaseError</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.IntegrityError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">IntegrityError</span></span><a class=\"headerlink\" href=\"#sqlite3.IntegrityError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Exception raised when the relational integrity of the database is affected,\ne.g. a foreign key check fails.  It is a subclass of <a class=\"reference internal\" href=\"#sqlite3.DatabaseError\" title=\"sqlite3.DatabaseError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">DatabaseError</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.InternalError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">InternalError</span></span><a class=\"headerlink\" href=\"#sqlite3.InternalError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Exception raised when SQLite encounters an internal error.\nIf this is raised, it may indicate that there is a problem with the runtime\nSQLite library.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">InternalError</span></code> is a subclass of <a class=\"reference internal\" href=\"#sqlite3.DatabaseError\" title=\"sqlite3.DatabaseError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">DatabaseError</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.ProgrammingError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">ProgrammingError</span></span><a class=\"headerlink\" href=\"#sqlite3.ProgrammingError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Exception raised for <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> API programming errors,\nfor example supplying the wrong number of bindings to a query,\nor trying to operate on a closed <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a>.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ProgrammingError</span></code> is a subclass of <a class=\"reference internal\" href=\"#sqlite3.DatabaseError\" title=\"sqlite3.DatabaseError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">DatabaseError</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"sqlite3.NotSupportedError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">sqlite3.</span></span><span class=\"sig-name descname\"><span class=\"pre\">NotSupportedError</span></span><a class=\"headerlink\" href=\"#sqlite3.NotSupportedError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Exception raised in case a method or database API is not supported by the\nunderlying SQLite library. For example, setting <em>deterministic</em> to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> in <a class=\"reference internal\" href=\"#sqlite3.Connection.create_function\" title=\"sqlite3.Connection.create_function\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">create_function()</span></code></a>, if the underlying SQLite library\ndoes not support deterministic functions.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">NotSupportedError</span></code> is a subclass of <a class=\"reference internal\" href=\"#sqlite3.DatabaseError\" title=\"sqlite3.DatabaseError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">DatabaseError</span></code></a>.</p>\n</dd></dl>\n\n</section>\n<section id=\"sqlite-and-python-types\">\n<span id=\"sqlite3-types\"></span><h3>SQLite and Python types<a class=\"headerlink\" href=\"#sqlite-and-python-types\" title=\"Link to this heading\">¶</a></h3>\n<p>SQLite natively supports the following types: <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">INTEGER</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">REAL</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">TEXT</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">BLOB</span></code>.</p>\n<p>The following Python types can thus be sent to SQLite without any problem:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Python type</p></th>\n<th class=\"head\"><p>SQLite type</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">INTEGER</span></code></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"functions.html#float\" title=\"float\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">float</span></code></a></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">REAL</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">TEXT</span></code></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bytes</span></code></a></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">BLOB</span></code></p></td>\n</tr>\n</tbody>\n</table>\n<p>This is how SQLite types are converted to Python types by default:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>SQLite type</p></th>\n<th class=\"head\"><p>Python type</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">INTEGER</span></code></p></td>\n<td><p><a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">REAL</span></code></p></td>\n<td><p><a class=\"reference internal\" href=\"functions.html#float\" title=\"float\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">float</span></code></a></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">TEXT</span></code></p></td>\n<td><p>depends on <a class=\"reference internal\" href=\"#sqlite3.Connection.text_factory\" title=\"sqlite3.Connection.text_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">text_factory</span></code></a>,\n<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a> by default</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">BLOB</span></code></p></td>\n<td><p><a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bytes</span></code></a></p></td>\n</tr>\n</tbody>\n</table>\n<p>The type system of the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module is extensible in two ways: you can\nstore additional Python types in an SQLite database via\n<a class=\"reference internal\" href=\"#sqlite3-adapters\"><span class=\"std std-ref\">object adapters</span></a>,\nand you can let the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module convert SQLite types to\nPython types via <a class=\"reference internal\" href=\"#sqlite3-converters\"><span class=\"std std-ref\">converters</span></a>.</p>\n</section>\n<section id=\"default-adapters-and-converters-deprecated\">\n<span id=\"sqlite3-default-converters\"></span><h3>Default adapters and converters (deprecated)<a class=\"headerlink\" href=\"#default-adapters-and-converters-deprecated\" title=\"Link to this heading\">¶</a></h3>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The default adapters and converters are deprecated as of Python 3.12.\nInstead, use the <a class=\"reference internal\" href=\"#sqlite3-adapter-converter-recipes\"><span class=\"std std-ref\">Adapter and converter recipes</span></a>\nand tailor them to your needs.</p>\n</div>\n<p>The deprecated default adapters and converters consist of:</p>\n<ul class=\"simple\">\n<li><p>An adapter for <a class=\"reference internal\" href=\"datetime.html#datetime.date\" title=\"datetime.date\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">datetime.date</span></code></a> objects to <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">strings</span></code></a> in\n<a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> format.</p></li>\n<li><p>An adapter for <a class=\"reference internal\" href=\"datetime.html#datetime.datetime\" title=\"datetime.datetime\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">datetime.datetime</span></code></a> objects to strings in\nISO 8601 format.</p></li>\n<li><p>A converter for <a class=\"reference internal\" href=\"#sqlite3-converters\"><span class=\"std std-ref\">declared</span></a> “date” types to\n<a class=\"reference internal\" href=\"datetime.html#datetime.date\" title=\"datetime.date\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">datetime.date</span></code></a> objects.</p></li>\n<li><p>A converter for declared “timestamp” types to\n<a class=\"reference internal\" href=\"datetime.html#datetime.datetime\" title=\"datetime.datetime\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">datetime.datetime</span></code></a> objects.\nFractional parts will be truncated to 6 digits (microsecond precision).</p></li>\n</ul>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The default “timestamp” converter ignores UTC offsets in the database and\nalways returns a naive <a class=\"reference internal\" href=\"datetime.html#datetime.datetime\" title=\"datetime.datetime\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">datetime.datetime</span></code></a> object. To preserve UTC\noffsets in timestamps, either leave converters disabled, or register an\noffset-aware converter with <a class=\"reference internal\" href=\"#sqlite3.register_converter\" title=\"sqlite3.register_converter\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">register_converter()</span></code></a>.</p>\n</div>\n<div class=\"deprecated\">\n<p><span class=\"versionmodified deprecated\">Deprecated since version 3.12.</span></p>\n</div>\n</section>\n<section id=\"command-line-interface\">\n<span id=\"sqlite3-cli\"></span><h3>Command-line interface<a class=\"headerlink\" href=\"#command-line-interface\" title=\"Link to this heading\">¶</a></h3>\n<p>The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module can be invoked as a script,\nusing the interpreter’s <a class=\"reference internal\" href=\"../using/cmdline.html#cmdoption-m\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">-m</span></code></a> switch,\nin order to provide a simple SQLite shell.\nThe argument signature is as follows:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">python</span> <span class=\"o\">-</span><span class=\"n\">m</span> <span class=\"n\">sqlite3</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"n\">h</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">filename</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">sql</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n<p>Type <code class=\"docutils literal notranslate\"><span class=\"pre\">.quit</span></code> or CTRL-D to exit the shell.</p>\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-python-m-sqlite3-h-v-filename-sql-h\">\n<span id=\"cmdoption-python-m-sqlite3-h-v-filename-sql-help\"></span><span class=\"sig-name descname\"><span class=\"pre\">-h</span></span><span class=\"sig-prename descclassname\"></span><span class=\"sig-prename descclassname\"><span class=\"pre\">,</span> </span><span class=\"sig-name descname\"><span class=\"pre\">--help</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-python-m-sqlite3-h-v-filename-sql-h\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Print CLI help.</p>\n</dd></dl>\n\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-python-m-sqlite3-h-v-filename-sql-v\">\n<span id=\"cmdoption-python-m-sqlite3-h-v-filename-sql-version\"></span><span class=\"sig-name descname\"><span class=\"pre\">-v</span></span><span class=\"sig-prename descclassname\"></span><span class=\"sig-prename descclassname\"><span class=\"pre\">,</span> </span><span class=\"sig-name descname\"><span class=\"pre\">--version</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-python-m-sqlite3-h-v-filename-sql-v\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Print underlying SQLite library version.</p>\n</dd></dl>\n\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.12.</span></p>\n</div>\n</section>\n</section>\n<section id=\"how-to-guides\">\n<span id=\"sqlite3-howtos\"></span><h2>How-to guides<a class=\"headerlink\" href=\"#how-to-guides\" title=\"Link to this heading\">¶</a></h2>\n<section id=\"how-to-use-placeholders-to-bind-values-in-sql-queries\">\n<span id=\"sqlite3-placeholders\"></span><h3>How to use placeholders to bind values in SQL queries<a class=\"headerlink\" href=\"#how-to-use-placeholders-to-bind-values-in-sql-queries\" title=\"Link to this heading\">¶</a></h3>\n<p>SQL operations usually need to use values from Python variables. However,\nbeware of using Python’s string operations to assemble queries, as they\nare vulnerable to <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/SQL_injection\">SQL injection attacks</a>. For example, an attacker can simply\nclose the single quote and inject <code class=\"docutils literal notranslate\"><span class=\"pre\">OR</span> <span class=\"pre\">TRUE</span></code> to select all rows:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Never do this -- insecure!</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">symbol</span> <span class=\"o\">=</span> <span class=\"nb\">input</span><span class=\"p\">()</span>\n<span class=\"go\">&#39; OR TRUE; --</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sql</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;SELECT * FROM stocks WHERE symbol = &#39;</span><span class=\"si\">%s</span><span class=\"s2\">&#39;&quot;</span> <span class=\"o\">%</span> <span class=\"n\">symbol</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">sql</span><span class=\"p\">)</span>\n<span class=\"go\">SELECT * FROM stocks WHERE symbol = &#39;&#39; OR TRUE; --&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">sql</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Instead, use the DB-API’s parameter substitution. To insert a variable into a\nquery string, use a placeholder in the string, and substitute the actual values\ninto the query by providing them as a <a class=\"reference internal\" href=\"stdtypes.html#tuple\" title=\"tuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code></a> of values to the second\nargument of the cursor’s <a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">execute()</span></code></a> method.</p>\n<p>An SQL statement may use one of two kinds of placeholders:\nquestion marks (qmark style) or named placeholders (named style).\nFor the qmark style, <em>parameters</em> must be a\n<a class=\"reference internal\" href=\"../glossary.html#term-sequence\"><span class=\"xref std std-term\">sequence</span></a> whose length must match the number of placeholders,\nor a <a class=\"reference internal\" href=\"#sqlite3.ProgrammingError\" title=\"sqlite3.ProgrammingError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ProgrammingError</span></code></a> is raised.\nFor the named style, <em>parameters</em> must be\nan instance of a <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> (or a subclass),\nwhich must contain keys for all named parameters;\nany extra items are ignored.\nHere’s an example of both styles:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE lang(name, first_appeared)&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># This is the named style used with executemany():</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"p\">{</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;C&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;year&quot;</span><span class=\"p\">:</span> <span class=\"mi\">1972</span><span class=\"p\">},</span>\n    <span class=\"p\">{</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Fortran&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;year&quot;</span><span class=\"p\">:</span> <span class=\"mi\">1957</span><span class=\"p\">},</span>\n    <span class=\"p\">{</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Python&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;year&quot;</span><span class=\"p\">:</span> <span class=\"mi\">1991</span><span class=\"p\">},</span>\n    <span class=\"p\">{</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Go&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;year&quot;</span><span class=\"p\">:</span> <span class=\"mi\">2009</span><span class=\"p\">},</span>\n<span class=\"p\">)</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">executemany</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO lang VALUES(:name, :year)&quot;</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># This is the qmark style used in a SELECT query:</span>\n<span class=\"n\">params</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">1972</span><span class=\"p\">,)</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT * FROM lang WHERE first_appeared = ?&quot;</span><span class=\"p\">,</span> <span class=\"n\">params</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">fetchall</span><span class=\"p\">())</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p><span class=\"target\" id=\"index-11\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/\"><strong>PEP 249</strong></a> numeric placeholders are <em>not</em> supported.\nIf used, they will be interpreted as named placeholders.</p>\n</div>\n</section>\n<section id=\"how-to-adapt-custom-python-types-to-sqlite-values\">\n<span id=\"sqlite3-adapters\"></span><h3>How to adapt custom Python types to SQLite values<a class=\"headerlink\" href=\"#how-to-adapt-custom-python-types-to-sqlite-values\" title=\"Link to this heading\">¶</a></h3>\n<p>SQLite supports only a limited set of data types natively.\nTo store custom Python types in SQLite databases, <em>adapt</em> them to one of the\n<a class=\"reference internal\" href=\"#sqlite3-types\"><span class=\"std std-ref\">Python types SQLite natively understands</span></a>.</p>\n<p>There are two ways to adapt Python objects to SQLite types:\nletting your object adapt itself, or using an <em>adapter callable</em>.\nThe latter will take precedence above the former.\nFor a library that exports a custom type,\nit may make sense to enable that type to adapt itself.\nAs an application developer, it may make more sense to take direct control by\nregistering custom adapter functions.</p>\n<section id=\"how-to-write-adaptable-objects\">\n<span id=\"sqlite3-conform\"></span><h4>How to write adaptable objects<a class=\"headerlink\" href=\"#how-to-write-adaptable-objects\" title=\"Link to this heading\">¶</a></h4>\n<p>Suppose we have a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Point</span></code> class that represents a pair of coordinates,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">x</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">y</span></code>, in a Cartesian coordinate system.\nThe coordinate pair will be stored as a text string in the database,\nusing a semicolon to separate the coordinates.\nThis can be implemented by adding a <code class=\"docutils literal notranslate\"><span class=\"pre\">__conform__(self,</span> <span class=\"pre\">protocol)</span></code>\nmethod which returns the adapted value.\nThe object passed to <em>protocol</em> will be of type <a class=\"reference internal\" href=\"#sqlite3.PrepareProtocol\" title=\"sqlite3.PrepareProtocol\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">PrepareProtocol</span></code></a>.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Point</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">__conform__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">protocol</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">protocol</span> <span class=\"ow\">is</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">PrepareProtocol</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"sa\">f</span><span class=\"s2\">&quot;</span><span class=\"si\">{</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"si\">}</span><span class=\"s2\">;</span><span class=\"si\">{</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span>\n\n<span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">cursor</span><span class=\"p\">()</span>\n\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT ?&quot;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"mf\">4.0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">3.2</span><span class=\"p\">),))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n<section id=\"how-to-register-adapter-callables\">\n<h4>How to register adapter callables<a class=\"headerlink\" href=\"#how-to-register-adapter-callables\" title=\"Link to this heading\">¶</a></h4>\n<p>The other possibility is to create a function that converts the Python object\nto an SQLite-compatible type.\nThis function can then be registered using <a class=\"reference internal\" href=\"#sqlite3.register_adapter\" title=\"sqlite3.register_adapter\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">register_adapter()</span></code></a>.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Point</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">adapt_point</span><span class=\"p\">(</span><span class=\"n\">point</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"sa\">f</span><span class=\"s2\">&quot;</span><span class=\"si\">{</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"si\">}</span><span class=\"s2\">;</span><span class=\"si\">{</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span>\n\n<span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">register_adapter</span><span class=\"p\">(</span><span class=\"n\">Point</span><span class=\"p\">,</span> <span class=\"n\">adapt_point</span><span class=\"p\">)</span>\n\n<span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">cursor</span><span class=\"p\">()</span>\n\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT ?&quot;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"p\">,</span> <span class=\"mf\">2.5</span><span class=\"p\">),))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n</section>\n<section id=\"how-to-convert-sqlite-values-to-custom-python-types\">\n<span id=\"sqlite3-converters\"></span><h3>How to convert SQLite values to custom Python types<a class=\"headerlink\" href=\"#how-to-convert-sqlite-values-to-custom-python-types\" title=\"Link to this heading\">¶</a></h3>\n<p>Writing an adapter lets you convert <em>from</em> custom Python types <em>to</em> SQLite\nvalues.\nTo be able to convert <em>from</em> SQLite values <em>to</em> custom Python types,\nwe use <em>converters</em>.</p>\n<p>Let’s go back to the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Point</span></code> class. We stored the x and y coordinates\nseparated via semicolons as strings in SQLite.</p>\n<p>First, we’ll define a converter function that accepts the string as a parameter\nand constructs a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Point</span></code> object from it.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Converter functions are <strong>always</strong> passed a <a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bytes</span></code></a> object,\nno matter the underlying SQLite data type.</p>\n</div>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">convert_point</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">):</span>\n    <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;;&quot;</span><span class=\"p\">))</span>\n    <span class=\"k\">return</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>We now need to tell <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> when it should convert a given SQLite value.\nThis is done when connecting to a database, using the <em>detect_types</em> parameter\nof <a class=\"reference internal\" href=\"#sqlite3.connect\" title=\"sqlite3.connect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">connect()</span></code></a>. There are three options:</p>\n<ul class=\"simple\">\n<li><p>Implicit: set <em>detect_types</em> to <a class=\"reference internal\" href=\"#sqlite3.PARSE_DECLTYPES\" title=\"sqlite3.PARSE_DECLTYPES\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">PARSE_DECLTYPES</span></code></a></p></li>\n<li><p>Explicit: set <em>detect_types</em> to <a class=\"reference internal\" href=\"#sqlite3.PARSE_COLNAMES\" title=\"sqlite3.PARSE_COLNAMES\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">PARSE_COLNAMES</span></code></a></p></li>\n<li><p>Both: set <em>detect_types</em> to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite3.PARSE_DECLTYPES</span> <span class=\"pre\">|</span> <span class=\"pre\">sqlite3.PARSE_COLNAMES</span></code>.\nColumn names take precedence over declared types.</p></li>\n</ul>\n<p>The following example illustrates the implicit and explicit approaches:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Point</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__repr__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"sa\">f</span><span class=\"s2\">&quot;Point(</span><span class=\"si\">{</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"si\">}</span><span class=\"s2\">, </span><span class=\"si\">{</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"si\">}</span><span class=\"s2\">)&quot;</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">adapt_point</span><span class=\"p\">(</span><span class=\"n\">point</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"sa\">f</span><span class=\"s2\">&quot;</span><span class=\"si\">{</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"si\">}</span><span class=\"s2\">;</span><span class=\"si\">{</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">convert_point</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">):</span>\n    <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;;&quot;</span><span class=\"p\">)))</span>\n    <span class=\"k\">return</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Register the adapter and converter</span>\n<span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">register_adapter</span><span class=\"p\">(</span><span class=\"n\">Point</span><span class=\"p\">,</span> <span class=\"n\">adapt_point</span><span class=\"p\">)</span>\n<span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">register_converter</span><span class=\"p\">(</span><span class=\"s2\">&quot;point&quot;</span><span class=\"p\">,</span> <span class=\"n\">convert_point</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># 1) Parse using declared types</span>\n<span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"mf\">4.0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">3.2</span><span class=\"p\">)</span>\n<span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">,</span> <span class=\"n\">detect_types</span><span class=\"o\">=</span><span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">PARSE_DECLTYPES</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE test(p point)&quot;</span><span class=\"p\">)</span>\n\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO test(p) VALUES(?)&quot;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">,))</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT p FROM test&quot;</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;with declared types:&quot;</span><span class=\"p\">,</span> <span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># 2) Parse using column names</span>\n<span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">,</span> <span class=\"n\">detect_types</span><span class=\"o\">=</span><span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">PARSE_COLNAMES</span><span class=\"p\">)</span>\n<span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE test(p)&quot;</span><span class=\"p\">)</span>\n\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO test(p) VALUES(?)&quot;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">,))</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s1\">&#39;SELECT p AS &quot;p [point]&quot; FROM test&#39;</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;with column names:&quot;</span><span class=\"p\">,</span> <span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n<section id=\"adapter-and-converter-recipes\">\n<span id=\"sqlite3-adapter-converter-recipes\"></span><h3>Adapter and converter recipes<a class=\"headerlink\" href=\"#adapter-and-converter-recipes\" title=\"Link to this heading\">¶</a></h3>\n<p>This section shows recipes for common adapters and converters.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">datetime</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">sqlite3</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">adapt_date_iso</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;Adapt datetime.date to ISO 8601 date.&quot;&quot;&quot;</span>\n    <span class=\"k\">return</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">isoformat</span><span class=\"p\">()</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">adapt_datetime_iso</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;Adapt datetime.datetime to timezone-naive ISO 8601 date.&quot;&quot;&quot;</span>\n    <span class=\"k\">return</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">replace</span><span class=\"p\">(</span><span class=\"n\">tzinfo</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">isoformat</span><span class=\"p\">()</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">adapt_datetime_epoch</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;Adapt datetime.datetime to Unix timestamp.&quot;&quot;&quot;</span>\n    <span class=\"k\">return</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">timestamp</span><span class=\"p\">())</span>\n\n<span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">register_adapter</span><span class=\"p\">(</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">,</span> <span class=\"n\">adapt_date_iso</span><span class=\"p\">)</span>\n<span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">register_adapter</span><span class=\"p\">(</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"p\">,</span> <span class=\"n\">adapt_datetime_iso</span><span class=\"p\">)</span>\n<span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">register_adapter</span><span class=\"p\">(</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"p\">,</span> <span class=\"n\">adapt_datetime_epoch</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">convert_date</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;Convert ISO 8601 date to datetime.date object.&quot;&quot;&quot;</span>\n    <span class=\"k\">return</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"o\">.</span><span class=\"n\">fromisoformat</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">())</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">convert_datetime</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;Convert ISO 8601 datetime to datetime.datetime object.&quot;&quot;&quot;</span>\n    <span class=\"k\">return</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">fromisoformat</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">())</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">convert_timestamp</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;Convert Unix epoch timestamp to datetime.datetime object.&quot;&quot;&quot;</span>\n    <span class=\"k\">return</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">fromtimestamp</span><span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">))</span>\n\n<span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">register_converter</span><span class=\"p\">(</span><span class=\"s2\">&quot;date&quot;</span><span class=\"p\">,</span> <span class=\"n\">convert_date</span><span class=\"p\">)</span>\n<span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">register_converter</span><span class=\"p\">(</span><span class=\"s2\">&quot;datetime&quot;</span><span class=\"p\">,</span> <span class=\"n\">convert_datetime</span><span class=\"p\">)</span>\n<span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">register_converter</span><span class=\"p\">(</span><span class=\"s2\">&quot;timestamp&quot;</span><span class=\"p\">,</span> <span class=\"n\">convert_timestamp</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"how-to-use-connection-shortcut-methods\">\n<span id=\"sqlite3-connection-shortcuts\"></span><h3>How to use connection shortcut methods<a class=\"headerlink\" href=\"#how-to-use-connection-shortcut-methods\" title=\"Link to this heading\">¶</a></h3>\n<p>Using the <a class=\"reference internal\" href=\"#sqlite3.Connection.execute\" title=\"sqlite3.Connection.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">execute()</span></code></a>,\n<a class=\"reference internal\" href=\"#sqlite3.Connection.executemany\" title=\"sqlite3.Connection.executemany\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">executemany()</span></code></a>, and <a class=\"reference internal\" href=\"#sqlite3.Connection.executescript\" title=\"sqlite3.Connection.executescript\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">executescript()</span></code></a>\nmethods of the <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> class, your code can\nbe written more concisely because you don’t have to create the (often\nsuperfluous) <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> objects explicitly. Instead, the <a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a>\nobjects are created implicitly and these shortcut methods return the cursor\nobjects. This way, you can execute a <code class=\"docutils literal notranslate\"><span class=\"pre\">SELECT</span></code> statement and iterate over it\ndirectly using only a single call on the <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> object.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Create and fill the table.</span>\n<span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE lang(name, first_appeared)&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;C++&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1985</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s2\">&quot;Objective-C&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1984</span><span class=\"p\">),</span>\n<span class=\"p\">]</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">executemany</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO lang(name, first_appeared) VALUES(?, ?)&quot;</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Print the table contents</span>\n<span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT name, first_appeared FROM lang&quot;</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;I just deleted&quot;</span><span class=\"p\">,</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;DELETE FROM lang&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">rowcount</span><span class=\"p\">,</span> <span class=\"s2\">&quot;rows&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># close() is not a shortcut method and it&#39;s not called automatically;</span>\n<span class=\"c1\"># the connection object should be closed manually</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n<section id=\"how-to-use-the-connection-context-manager\">\n<span id=\"sqlite3-connection-context-manager\"></span><h3>How to use the connection context manager<a class=\"headerlink\" href=\"#how-to-use-the-connection-context-manager\" title=\"Link to this heading\">¶</a></h3>\n<p>A <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> object can be used as a context manager that\nautomatically commits or rolls back open transactions when leaving the body of\nthe context manager.\nIf the body of the <a class=\"reference internal\" href=\"../reference/compound_stmts.html#with\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code></a> statement finishes without exceptions,\nthe transaction is committed.\nIf this commit fails,\nor if the body of the <code class=\"docutils literal notranslate\"><span class=\"pre\">with</span></code> statement raises an uncaught exception,\nthe transaction is rolled back.\nIf <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>,\na new transaction is implicitly opened after committing or rolling back.</p>\n<p>If there is no open transaction upon leaving the body of the <code class=\"docutils literal notranslate\"><span class=\"pre\">with</span></code> statement,\nor if <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>,\nthe context manager does nothing.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The context manager neither implicitly opens a new transaction\nnor closes the connection. If you need a closing context manager, consider\nusing <a class=\"reference internal\" href=\"contextlib.html#contextlib.closing\" title=\"contextlib.closing\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">contextlib.closing()</span></code></a>.</p>\n</div>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE lang(id INTEGER PRIMARY KEY, name VARCHAR UNIQUE)&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Successful, con.commit() is called automatically afterwards</span>\n<span class=\"k\">with</span> <span class=\"n\">con</span><span class=\"p\">:</span>\n    <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO lang(name) VALUES(?)&quot;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s2\">&quot;Python&quot;</span><span class=\"p\">,))</span>\n\n<span class=\"c1\"># con.rollback() is called after the with block finishes with an exception,</span>\n<span class=\"c1\"># the exception is still raised and must be caught</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"k\">with</span> <span class=\"n\">con</span><span class=\"p\">:</span>\n        <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO lang(name) VALUES(?)&quot;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s2\">&quot;Python&quot;</span><span class=\"p\">,))</span>\n<span class=\"k\">except</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">IntegrityError</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;couldn&#39;t add Python twice&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Connection object used as context manager only commits or rollbacks transactions,</span>\n<span class=\"c1\"># so the connection object should be closed manually</span>\n<span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n<section id=\"how-to-work-with-sqlite-uris\">\n<span id=\"sqlite3-uri-tricks\"></span><h3>How to work with SQLite URIs<a class=\"headerlink\" href=\"#how-to-work-with-sqlite-uris\" title=\"Link to this heading\">¶</a></h3>\n<p>Some useful URI tricks include:</p>\n<ul class=\"simple\">\n<li><p>Open a database in read-only mode:</p></li>\n</ul>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;file:tutorial.db?mode=ro&quot;</span><span class=\"p\">,</span> <span class=\"n\">uri</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE readonly(data)&quot;</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"gr\">OperationalError</span>: <span class=\"n\">attempt to write a readonly database</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<ul class=\"simple\">\n<li><p>Do not implicitly create a new database file if it does not already exist;\nwill raise <a class=\"reference internal\" href=\"#sqlite3.OperationalError\" title=\"sqlite3.OperationalError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OperationalError</span></code></a> if unable to create a new file:</p></li>\n</ul>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;file:nosuchdb.db?mode=rw&quot;</span><span class=\"p\">,</span> <span class=\"n\">uri</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"gr\">OperationalError</span>: <span class=\"n\">unable to open database file</span>\n</pre></div>\n</div>\n<ul class=\"simple\">\n<li><p>Create a shared named in-memory database:</p></li>\n</ul>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">db</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;file:mem1?mode=memory&amp;cache=shared&quot;</span>\n<span class=\"n\">con1</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"p\">,</span> <span class=\"n\">uri</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"n\">con2</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"p\">,</span> <span class=\"n\">uri</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"k\">with</span> <span class=\"n\">con1</span><span class=\"p\">:</span>\n    <span class=\"n\">con1</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;CREATE TABLE shared(data)&quot;</span><span class=\"p\">)</span>\n    <span class=\"n\">con1</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;INSERT INTO shared VALUES(28)&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">con2</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT data FROM shared&quot;</span><span class=\"p\">)</span>\n<span class=\"k\">assert</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">28</span><span class=\"p\">,)</span>\n\n<span class=\"n\">con1</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"n\">con2</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>More information about this feature, including a list of parameters,\ncan be found in the <a class=\"reference external\" href=\"https://www.sqlite.org/uri.html\">SQLite URI documentation</a>.</p>\n</section>\n<section id=\"how-to-create-and-use-row-factories\">\n<span id=\"sqlite3-howto-row-factory\"></span><h3>How to create and use row factories<a class=\"headerlink\" href=\"#how-to-create-and-use-row-factories\" title=\"Link to this heading\">¶</a></h3>\n<p>By default, <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> represents each row as a <a class=\"reference internal\" href=\"stdtypes.html#tuple\" title=\"tuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code></a>.\nIf a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code> does not suit your needs,\nyou can use the <a class=\"reference internal\" href=\"#sqlite3.Row\" title=\"sqlite3.Row\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">sqlite3.Row</span></code></a> class\nor a custom <a class=\"reference internal\" href=\"#sqlite3.Cursor.row_factory\" title=\"sqlite3.Cursor.row_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">row_factory</span></code></a>.</p>\n<p>While <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">row_factory</span></code> exists as an attribute both on the\n<a class=\"reference internal\" href=\"#sqlite3.Cursor\" title=\"sqlite3.Cursor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cursor</span></code></a> and the <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a>,\nit is recommended to set <a class=\"reference internal\" href=\"#sqlite3.Connection.row_factory\" title=\"sqlite3.Connection.row_factory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection.row_factory</span></code></a>,\nso all cursors created from the connection will use the same row factory.</p>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Row</span></code> provides indexed and case-insensitive named access to columns,\nwith minimal memory overhead and performance impact over a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code>.\nTo use <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Row</span></code> as a row factory,\nassign it to the <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">row_factory</span></code> attribute:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">row_factory</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">Row</span>\n</pre></div>\n</div>\n<p>Queries now return <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Row</span></code> objects:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT &#39;Earth&#39; AS name, 6378 AS radius&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">row</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">row</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">()</span>\n<span class=\"go\">[&#39;name&#39;, &#39;radius&#39;]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">row</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>         <span class=\"c1\"># Access by index.</span>\n<span class=\"go\">&#39;Earth&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">row</span><span class=\"p\">[</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">]</span>    <span class=\"c1\"># Access by name.</span>\n<span class=\"go\">&#39;Earth&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">row</span><span class=\"p\">[</span><span class=\"s2\">&quot;RADIUS&quot;</span><span class=\"p\">]</span>  <span class=\"c1\"># Column names are case-insensitive.</span>\n<span class=\"go\">6378</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">FROM</span></code> clause can be omitted in the <code class=\"docutils literal notranslate\"><span class=\"pre\">SELECT</span></code> statement, as in the\nabove example. In such cases, SQLite returns a single row with columns\ndefined by expressions, e.g. literals, with the given aliases\n<code class=\"docutils literal notranslate\"><span class=\"pre\">expr</span> <span class=\"pre\">AS</span> <span class=\"pre\">alias</span></code>.</p>\n</div>\n<p>You can create a custom <a class=\"reference internal\" href=\"#sqlite3.Cursor.row_factory\" title=\"sqlite3.Cursor.row_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">row_factory</span></code></a>\nthat returns each row as a <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a>, with column names mapped to values:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">dict_factory</span><span class=\"p\">(</span><span class=\"n\">cursor</span><span class=\"p\">,</span> <span class=\"n\">row</span><span class=\"p\">):</span>\n    <span class=\"n\">fields</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">column</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">column</span> <span class=\"ow\">in</span> <span class=\"n\">cursor</span><span class=\"o\">.</span><span class=\"n\">description</span><span class=\"p\">]</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"n\">key</span><span class=\"p\">:</span> <span class=\"n\">value</span> <span class=\"k\">for</span> <span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">value</span> <span class=\"ow\">in</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">fields</span><span class=\"p\">,</span> <span class=\"n\">row</span><span class=\"p\">)}</span>\n</pre></div>\n</div>\n<p>Using it, queries now return a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code> instead of a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">row_factory</span> <span class=\"o\">=</span> <span class=\"n\">dict_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT 1 AS a, 2 AS b&quot;</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)</span>\n<span class=\"go\">{&#39;a&#39;: 1, &#39;b&#39;: 2}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>The following row factory returns a <a class=\"reference internal\" href=\"../glossary.html#term-named-tuple\"><span class=\"xref std std-term\">named tuple</span></a>:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">collections</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">namedtuple</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">namedtuple_factory</span><span class=\"p\">(</span><span class=\"n\">cursor</span><span class=\"p\">,</span> <span class=\"n\">row</span><span class=\"p\">):</span>\n    <span class=\"n\">fields</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">column</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">column</span> <span class=\"ow\">in</span> <span class=\"n\">cursor</span><span class=\"o\">.</span><span class=\"n\">description</span><span class=\"p\">]</span>\n    <span class=\"bp\">cls</span> <span class=\"o\">=</span> <span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s2\">&quot;Row&quot;</span><span class=\"p\">,</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"bp\">cls</span><span class=\"o\">.</span><span class=\"n\">_make</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">namedtuple_factory()</span></code> can be used as follows:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">&quot;:memory:&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">row_factory</span> <span class=\"o\">=</span> <span class=\"n\">namedtuple_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cur</span> <span class=\"o\">=</span> <span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s2\">&quot;SELECT 1 AS a, 2 AS b&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">row</span> <span class=\"o\">=</span> <span class=\"n\">cur</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">row</span>\n<span class=\"go\">Row(a=1, b=2)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">row</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>  <span class=\"c1\"># Indexed access.</span>\n<span class=\"go\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">row</span><span class=\"o\">.</span><span class=\"n\">b</span>   <span class=\"c1\"># Attribute access.</span>\n<span class=\"go\">2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>With some adjustments, the above recipe can be adapted to use a\n<a class=\"reference internal\" href=\"dataclasses.html#dataclasses.dataclass\" title=\"dataclasses.dataclass\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dataclass</span></code></a>, or any other custom class,\ninstead of a <a class=\"reference internal\" href=\"collections.html#collections.namedtuple\" title=\"collections.namedtuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">namedtuple</span></code></a>.</p>\n</section>\n<section id=\"how-to-handle-non-utf-8-text-encodings\">\n<span id=\"sqlite3-howto-encoding\"></span><h3>How to handle non-UTF-8 text encodings<a class=\"headerlink\" href=\"#how-to-handle-non-utf-8-text-encodings\" title=\"Link to this heading\">¶</a></h3>\n<p>By default, <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> uses <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a> to adapt SQLite values\nwith the <code class=\"docutils literal notranslate\"><span class=\"pre\">TEXT</span></code> data type.\nThis works well for UTF-8 encoded text, but it might fail for other encodings\nand invalid UTF-8.\nYou can use a custom <a class=\"reference internal\" href=\"#sqlite3.Connection.text_factory\" title=\"sqlite3.Connection.text_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">text_factory</span></code></a> to handle such cases.</p>\n<p>Because of SQLite’s <a class=\"reference external\" href=\"https://www.sqlite.org/flextypegood.html\">flexible typing</a>, it is not uncommon to encounter table\ncolumns with the <code class=\"docutils literal notranslate\"><span class=\"pre\">TEXT</span></code> data type containing non-UTF-8 encodings,\nor even arbitrary data.\nTo demonstrate, let’s assume we have a database with ISO-8859-2 (Latin-2)\nencoded text, for example a table of Czech-English dictionary entries.\nAssuming we now have a <a class=\"reference internal\" href=\"#sqlite3.Connection\" title=\"sqlite3.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> instance <code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">con</span></code>\nconnected to this database,\nwe can decode the Latin-2 encoded text using this <a class=\"reference internal\" href=\"#sqlite3.Connection.text_factory\" title=\"sqlite3.Connection.text_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">text_factory</span></code></a>:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">text_factory</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">encoding</span><span class=\"o\">=</span><span class=\"s2\">&quot;latin2&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>For invalid UTF-8 or arbitrary data in stored in <code class=\"docutils literal notranslate\"><span class=\"pre\">TEXT</span></code> table columns,\nyou can use the following technique, borrowed from the <a class=\"reference internal\" href=\"../howto/unicode.html#unicode-howto\"><span class=\"std std-ref\">Unicode HOWTO</span></a>:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">con</span><span class=\"o\">.</span><span class=\"n\">text_factory</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">errors</span><span class=\"o\">=</span><span class=\"s2\">&quot;surrogateescape&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> module API does not support strings\ncontaining surrogates.</p>\n</div>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<p><a class=\"reference internal\" href=\"../howto/unicode.html#unicode-howto\"><span class=\"std std-ref\">Unicode HOWTO</span></a></p>\n</div>\n</section>\n</section>\n<section id=\"explanation\">\n<span id=\"sqlite3-explanation\"></span><h2>Explanation<a class=\"headerlink\" href=\"#explanation\" title=\"Link to this heading\">¶</a></h2>\n<section id=\"transaction-control\">\n<span id=\"sqlite3-controlling-transactions\"></span><span id=\"sqlite3-transaction-control\"></span><h3>Transaction control<a class=\"headerlink\" href=\"#transaction-control\" title=\"Link to this heading\">¶</a></h3>\n<p><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> offers multiple methods of controlling whether,\nwhen and how database transactions are opened and closed.\n<a class=\"reference internal\" href=\"#sqlite3-transaction-control-autocommit\"><span class=\"std std-ref\">Transaction control via the autocommit attribute</span></a> is recommended,\nwhile <a class=\"reference internal\" href=\"#sqlite3-transaction-control-isolation-level\"><span class=\"std std-ref\">Transaction control via the isolation_level attribute</span></a>\nretains the pre-Python 3.12 behaviour.</p>\n<section id=\"transaction-control-via-the-autocommit-attribute\">\n<span id=\"sqlite3-transaction-control-autocommit\"></span><h4>Transaction control via the <code class=\"docutils literal notranslate\"><span class=\"pre\">autocommit</span></code> attribute<a class=\"headerlink\" href=\"#transaction-control-via-the-autocommit-attribute\" title=\"Link to this heading\">¶</a></h4>\n<p>The recommended way of controlling transaction behaviour is through\nthe <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.autocommit</span></code></a> attribute,\nwhich should preferably be set using the <em>autocommit</em> parameter\nof <a class=\"reference internal\" href=\"#sqlite3.connect\" title=\"sqlite3.connect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">connect()</span></code></a>.</p>\n<p>It is suggested to set <em>autocommit</em> to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>,\nwhich implies <span class=\"target\" id=\"index-12\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/\"><strong>PEP 249</strong></a>-compliant transaction control.\nThis means:</p>\n<ul class=\"simple\">\n<li><p><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> ensures that a transaction is always open,\nso <a class=\"reference internal\" href=\"#sqlite3.connect\" title=\"sqlite3.connect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">connect()</span></code></a>, <a class=\"reference internal\" href=\"#sqlite3.Connection.commit\" title=\"sqlite3.Connection.commit\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.commit()</span></code></a>, and <a class=\"reference internal\" href=\"#sqlite3.Connection.rollback\" title=\"sqlite3.Connection.rollback\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.rollback()</span></code></a>\nwill implicitly open a new transaction\n(immediately after closing the pending one, for the latter two).\n<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> uses <code class=\"docutils literal notranslate\"><span class=\"pre\">BEGIN</span> <span class=\"pre\">DEFERRED</span></code> statements when opening transactions.</p></li>\n<li><p>Transactions should be committed explicitly using <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">commit()</span></code>.</p></li>\n<li><p>Transactions should be rolled back explicitly using <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">rollback()</span></code>.</p></li>\n<li><p>An implicit rollback is performed if the database is\n<a class=\"reference internal\" href=\"#sqlite3.Connection.close\" title=\"sqlite3.Connection.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a>-ed with pending changes.</p></li>\n</ul>\n<p>Set <em>autocommit</em> to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> to enable SQLite’s <a class=\"reference external\" href=\"https://www.sqlite.org/lang_transaction.html#implicit_versus_explicit_transactions\">autocommit mode</a>.\nIn this mode, <a class=\"reference internal\" href=\"#sqlite3.Connection.commit\" title=\"sqlite3.Connection.commit\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.commit()</span></code></a> and <a class=\"reference internal\" href=\"#sqlite3.Connection.rollback\" title=\"sqlite3.Connection.rollback\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.rollback()</span></code></a>\nhave no effect.\nNote that SQLite’s autocommit mode is distinct from\nthe <span class=\"target\" id=\"index-13\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0249/\"><strong>PEP 249</strong></a>-compliant <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.autocommit</span></code></a> attribute;\nuse <a class=\"reference internal\" href=\"#sqlite3.Connection.in_transaction\" title=\"sqlite3.Connection.in_transaction\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.in_transaction</span></code></a> to query\nthe low-level SQLite autocommit mode.</p>\n<p>Set <em>autocommit</em> to <a class=\"reference internal\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"sqlite3.LEGACY_TRANSACTION_CONTROL\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></code></a>\nto leave transaction control behaviour to the\n<a class=\"reference internal\" href=\"#sqlite3.Connection.isolation_level\" title=\"sqlite3.Connection.isolation_level\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.isolation_level</span></code></a> attribute.\nSee <a class=\"reference internal\" href=\"#sqlite3-transaction-control-isolation-level\"><span class=\"std std-ref\">Transaction control via the isolation_level attribute</span></a> for more information.</p>\n</section>\n<section id=\"transaction-control-via-the-isolation-level-attribute\">\n<span id=\"sqlite3-transaction-control-isolation-level\"></span><h4>Transaction control via the <code class=\"docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code> attribute<a class=\"headerlink\" href=\"#transaction-control-via-the-isolation-level-attribute\" title=\"Link to this heading\">¶</a></h4>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The recommended way of controlling transactions is via the\n<a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> attribute.\nSee <a class=\"reference internal\" href=\"#sqlite3-transaction-control-autocommit\"><span class=\"std std-ref\">Transaction control via the autocommit attribute</span></a>.</p>\n</div>\n<p>If <a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.autocommit</span></code></a> is set to\n<a class=\"reference internal\" href=\"#sqlite3.LEGACY_TRANSACTION_CONTROL\" title=\"sqlite3.LEGACY_TRANSACTION_CONTROL\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">LEGACY_TRANSACTION_CONTROL</span></code></a> (the default),\ntransaction behaviour is controlled using\nthe <a class=\"reference internal\" href=\"#sqlite3.Connection.isolation_level\" title=\"sqlite3.Connection.isolation_level\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Connection.isolation_level</span></code></a> attribute.\nOtherwise, <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code> has no effect.</p>\n<p>If the connection attribute <a class=\"reference internal\" href=\"#sqlite3.Connection.isolation_level\" title=\"sqlite3.Connection.isolation_level\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code></a>\nis not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>,\nnew transactions are implicitly opened before\n<a class=\"reference internal\" href=\"#sqlite3.Cursor.execute\" title=\"sqlite3.Cursor.execute\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">execute()</span></code></a> and <a class=\"reference internal\" href=\"#sqlite3.Cursor.executemany\" title=\"sqlite3.Cursor.executemany\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">executemany()</span></code></a> executes\n<code class=\"docutils literal notranslate\"><span class=\"pre\">INSERT</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">UPDATE</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">DELETE</span></code>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">REPLACE</span></code> statements;\nfor other statements, no implicit transaction handling is performed.\nUse the <a class=\"reference internal\" href=\"#sqlite3.Connection.commit\" title=\"sqlite3.Connection.commit\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">commit()</span></code></a> and <a class=\"reference internal\" href=\"#sqlite3.Connection.rollback\" title=\"sqlite3.Connection.rollback\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">rollback()</span></code></a> methods\nto respectively commit and roll back pending transactions.\nYou can choose the underlying <a class=\"reference external\" href=\"https://www.sqlite.org/lang_transaction.html#deferred_immediate_and_exclusive_transactions\">SQLite transaction behaviour</a> —\nthat is, whether and what type of <code class=\"docutils literal notranslate\"><span class=\"pre\">BEGIN</span></code> statements <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code>\nimplicitly executes –\nvia the <a class=\"reference internal\" href=\"#sqlite3.Connection.isolation_level\" title=\"sqlite3.Connection.isolation_level\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code></a> attribute.</p>\n<p>If <a class=\"reference internal\" href=\"#sqlite3.Connection.isolation_level\" title=\"sqlite3.Connection.isolation_level\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code></a> is set to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>,\nno transactions are implicitly opened at all.\nThis leaves the underlying SQLite library in <a class=\"reference external\" href=\"https://www.sqlite.org/lang_transaction.html#implicit_versus_explicit_transactions\">autocommit mode</a>,\nbut also allows the user to perform their own transaction handling\nusing explicit SQL statements.\nThe underlying SQLite library autocommit mode can be queried using the\n<a class=\"reference internal\" href=\"#sqlite3.Connection.in_transaction\" title=\"sqlite3.Connection.in_transaction\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">in_transaction</span></code></a> attribute.</p>\n<p>The <a class=\"reference internal\" href=\"#sqlite3.Cursor.executescript\" title=\"sqlite3.Cursor.executescript\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">executescript()</span></code></a> method implicitly commits\nany pending transaction before execution of the given SQL script,\nregardless of the value of <a class=\"reference internal\" href=\"#sqlite3.Connection.isolation_level\" title=\"sqlite3.Connection.isolation_level\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code></a>.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> used to implicitly commit an open transaction before DDL\nstatements.  This is no longer the case.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span>The recommended way of controlling transactions is now via the\n<a class=\"reference internal\" href=\"#sqlite3.Connection.autocommit\" title=\"sqlite3.Connection.autocommit\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">autocommit</span></code></a> attribute.</p>\n</div>\n</section>\n</section>\n</section>\n</section>\n\n\n            <div class=\"clearer\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"Main\">\n        <div class=\"sphinxsidebarwrapper\">\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> — DB-API 2.0 interface for SQLite databases</a><ul>\n<li><a class=\"reference internal\" href=\"#tutorial\">Tutorial</a></li>\n<li><a class=\"reference internal\" href=\"#reference\">Reference</a><ul>\n<li><a class=\"reference internal\" href=\"#module-functions\">Module functions</a></li>\n<li><a class=\"reference internal\" href=\"#module-constants\">Module constants</a></li>\n<li><a class=\"reference internal\" href=\"#connection-objects\">Connection objects</a></li>\n<li><a class=\"reference internal\" href=\"#cursor-objects\">Cursor objects</a></li>\n<li><a class=\"reference internal\" href=\"#row-objects\">Row objects</a></li>\n<li><a class=\"reference internal\" href=\"#blob-objects\">Blob objects</a></li>\n<li><a class=\"reference internal\" href=\"#prepareprotocol-objects\">PrepareProtocol objects</a></li>\n<li><a class=\"reference internal\" href=\"#exceptions\">Exceptions</a></li>\n<li><a class=\"reference internal\" href=\"#sqlite-and-python-types\">SQLite and Python types</a></li>\n<li><a class=\"reference internal\" href=\"#default-adapters-and-converters-deprecated\">Default adapters and converters (deprecated)</a></li>\n<li><a class=\"reference internal\" href=\"#command-line-interface\">Command-line interface</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#how-to-guides\">How-to guides</a><ul>\n<li><a class=\"reference internal\" href=\"#how-to-use-placeholders-to-bind-values-in-sql-queries\">How to use placeholders to bind values in SQL queries</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-adapt-custom-python-types-to-sqlite-values\">How to adapt custom Python types to SQLite values</a><ul>\n<li><a class=\"reference internal\" href=\"#how-to-write-adaptable-objects\">How to write adaptable objects</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-register-adapter-callables\">How to register adapter callables</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#how-to-convert-sqlite-values-to-custom-python-types\">How to convert SQLite values to custom Python types</a></li>\n<li><a class=\"reference internal\" href=\"#adapter-and-converter-recipes\">Adapter and converter recipes</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-use-connection-shortcut-methods\">How to use connection shortcut methods</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-use-the-connection-context-manager\">How to use the connection context manager</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-work-with-sqlite-uris\">How to work with SQLite URIs</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-create-and-use-row-factories\">How to create and use row factories</a></li>\n<li><a class=\"reference internal\" href=\"#how-to-handle-non-utf-8-text-encodings\">How to handle non-UTF-8 text encodings</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#explanation\">Explanation</a><ul>\n<li><a class=\"reference internal\" href=\"#transaction-control\">Transaction control</a><ul>\n<li><a class=\"reference internal\" href=\"#transaction-control-via-the-autocommit-attribute\">Transaction control via the <code class=\"docutils literal notranslate\"><span class=\"pre\">autocommit</span></code> attribute</a></li>\n<li><a class=\"reference internal\" href=\"#transaction-control-via-the-isolation-level-attribute\">Transaction control via the <code class=\"docutils literal notranslate\"><span class=\"pre\">isolation_level</span></code> attribute</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"dbm.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">dbm</span></code> — Interfaces to Unix “databases”</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"archiving.html\"\n                          title=\"next chapter\">Data Compression and Archiving</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/sqlite3.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </div>\n<div id=\"sidebarbutton\" title=\"Collapse sidebar\">\n<span>«</span>\n</div>\n\n      </div>\n      <div class=\"clearer\"></div>\n    </div>  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             >index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"archiving.html\" title=\"Data Compression and Archiving\"\n             >next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"dbm.html\" title=\"dbm — Interfaces to Unix “databases”\"\n             >previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"persistence.html\" >Data Persistence</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code> — DB-API 2.0 interface for SQLite databases</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>  \n    <div class=\"footer\">\n    &copy; <a href=\"../copyright.html\">Copyright</a> 2001 Python Software Foundation.\n    <br>\n    This page is licensed under the Python Software Foundation License Version 2.\n    <br>\n    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.\n    <br>\n    \n      See <a href=\"/license.html\">History and License</a> for more information.<br>\n    \n    \n    <br>\n\n    The Python Software Foundation is a non-profit corporation.\n<a href=\"https://www.python.org/psf/donations/\">Please donate.</a>\n<br>\n    <br>\n      Last updated on Nov 25, 2025 (18:01 UTC).\n    \n      <a href=\"/bugs.html\">Found a bug</a>?\n    \n    <br>\n\n    Created using <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> 8.2.3.\n    </div>\n\n    <script type=\"text/javascript\" src=\"../_static/switchers.js\"></script>\n  </body>\n</html>",
  "metadata": {
    "title": "sqlite3 — DB-API 2.0 interface for SQLite databases — Python 3.14.0 documentation",
    "meta_description": "Source code: Lib/sqlite3/ SQLite is a C library that provides a lightweight disk-based database that doesn’t require a separate server process and allows accessing the database using a nonstandard ...",
    "h1": "— DB-API 2.0 interface for SQLite databases"
  },
  "request_headers": {
    "Referer": "https://docs.python.org/3/library/",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
    "Accept-Language": "en",
    "User-Agent": "DumbCrawler/1.0",
    "Accept-Encoding": "gzip, deflate"
  },
  "response_headers": {
    "Content-Length": "41556",
    "Server": "nginx",
    "Content-Type": "text/html",
    "Last-Modified": "Tue, 25 Nov 2025 18:03:26 GMT",
    "Etag": "\"6925ef6e-4cf82\"",
    "X-Clacks-Overhead": "GNU Terry Pratchett",
    "Strict-Transport-Security": "max-age=315360000; includeSubDomains; preload",
    "Via": "1.1 varnish, 1.1 varnish",
    "Accept-Ranges": "bytes",
    "Age": "3594",
    "Date": "Wed, 26 Nov 2025 05:25:22 GMT",
    "X-Served-By": "cache-lga21982-LGA, cache-yul1970038-YUL",
    "X-Cache": "HIT, HIT",
    "X-Cache-Hits": "441, 0",
    "X-Timer": "S1764134723.731624,VS0,VE1",
    "Vary": "Accept-Encoding"
  },
  "crawled_at": "2025-11-26T05:25:23.646991+00:00",
  "crawler": {
    "name": "DumbCrawler",
    "version": "1.0",
    "mode": "crawl",
    "js_mode": "off",
    "scope": "subdomain"
  }
}