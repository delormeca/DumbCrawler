{
  "url": "https://docs.python.org/3/library/code.html",
  "status_code": 200,
  "depth": 1,
  "referrer": "https://docs.python.org/3/library/",
  "raw_html": "<!DOCTYPE html>\n\n<html lang=\"en\" data-content_root=\"../\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<meta property=\"og:title\" content=\"code — Interpreter base classes\" />\n<meta property=\"og:type\" content=\"website\" />\n<meta property=\"og:url\" content=\"https://docs.python.org/3/library/code.html\" />\n<meta property=\"og:site_name\" content=\"Python documentation\" />\n<meta property=\"og:description\" content=\"Source code: Lib/code.py The code module provides facilities to implement read-eval-print loops in Python. Two classes and convenience functions are included which can be used to build applications...\" />\n<meta property=\"og:image:width\" content=\"1146\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://docs.python.org/3.14/_images/social_previews/summary_library_code_4c055f5c.png\" />\n<meta property=\"og:image:alt\" content=\"Source code: Lib/code.py The code module provides facilities to implement read-eval-print loops in Python. Two classes and convenience functions are included which can be used to build applications...\" />\n<meta name=\"description\" content=\"Source code: Lib/code.py The code module provides facilities to implement read-eval-print loops in Python. Two classes and convenience functions are included which can be used to build applications...\" />\n<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"theme-color\" content=\"#3776ab\">\n\n    <title>code — Interpreter base classes &#8212; Python 3.14.0 documentation</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments.css?v=b86133f3\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/classic.css?v=234b1a7c\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pydoctheme.css?v=8cd84f99\" />\n    <link id=\"pygments_dark_css\" media=\"(prefers-color-scheme: dark)\" rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments_dark.css?v=5349f25f\" />\n    \n    <script src=\"../_static/documentation_options.js?v=e4f4b189\"></script>\n    <script src=\"../_static/doctools.js?v=9bcbadda\"></script>\n    <script src=\"../_static/sphinx_highlight.js?v=dc90522c\"></script>\n    \n    <script src=\"../_static/sidebar.js\"></script>\n    \n    <link rel=\"search\" type=\"application/opensearchdescription+xml\"\n          title=\"Search within Python 3.14.0 documentation\"\n          href=\"../_static/opensearch.xml\"/>\n    <link rel=\"author\" title=\"About these documents\" href=\"../about.html\" />\n    <link rel=\"index\" title=\"Index\" href=\"../genindex.html\" />\n    <link rel=\"search\" title=\"Search\" href=\"../search.html\" />\n    <link rel=\"copyright\" title=\"Copyright\" href=\"../copyright.html\" />\n    <link rel=\"next\" title=\"codeop — Compile Python code\" href=\"codeop.html\" />\n    <link rel=\"prev\" title=\"Custom Python Interpreters\" href=\"custominterp.html\" />\n    \n      \n      <script defer file-types=\"bz2,epub,zip\" data-domain=\"docs.python.org\" src=\"https://analytics.python.org/js/script.file-downloads.outbound-links.js\"></script>\n      \n      <link rel=\"canonical\" href=\"https://docs.python.org/3/library/code.html\">\n      \n    \n\n    \n    <style>\n      @media only screen {\n        table.full-width-table {\n            width: 100%;\n        }\n      }\n    </style>\n<link rel=\"stylesheet\" href=\"../_static/pydoctheme_dark.css\" media=\"(prefers-color-scheme: dark)\" id=\"pydoctheme_dark_css\">\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"../_static/py.svg\">\n            <script type=\"text/javascript\" src=\"../_static/copybutton.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/menu.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/search-focus.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/themetoggle.js\"></script> \n            <script type=\"text/javascript\" src=\"../_static/rtd_switcher.js\"></script>\n            <meta name=\"readthedocs-addons-api-version\" content=\"1\">\n\n  </head>\n<body>\n<div class=\"mobile-nav\">\n    <input type=\"checkbox\" id=\"menuToggler\" class=\"toggler__input\" aria-controls=\"navigation\"\n           aria-pressed=\"false\" aria-expanded=\"false\" role=\"button\" aria-label=\"Menu\">\n    <nav class=\"nav-content\" role=\"navigation\">\n        <label for=\"menuToggler\" class=\"toggler__label\">\n            <span></span>\n        </label>\n        <span class=\"nav-items-wrapper\">\n            <a href=\"https://www.python.org/\" class=\"nav-logo\">\n                <img src=\"../_static/py.svg\" alt=\"Python logo\">\n            </a>\n            <span class=\"version_switcher_placeholder\"></span>\n            <form role=\"search\" class=\"search\" action=\"../search.html\" method=\"get\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" class=\"search-icon\">\n                    <path fill-rule=\"nonzero\" fill=\"currentColor\" d=\"M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n                </svg>\n                <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\">\n                <input type=\"submit\" value=\"Go\">\n            </form>\n        </span>\n    </nav>\n    <div class=\"menu-wrapper\">\n        <nav class=\"menu\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"language_switcher_placeholder\"></div>\n            \n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label>\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">code</span></code> — Interpreter base classes</a><ul>\n<li><a class=\"reference internal\" href=\"#interactive-interpreter-objects\">Interactive Interpreter Objects</a></li>\n<li><a class=\"reference internal\" href=\"#interactive-console-objects\">Interactive Console Objects</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"custominterp.html\"\n                          title=\"previous chapter\">Custom Python Interpreters</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"codeop.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">codeop</span></code> — Compile Python code</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/code.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </nav>\n    </div>\n</div>\n\n  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             accesskey=\"I\">index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"codeop.html\" title=\"codeop — Compile Python code\"\n             accesskey=\"N\">next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"custominterp.html\" title=\"Custom Python Interpreters\"\n             accesskey=\"P\">previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"custominterp.html\" accesskey=\"U\">Custom Python Interpreters</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">code</span></code> — Interpreter base classes</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>    \n\n    <div class=\"document\">\n      <div class=\"documentwrapper\">\n        <div class=\"bodywrapper\">\n          <div class=\"body\" role=\"main\">\n            \n  <section id=\"module-code\">\n<span id=\"code-interpreter-base-classes\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">code</span></code> — Interpreter base classes<a class=\"headerlink\" href=\"#module-code\" title=\"Link to this heading\">¶</a></h1>\n<p><strong>Source code:</strong> <a class=\"extlink-source reference external\" href=\"https://github.com/python/cpython/tree/3.14/Lib/code.py\">Lib/code.py</a></p>\n<hr class=\"docutils\" />\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">code</span></code> module provides facilities to implement read-eval-print loops in\nPython.  Two classes and convenience functions are included which can be used to\nbuild applications which provide an interactive interpreter prompt.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveInterpreter\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">code.</span></span><span class=\"sig-name descname\"><span class=\"pre\">InteractiveInterpreter</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">locals</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveInterpreter\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This class deals with parsing and interpreter state (the user’s namespace); it\ndoes not deal with input buffering or prompting or input file naming (the\nfilename is always passed in explicitly). The optional <em>locals</em> argument\nspecifies a mapping to use as the namespace in which code will be executed;\nit defaults to a newly created dictionary with key <code class=\"docutils literal notranslate\"><span class=\"pre\">'__name__'</span></code> set to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'__console__'</span></code> and key <code class=\"docutils literal notranslate\"><span class=\"pre\">'__doc__'</span></code> set to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n<p>Note that functions and classes objects created under an\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">InteractiveInterpreter</span></code> instance will belong to the namespace\nspecified by <em>locals</em>.\nThey are only pickleable if <em>locals</em> is the namespace of an existing\nmodule.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveConsole\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">code.</span></span><span class=\"sig-name descname\"><span class=\"pre\">InteractiveConsole</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">locals</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">filename</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'&lt;console&gt;'</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">local_exit</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveConsole\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Closely emulate the behavior of the interactive Python interpreter. This class\nbuilds on <a class=\"reference internal\" href=\"#code.InteractiveInterpreter\" title=\"code.InteractiveInterpreter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">InteractiveInterpreter</span></code></a> and adds prompting using the familiar\n<code class=\"docutils literal notranslate\"><span class=\"pre\">sys.ps1</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">sys.ps2</span></code>, and input buffering. If <em>local_exit</em> is true,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">exit()</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">quit()</span></code> in the console will not raise <a class=\"reference internal\" href=\"exceptions.html#SystemExit\" title=\"SystemExit\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">SystemExit</span></code></a>, but\ninstead return to the calling code.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Added <em>local_exit</em> parameter.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"code.interact\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">code.</span></span><span class=\"sig-name descname\"><span class=\"pre\">interact</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">banner</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">readfunc</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">local</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">exitmsg</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">local_exit</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.interact\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Convenience function to run a read-eval-print loop.  This creates a new\ninstance of <a class=\"reference internal\" href=\"#code.InteractiveConsole\" title=\"code.InteractiveConsole\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">InteractiveConsole</span></code></a> and sets <em>readfunc</em> to be used as\nthe <a class=\"reference internal\" href=\"#code.InteractiveConsole.raw_input\" title=\"code.InteractiveConsole.raw_input\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">InteractiveConsole.raw_input()</span></code></a> method, if provided.  If <em>local</em> is\nprovided, it is passed to the <a class=\"reference internal\" href=\"#code.InteractiveConsole\" title=\"code.InteractiveConsole\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">InteractiveConsole</span></code></a> constructor for\nuse as the default namespace for the interpreter loop.  If <em>local_exit</em> is provided,\nit is passed to the <a class=\"reference internal\" href=\"#code.InteractiveConsole\" title=\"code.InteractiveConsole\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">InteractiveConsole</span></code></a> constructor.  The <a class=\"reference internal\" href=\"#code.InteractiveConsole.interact\" title=\"code.InteractiveConsole.interact\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">interact()</span></code></a>\nmethod of the instance is then run with <em>banner</em> and <em>exitmsg</em> passed as the\nbanner and exit message to use, if provided.  The console object is discarded\nafter use.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span>Added <em>exitmsg</em> parameter.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Added <em>local_exit</em> parameter.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"code.compile_command\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">code.</span></span><span class=\"sig-name descname\"><span class=\"pre\">compile_command</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">source</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">filename</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'&lt;input&gt;'</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">symbol</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'single'</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.compile_command\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This function is useful for programs that want to emulate Python’s interpreter\nmain loop (a.k.a. the read-eval-print loop).  The tricky part is to determine\nwhen the user has entered an incomplete command that can be completed by\nentering more text (as opposed to a complete command or a syntax error).  This\nfunction <em>almost</em> always makes the same decision as the real interpreter main\nloop.</p>\n<p><em>source</em> is the source string; <em>filename</em> is the optional filename from which\nsource was read, defaulting to <code class=\"docutils literal notranslate\"><span class=\"pre\">'&lt;input&gt;'</span></code>; and <em>symbol</em> is the optional\ngrammar start symbol, which should be <code class=\"docutils literal notranslate\"><span class=\"pre\">'single'</span></code> (the default), <code class=\"docutils literal notranslate\"><span class=\"pre\">'eval'</span></code>\nor <code class=\"docutils literal notranslate\"><span class=\"pre\">'exec'</span></code>.</p>\n<p>Returns a code object (the same as <code class=\"docutils literal notranslate\"><span class=\"pre\">compile(source,</span> <span class=\"pre\">filename,</span> <span class=\"pre\">symbol)</span></code>) if the\ncommand is complete and valid; <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> if the command is incomplete; raises\n<a class=\"reference internal\" href=\"exceptions.html#SyntaxError\" title=\"SyntaxError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">SyntaxError</span></code></a> if the command is complete and contains a syntax error, or\nraises <a class=\"reference internal\" href=\"exceptions.html#OverflowError\" title=\"OverflowError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OverflowError</span></code></a> or <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> if the command contains an\ninvalid literal.</p>\n</dd></dl>\n\n<section id=\"interactive-interpreter-objects\">\n<span id=\"interpreter-objects\"></span><h2>Interactive Interpreter Objects<a class=\"headerlink\" href=\"#interactive-interpreter-objects\" title=\"Link to this heading\">¶</a></h2>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveInterpreter.runsource\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">InteractiveInterpreter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">runsource</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">source</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">filename</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'&lt;input&gt;'</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">symbol</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'single'</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveInterpreter.runsource\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Compile and run some source in the interpreter. Arguments are the same as for\n<a class=\"reference internal\" href=\"#code.compile_command\" title=\"code.compile_command\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">compile_command()</span></code></a>; the default for <em>filename</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">'&lt;input&gt;'</span></code>, and for\n<em>symbol</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">'single'</span></code>.  One of several things can happen:</p>\n<ul class=\"simple\">\n<li><p>The input is incorrect; <a class=\"reference internal\" href=\"#code.compile_command\" title=\"code.compile_command\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">compile_command()</span></code></a> raised an exception\n(<a class=\"reference internal\" href=\"exceptions.html#SyntaxError\" title=\"SyntaxError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">SyntaxError</span></code></a> or <a class=\"reference internal\" href=\"exceptions.html#OverflowError\" title=\"OverflowError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OverflowError</span></code></a>).  A syntax traceback will be\nprinted by calling the <a class=\"reference internal\" href=\"#code.InteractiveInterpreter.showsyntaxerror\" title=\"code.InteractiveInterpreter.showsyntaxerror\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">showsyntaxerror()</span></code></a> method.  <a class=\"reference internal\" href=\"#code.InteractiveInterpreter.runsource\" title=\"code.InteractiveInterpreter.runsource\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">runsource()</span></code></a>\nreturns <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.</p></li>\n<li><p>The input is incomplete, and more input is required; <a class=\"reference internal\" href=\"#code.compile_command\" title=\"code.compile_command\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">compile_command()</span></code></a>\nreturned <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>. <a class=\"reference internal\" href=\"#code.InteractiveInterpreter.runsource\" title=\"code.InteractiveInterpreter.runsource\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">runsource()</span></code></a> returns <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</p></li>\n<li><p>The input is complete; <a class=\"reference internal\" href=\"#code.compile_command\" title=\"code.compile_command\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">compile_command()</span></code></a> returned a code object.  The\ncode is executed by calling the <a class=\"reference internal\" href=\"#code.InteractiveInterpreter.runcode\" title=\"code.InteractiveInterpreter.runcode\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">runcode()</span></code></a> (which also handles run-time\nexceptions, except for <a class=\"reference internal\" href=\"exceptions.html#SystemExit\" title=\"SystemExit\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">SystemExit</span></code></a>). <a class=\"reference internal\" href=\"#code.InteractiveInterpreter.runsource\" title=\"code.InteractiveInterpreter.runsource\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">runsource()</span></code></a> returns <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.</p></li>\n</ul>\n<p>The return value can be used to decide whether to use <code class=\"docutils literal notranslate\"><span class=\"pre\">sys.ps1</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">sys.ps2</span></code>\nto prompt the next line.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveInterpreter.runcode\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">InteractiveInterpreter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">runcode</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">code</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveInterpreter.runcode\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Execute a code object. When an exception occurs, <a class=\"reference internal\" href=\"#code.InteractiveInterpreter.showtraceback\" title=\"code.InteractiveInterpreter.showtraceback\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">showtraceback()</span></code></a> is called\nto display a traceback.  All exceptions are caught except <a class=\"reference internal\" href=\"exceptions.html#SystemExit\" title=\"SystemExit\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">SystemExit</span></code></a>,\nwhich is allowed to propagate.</p>\n<p>A note about <a class=\"reference internal\" href=\"exceptions.html#KeyboardInterrupt\" title=\"KeyboardInterrupt\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyboardInterrupt</span></code></a>: this exception may occur elsewhere in\nthis code, and may not always be caught.  The caller should be prepared to deal\nwith it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveInterpreter.showsyntaxerror\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">InteractiveInterpreter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">showsyntaxerror</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">filename</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveInterpreter.showsyntaxerror\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Display the syntax error that just occurred.  This does not display a stack\ntrace because there isn’t one for syntax errors. If <em>filename</em> is given, it is\nstuffed into the exception instead of the default filename provided by Python’s\nparser, because it always uses <code class=\"docutils literal notranslate\"><span class=\"pre\">'&lt;string&gt;'</span></code> when reading from a string. The\noutput is written by the <a class=\"reference internal\" href=\"#code.InteractiveInterpreter.write\" title=\"code.InteractiveInterpreter.write\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">write()</span></code></a> method.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveInterpreter.showtraceback\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">InteractiveInterpreter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">showtraceback</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveInterpreter.showtraceback\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Display the exception that just occurred.  We remove the first stack item\nbecause it is within the interpreter object implementation. The output is\nwritten by the <a class=\"reference internal\" href=\"#code.InteractiveInterpreter.write\" title=\"code.InteractiveInterpreter.write\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">write()</span></code></a> method.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.5: </span>The full chained traceback is displayed instead\nof just the primary traceback.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveInterpreter.write\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">InteractiveInterpreter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">write</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">data</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveInterpreter.write\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Write a string to the standard error stream (<code class=\"docutils literal notranslate\"><span class=\"pre\">sys.stderr</span></code>). Derived classes\nshould override this to provide the appropriate output handling as needed.</p>\n</dd></dl>\n\n</section>\n<section id=\"interactive-console-objects\">\n<span id=\"console-objects\"></span><h2>Interactive Console Objects<a class=\"headerlink\" href=\"#interactive-console-objects\" title=\"Link to this heading\">¶</a></h2>\n<p>The <a class=\"reference internal\" href=\"#code.InteractiveConsole\" title=\"code.InteractiveConsole\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">InteractiveConsole</span></code></a> class is a subclass of\n<a class=\"reference internal\" href=\"#code.InteractiveInterpreter\" title=\"code.InteractiveInterpreter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">InteractiveInterpreter</span></code></a>, and so offers all the methods of the\ninterpreter objects as well as the following additions.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveConsole.interact\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">InteractiveConsole.</span></span><span class=\"sig-name descname\"><span class=\"pre\">interact</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">banner</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">exitmsg</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveConsole.interact\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Closely emulate the interactive Python console. The optional <em>banner</em> argument\nspecify the banner to print before the first interaction; by default it prints a\nbanner similar to the one printed by the standard Python interpreter, followed\nby the class name of the console object in parentheses (so as not to confuse\nthis with the real interpreter – since it’s so close!).</p>\n<p>The optional <em>exitmsg</em> argument specifies an exit message printed when exiting.\nPass the empty string to suppress the exit message. If <em>exitmsg</em> is not given or\n<code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, a default message is printed.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.4: </span>To suppress printing any banner, pass an empty string.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span>Print an exit message when exiting.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveConsole.push\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">InteractiveConsole.</span></span><span class=\"sig-name descname\"><span class=\"pre\">push</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">line</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveConsole.push\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Push a line of source text to the interpreter. The line should not have a\ntrailing newline; it may have internal newlines.  The line is appended to a\nbuffer and the interpreter’s <a class=\"reference internal\" href=\"#code.InteractiveInterpreter.runsource\" title=\"code.InteractiveInterpreter.runsource\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">runsource()</span></code></a> method is called with the\nconcatenated contents of the buffer as source.  If this indicates that the\ncommand was executed or invalid, the buffer is reset; otherwise, the command is\nincomplete, and the buffer is left as it was after the line was appended.  The\nreturn value is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if more input is required, <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> if the line was\ndealt with in some way (this is the same as <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">runsource()</span></code>).</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveConsole.resetbuffer\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">InteractiveConsole.</span></span><span class=\"sig-name descname\"><span class=\"pre\">resetbuffer</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveConsole.resetbuffer\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Remove any unhandled source text from the input buffer.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"code.InteractiveConsole.raw_input\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">InteractiveConsole.</span></span><span class=\"sig-name descname\"><span class=\"pre\">raw_input</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">prompt</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">''</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#code.InteractiveConsole.raw_input\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Write a prompt and read a line.  The returned line does not include the trailing\nnewline.  When the user enters the EOF key sequence, <a class=\"reference internal\" href=\"exceptions.html#EOFError\" title=\"EOFError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">EOFError</span></code></a> is raised.\nThe base implementation reads from <code class=\"docutils literal notranslate\"><span class=\"pre\">sys.stdin</span></code>; a subclass may replace this\nwith a different implementation.</p>\n</dd></dl>\n\n</section>\n</section>\n\n\n            <div class=\"clearer\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"Main\">\n        <div class=\"sphinxsidebarwrapper\">\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">code</span></code> — Interpreter base classes</a><ul>\n<li><a class=\"reference internal\" href=\"#interactive-interpreter-objects\">Interactive Interpreter Objects</a></li>\n<li><a class=\"reference internal\" href=\"#interactive-console-objects\">Interactive Console Objects</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"custominterp.html\"\n                          title=\"previous chapter\">Custom Python Interpreters</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"codeop.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">codeop</span></code> — Compile Python code</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/code.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </div>\n<div id=\"sidebarbutton\" title=\"Collapse sidebar\">\n<span>«</span>\n</div>\n\n      </div>\n      <div class=\"clearer\"></div>\n    </div>  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             >index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"codeop.html\" title=\"codeop — Compile Python code\"\n             >next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"custominterp.html\" title=\"Custom Python Interpreters\"\n             >previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"custominterp.html\" >Custom Python Interpreters</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">code</span></code> — Interpreter base classes</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>  \n    <div class=\"footer\">\n    &copy; <a href=\"../copyright.html\">Copyright</a> 2001 Python Software Foundation.\n    <br>\n    This page is licensed under the Python Software Foundation License Version 2.\n    <br>\n    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.\n    <br>\n    \n      See <a href=\"/license.html\">History and License</a> for more information.<br>\n    \n    \n    <br>\n\n    The Python Software Foundation is a non-profit corporation.\n<a href=\"https://www.python.org/psf/donations/\">Please donate.</a>\n<br>\n    <br>\n      Last updated on Nov 25, 2025 (18:01 UTC).\n    \n      <a href=\"/bugs.html\">Found a bug</a>?\n    \n    <br>\n\n    Created using <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> 8.2.3.\n    </div>\n\n    <script type=\"text/javascript\" src=\"../_static/switchers.js\"></script>\n  </body>\n</html>",
  "metadata": {
    "title": "code — Interpreter base classes — Python 3.14.0 documentation",
    "meta_description": "Source code: Lib/code.py The code module provides facilities to implement read-eval-print loops in Python. Two classes and convenience functions are included which can be used to build applications...",
    "h1": "— Interpreter base classes"
  },
  "request_headers": {
    "Referer": "https://docs.python.org/3/library/",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
    "Accept-Language": "en",
    "User-Agent": "DumbCrawler/1.0",
    "Accept-Encoding": "gzip, deflate"
  },
  "response_headers": {
    "Content-Length": "7037",
    "Server": "nginx",
    "Content-Type": "text/html",
    "Last-Modified": "Tue, 25 Nov 2025 18:03:26 GMT",
    "Etag": "\"6925ef6e-a158\"",
    "X-Clacks-Overhead": "GNU Terry Pratchett",
    "Strict-Transport-Security": "max-age=315360000; includeSubDomains; preload",
    "Via": "1.1 varnish, 1.1 varnish",
    "Accept-Ranges": "bytes",
    "Age": "3506",
    "Date": "Wed, 26 Nov 2025 05:25:18 GMT",
    "X-Served-By": "cache-lga21966-LGA, cache-yul1970042-YUL",
    "X-Cache": "HIT, HIT",
    "X-Cache-Hits": "184, 0",
    "X-Timer": "S1764134719.680895,VS0,VE1",
    "Vary": "Accept-Encoding"
  },
  "crawled_at": "2025-11-26T05:25:19.285019+00:00",
  "crawler": {
    "name": "DumbCrawler",
    "version": "1.0",
    "mode": "crawl",
    "js_mode": "off",
    "scope": "subdomain"
  }
}