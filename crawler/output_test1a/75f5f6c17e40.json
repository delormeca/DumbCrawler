{
  "url": "https://docs.python.org/3/library/venv.html",
  "status_code": 200,
  "depth": 1,
  "referrer": "https://docs.python.org/3/library/",
  "raw_html": "<!DOCTYPE html>\n\n<html lang=\"en\" data-content_root=\"../\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<meta property=\"og:title\" content=\"venv — Creation of virtual environments\" />\n<meta property=\"og:type\" content=\"website\" />\n<meta property=\"og:url\" content=\"https://docs.python.org/3/library/venv.html\" />\n<meta property=\"og:site_name\" content=\"Python documentation\" />\n<meta property=\"og:description\" content=\"Source code: Lib/venv/ The venv module supports creating lightweight “virtual environments”, each with their own independent set of Python packages installed in their site directories. A virtual en...\" />\n<meta property=\"og:image:width\" content=\"1146\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://docs.python.org/3.14/_images/social_previews/summary_library_venv_ead7e0c7.png\" />\n<meta property=\"og:image:alt\" content=\"Source code: Lib/venv/ The venv module supports creating lightweight “virtual environments”, each with their own independent set of Python packages installed in their site directories. A virtual en...\" />\n<meta name=\"description\" content=\"Source code: Lib/venv/ The venv module supports creating lightweight “virtual environments”, each with their own independent set of Python packages installed in their site directories. A virtual en...\" />\n<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"theme-color\" content=\"#3776ab\">\n\n    <title>venv — Creation of virtual environments &#8212; Python 3.14.0 documentation</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments.css?v=b86133f3\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/classic.css?v=234b1a7c\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pydoctheme.css?v=8cd84f99\" />\n    <link id=\"pygments_dark_css\" media=\"(prefers-color-scheme: dark)\" rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments_dark.css?v=5349f25f\" />\n    \n    <script src=\"../_static/documentation_options.js?v=e4f4b189\"></script>\n    <script src=\"../_static/doctools.js?v=9bcbadda\"></script>\n    <script src=\"../_static/sphinx_highlight.js?v=dc90522c\"></script>\n    \n    <script src=\"../_static/sidebar.js\"></script>\n    \n    <link rel=\"search\" type=\"application/opensearchdescription+xml\"\n          title=\"Search within Python 3.14.0 documentation\"\n          href=\"../_static/opensearch.xml\"/>\n    <link rel=\"author\" title=\"About these documents\" href=\"../about.html\" />\n    <link rel=\"index\" title=\"Index\" href=\"../genindex.html\" />\n    <link rel=\"search\" title=\"Search\" href=\"../search.html\" />\n    <link rel=\"copyright\" title=\"Copyright\" href=\"../copyright.html\" />\n    <link rel=\"next\" title=\"zipapp — Manage executable Python zip archives\" href=\"zipapp.html\" />\n    <link rel=\"prev\" title=\"ensurepip — Bootstrapping the pip installer\" href=\"ensurepip.html\" />\n    \n      \n      <script defer file-types=\"bz2,epub,zip\" data-domain=\"docs.python.org\" src=\"https://analytics.python.org/js/script.file-downloads.outbound-links.js\"></script>\n      \n      <link rel=\"canonical\" href=\"https://docs.python.org/3/library/venv.html\">\n      \n    \n\n    \n    <style>\n      @media only screen {\n        table.full-width-table {\n            width: 100%;\n        }\n      }\n    </style>\n<link rel=\"stylesheet\" href=\"../_static/pydoctheme_dark.css\" media=\"(prefers-color-scheme: dark)\" id=\"pydoctheme_dark_css\">\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"../_static/py.svg\">\n            <script type=\"text/javascript\" src=\"../_static/copybutton.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/menu.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/search-focus.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/themetoggle.js\"></script> \n            <script type=\"text/javascript\" src=\"../_static/rtd_switcher.js\"></script>\n            <meta name=\"readthedocs-addons-api-version\" content=\"1\">\n\n  </head>\n<body>\n<div class=\"mobile-nav\">\n    <input type=\"checkbox\" id=\"menuToggler\" class=\"toggler__input\" aria-controls=\"navigation\"\n           aria-pressed=\"false\" aria-expanded=\"false\" role=\"button\" aria-label=\"Menu\">\n    <nav class=\"nav-content\" role=\"navigation\">\n        <label for=\"menuToggler\" class=\"toggler__label\">\n            <span></span>\n        </label>\n        <span class=\"nav-items-wrapper\">\n            <a href=\"https://www.python.org/\" class=\"nav-logo\">\n                <img src=\"../_static/py.svg\" alt=\"Python logo\">\n            </a>\n            <span class=\"version_switcher_placeholder\"></span>\n            <form role=\"search\" class=\"search\" action=\"../search.html\" method=\"get\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" class=\"search-icon\">\n                    <path fill-rule=\"nonzero\" fill=\"currentColor\" d=\"M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n                </svg>\n                <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\">\n                <input type=\"submit\" value=\"Go\">\n            </form>\n        </span>\n    </nav>\n    <div class=\"menu-wrapper\">\n        <nav class=\"menu\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"language_switcher_placeholder\"></div>\n            \n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label>\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">venv</span></code> — Creation of virtual environments</a><ul>\n<li><a class=\"reference internal\" href=\"#creating-virtual-environments\">Creating virtual environments</a></li>\n<li><a class=\"reference internal\" href=\"#how-venvs-work\">How venvs work</a></li>\n<li><a class=\"reference internal\" href=\"#api\">API</a></li>\n<li><a class=\"reference internal\" href=\"#an-example-of-extending-envbuilder\">An example of extending <code class=\"docutils literal notranslate\"><span class=\"pre\">EnvBuilder</span></code></a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"ensurepip.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ensurepip</span></code> — Bootstrapping the <code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span></code> installer</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"zipapp.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">zipapp</span></code> — Manage executable Python zip archives</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/venv.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </nav>\n    </div>\n</div>\n\n  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             accesskey=\"I\">index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"zipapp.html\" title=\"zipapp — Manage executable Python zip archives\"\n             accesskey=\"N\">next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"ensurepip.html\" title=\"ensurepip — Bootstrapping the pip installer\"\n             accesskey=\"P\">previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"distribution.html\" accesskey=\"U\">Software Packaging and Distribution</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">venv</span></code> — Creation of virtual environments</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>    \n\n    <div class=\"document\">\n      <div class=\"documentwrapper\">\n        <div class=\"bodywrapper\">\n          <div class=\"body\" role=\"main\">\n            \n  <section id=\"module-venv\">\n<span id=\"venv-creation-of-virtual-environments\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">venv</span></code> — Creation of virtual environments<a class=\"headerlink\" href=\"#module-venv\" title=\"Link to this heading\">¶</a></h1>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n<p><strong>Source code:</strong> <a class=\"extlink-source reference external\" href=\"https://github.com/python/cpython/tree/3.14/Lib/venv/\">Lib/venv/</a></p>\n<hr class=\"docutils\" id=\"index-0\" />\n<p id=\"venv-intro\"><span id=\"venv-def\"></span>The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">venv</span></code> module supports creating lightweight “virtual environments”,\neach with their own independent set of Python packages installed in\ntheir <a class=\"reference internal\" href=\"site.html#module-site\" title=\"site: Module responsible for site-specific configuration.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">site</span></code></a> directories.\nA virtual environment is created on top of an existing\nPython installation, known as the virtual environment’s “base” Python, and by\ndefault is isolated from the packages in the base environment,\nso that only those explicitly installed in the virtual environment are\navailable. See <a class=\"reference internal\" href=\"sys_path_init.html#sys-path-init-virtual-environments\"><span class=\"std std-ref\">Virtual Environments</span></a> and <a class=\"reference internal\" href=\"site.html#module-site\" title=\"site: Module responsible for site-specific configuration.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">site</span></code></a>’s\n<a class=\"reference internal\" href=\"site.html#site-virtual-environments-configuration\"><span class=\"std std-ref\">virtual environments documentation</span></a>\nfor more information.</p>\n<p>When used from within a virtual environment, common installation tools such as\n<a class=\"extlink-pypi reference external\" href=\"https://pypi.org/project/pip/\">pip</a> will install Python packages into a virtual environment\nwithout needing to be told to do so explicitly.</p>\n<p>A virtual environment is (amongst other things):</p>\n<ul class=\"simple\">\n<li><p>Used to contain a specific Python interpreter and software libraries and\nbinaries which are needed to support a project (library or application). These\nare by default isolated from software in other virtual environments and Python\ninterpreters and libraries installed in the operating system.</p></li>\n<li><p>Contained in a directory, conventionally named <code class=\"docutils literal notranslate\"><span class=\"pre\">.venv</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">venv</span></code> in\nthe project directory, or under a container directory for lots of virtual\nenvironments, such as <code class=\"docutils literal notranslate\"><span class=\"pre\">~/.virtualenvs</span></code>.</p></li>\n<li><p>Not checked into source control systems such as Git.</p></li>\n<li><p>Considered as disposable – it should be simple to delete and recreate it from\nscratch. You don’t place any project code in the environment.</p></li>\n<li><p>Not considered as movable or copyable – you just recreate the same\nenvironment in the target location.</p></li>\n</ul>\n<p>See <span class=\"target\" id=\"index-1\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0405/\"><strong>PEP 405</strong></a> for more background on Python virtual environments.</p>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<p><a class=\"reference external\" href=\"https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/#create-and-use-virtual-environments\">Python Packaging User Guide: Creating and using virtual environments</a></p>\n</div>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: not Android, not iOS, not WASI.</p>\n<p>This module is not supported on <a class=\"reference internal\" href=\"intro.html#mobile-availability\"><span class=\"std std-ref\">mobile platforms</span></a>\nor <a class=\"reference internal\" href=\"intro.html#wasm-availability\"><span class=\"std std-ref\">WebAssembly platforms</span></a>.</p>\n</div>\n<section id=\"creating-virtual-environments\">\n<h2>Creating virtual environments<a class=\"headerlink\" href=\"#creating-virtual-environments\" title=\"Link to this heading\">¶</a></h2>\n<p><a class=\"reference internal\" href=\"#venv-def\"><span class=\"std std-ref\">Virtual environments</span></a> are created by executing the <code class=\"docutils literal notranslate\"><span class=\"pre\">venv</span></code>\nmodule:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>python<span class=\"w\"> </span>-m<span class=\"w\"> </span>venv<span class=\"w\"> </span>/path/to/new/virtual/environment\n</pre></div>\n</div>\n<p>This creates the target directory (including parent directories as needed)\nand places a <code class=\"file docutils literal notranslate\"><span class=\"pre\">pyvenv.cfg</span></code> file in it with a <code class=\"docutils literal notranslate\"><span class=\"pre\">home</span></code> key\npointing to the Python installation from which the command was run.\nIt also creates a <code class=\"file docutils literal notranslate\"><span class=\"pre\">bin</span></code> (or <code class=\"file docutils literal notranslate\"><span class=\"pre\">Scripts</span></code> on Windows) subdirectory\ncontaining a copy or symlink of the Python executable\n(as appropriate for the platform or arguments used at environment creation time).\nIt also creates a <code class=\"file docutils literal notranslate\"><span class=\"pre\">lib/pythonX.Y/site-packages</span></code> subdirectory\n(on Windows, this is <code class=\"file docutils literal notranslate\"><span class=\"pre\">Lib\\site-packages</span></code>).\nIf an existing directory is specified, it will be re-used.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.5: </span>The use of <code class=\"docutils literal notranslate\"><span class=\"pre\">venv</span></code> is now recommended for creating virtual environments.</p>\n</div>\n<div class=\"deprecated-removed\">\n<p><span class=\"versionmodified removed\">Deprecated since version 3.6, removed in version 3.8: </span><strong class=\"program\">pyvenv</strong> was the recommended tool for creating virtual environments\nfor Python 3.3 and 3.4, and replaced in 3.5 by executing <code class=\"docutils literal notranslate\"><span class=\"pre\">venv</span></code> directly.</p>\n</div>\n<p>On Windows, invoke the <code class=\"docutils literal notranslate\"><span class=\"pre\">venv</span></code> command as follows:</p>\n<div class=\"highlight-ps1con notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">PS&gt; </span><span class=\"n\">python</span> <span class=\"n\">-m</span> <span class=\"n\">venv</span> <span class=\"n\">C</span><span class=\"p\">:\\</span><span class=\"n\">path</span><span class=\"p\">\\</span><span class=\"n\">to</span><span class=\"p\">\\</span><span class=\"n\">new</span><span class=\"p\">\\</span><span class=\"n\">virtual</span><span class=\"p\">\\</span><span class=\"n\">environment</span>\n</pre></div>\n</div>\n<p>The command, if run with <code class=\"docutils literal notranslate\"><span class=\"pre\">-h</span></code>, will show the available options:</p>\n<div class=\"highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>usage: venv [-h] [--system-site-packages] [--symlinks | --copies] [--clear]\n            [--upgrade] [--without-pip] [--prompt PROMPT] [--upgrade-deps]\n            [--without-scm-ignore-files]\n            ENV_DIR [ENV_DIR ...]\n\nCreates virtual Python environments in one or more target directories.\n\nOnce an environment has been created, you may wish to activate it, e.g. by\nsourcing an activate script in its bin directory.\n</pre></div>\n</div>\n<dl class=\"std option\" id=\"venv-cli\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-venv-arg-ENV_DIR\">\n<span class=\"sig-name descname\"><span class=\"pre\">ENV_DIR</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-venv-arg-ENV_DIR\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A required argument specifying the directory to create the environment in.</p>\n</dd></dl>\n\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-venv-system-site-packages\">\n<span class=\"sig-name descname\"><span class=\"pre\">--system-site-packages</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-venv-system-site-packages\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Give the virtual environment access to the system site-packages directory.</p>\n</dd></dl>\n\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-venv-symlinks\">\n<span class=\"sig-name descname\"><span class=\"pre\">--symlinks</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-venv-symlinks\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Try to use symlinks rather than copies, when symlinks are not the default for the platform.</p>\n</dd></dl>\n\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-venv-copies\">\n<span class=\"sig-name descname\"><span class=\"pre\">--copies</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-venv-copies\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Try to use copies rather than symlinks, even when symlinks are the default for the platform.</p>\n</dd></dl>\n\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-venv-clear\">\n<span class=\"sig-name descname\"><span class=\"pre\">--clear</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-venv-clear\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Delete the contents of the environment directory if it already exists, before environment creation.</p>\n</dd></dl>\n\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-venv-upgrade\">\n<span class=\"sig-name descname\"><span class=\"pre\">--upgrade</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-venv-upgrade\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Upgrade the environment directory to use this version of Python, assuming Python has been upgraded in-place.</p>\n</dd></dl>\n\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-venv-without-pip\">\n<span class=\"sig-name descname\"><span class=\"pre\">--without-pip</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-venv-without-pip\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Skips installing or upgrading pip in the virtual environment (pip is bootstrapped by default).</p>\n</dd></dl>\n\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-venv-prompt\">\n<span class=\"sig-name descname\"><span class=\"pre\">--prompt</span></span><span class=\"sig-prename descclassname\"> <span class=\"pre\">&lt;PROMPT&gt;</span></span><a class=\"headerlink\" href=\"#cmdoption-venv-prompt\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Provides an alternative prompt prefix for this environment.</p>\n</dd></dl>\n\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-venv-upgrade-deps\">\n<span class=\"sig-name descname\"><span class=\"pre\">--upgrade-deps</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-venv-upgrade-deps\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Upgrade core dependencies (pip) to the latest version in PyPI.</p>\n</dd></dl>\n\n<dl class=\"std option\">\n<dt class=\"sig sig-object std\" id=\"cmdoption-venv-without-scm-ignore-files\">\n<span class=\"sig-name descname\"><span class=\"pre\">--without-scm-ignore-files</span></span><span class=\"sig-prename descclassname\"></span><a class=\"headerlink\" href=\"#cmdoption-venv-without-scm-ignore-files\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Skips adding SCM ignore files to the environment directory (Git is supported by default).</p>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.4: </span>Installs pip by default, added the <code class=\"docutils literal notranslate\"><span class=\"pre\">--without-pip</span></code>  and <code class=\"docutils literal notranslate\"><span class=\"pre\">--copies</span></code>\noptions.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.4: </span>In earlier versions, if the target directory already existed, an error was\nraised, unless the <code class=\"docutils literal notranslate\"><span class=\"pre\">--clear</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">--upgrade</span></code> option was provided.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.9: </span>Add <code class=\"docutils literal notranslate\"><span class=\"pre\">--upgrade-deps</span></code> option to upgrade pip + setuptools to the latest on PyPI.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span><code class=\"docutils literal notranslate\"><span class=\"pre\">setuptools</span></code> is no longer a core venv dependency.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Added the <code class=\"docutils literal notranslate\"><span class=\"pre\">--without-scm-ignore-files</span></code> option.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span><code class=\"docutils literal notranslate\"><span class=\"pre\">venv</span></code> now creates a <code class=\"file docutils literal notranslate\"><span class=\"pre\">.gitignore</span></code> file for Git by default.</p>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>While symlinks are supported on Windows, they are not recommended. Of\nparticular note is that double-clicking <code class=\"docutils literal notranslate\"><span class=\"pre\">python.exe</span></code> in File Explorer\nwill resolve the symlink eagerly and ignore the virtual environment.</p>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>On Microsoft Windows, it may be required to enable the <code class=\"docutils literal notranslate\"><span class=\"pre\">Activate.ps1</span></code>\nscript by setting the execution policy for the user. You can do this by\nissuing the following PowerShell command:</p>\n<div class=\"highlight-powershell notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">PS </span><span class=\"n\">C</span><span class=\"p\">:\\&gt;</span> <span class=\"nb\">Set-ExecutionPolicy</span> <span class=\"n\">-ExecutionPolicy</span> <span class=\"n\">RemoteSigned</span> <span class=\"n\">-Scope</span> <span class=\"n\">CurrentUser</span>\n</pre></div>\n</div>\n<p>See <a class=\"reference external\" href=\"https://go.microsoft.com/fwlink/?LinkID=135170\">About Execution Policies</a>\nfor more information.</p>\n</div>\n<p>The created <code class=\"file docutils literal notranslate\"><span class=\"pre\">pyvenv.cfg</span></code> file also includes the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">include-system-site-packages</span></code> key, set to <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if <code class=\"docutils literal notranslate\"><span class=\"pre\">venv</span></code> is\nrun with the <code class=\"docutils literal notranslate\"><span class=\"pre\">--system-site-packages</span></code> option, <code class=\"docutils literal notranslate\"><span class=\"pre\">false</span></code> otherwise.</p>\n<p>Unless the <code class=\"docutils literal notranslate\"><span class=\"pre\">--without-pip</span></code> option is given, <a class=\"reference internal\" href=\"ensurepip.html#module-ensurepip\" title=\"ensurepip: Bootstrapping the &quot;pip&quot; installer into an existing Python installation or virtual environment.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ensurepip</span></code></a> will be\ninvoked to bootstrap <code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span></code> into the virtual environment.</p>\n<p>Multiple paths can be given to <code class=\"docutils literal notranslate\"><span class=\"pre\">venv</span></code>, in which case an identical virtual\nenvironment will be created, according to the given options, at each provided\npath.</p>\n</section>\n<section id=\"how-venvs-work\">\n<span id=\"venv-explanation\"></span><h2>How venvs work<a class=\"headerlink\" href=\"#how-venvs-work\" title=\"Link to this heading\">¶</a></h2>\n<p>When a Python interpreter is running from a virtual environment,\n<a class=\"reference internal\" href=\"sys.html#sys.prefix\" title=\"sys.prefix\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.prefix</span></code></a> and <a class=\"reference internal\" href=\"sys.html#sys.exec_prefix\" title=\"sys.exec_prefix\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.exec_prefix</span></code></a>\npoint to the directories of the virtual environment,\nwhereas <a class=\"reference internal\" href=\"sys.html#sys.base_prefix\" title=\"sys.base_prefix\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.base_prefix</span></code></a> and <a class=\"reference internal\" href=\"sys.html#sys.base_exec_prefix\" title=\"sys.base_exec_prefix\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.base_exec_prefix</span></code></a>\npoint to those of the base Python used to create the environment.\nIt is sufficient to check\n<code class=\"docutils literal notranslate\"><span class=\"pre\">sys.prefix</span> <span class=\"pre\">!=</span> <span class=\"pre\">sys.base_prefix</span></code> to determine if the current interpreter is\nrunning from a virtual environment.</p>\n<p>A virtual environment may be “activated” using a script in its binary directory\n(<code class=\"docutils literal notranslate\"><span class=\"pre\">bin</span></code> on POSIX; <code class=\"docutils literal notranslate\"><span class=\"pre\">Scripts</span></code> on Windows).\nThis will prepend that directory to your <span class=\"target\" id=\"index-2\"></span><code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">PATH</span></code>, so that running\n<strong class=\"program\">python</strong> will invoke the environment’s Python interpreter\nand you can run installed scripts without having to use their full path.\nThe invocation of the activation script is platform-specific\n(<code class=\"samp docutils literal notranslate\"><em><span class=\"pre\">&lt;venv&gt;</span></em></code> must be replaced by the path to the directory\ncontaining the virtual environment):</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Platform</p></th>\n<th class=\"head\"><p>Shell</p></th>\n<th class=\"head\"><p>Command to activate virtual environment</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td rowspan=\"4\"><p>POSIX</p></td>\n<td><p>bash/zsh</p></td>\n<td><p><code class=\"samp docutils literal notranslate\"><span class=\"pre\">$</span> <span class=\"pre\">source</span> <em><span class=\"pre\">&lt;venv&gt;</span></em><span class=\"pre\">/bin/activate</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>fish</p></td>\n<td><p><code class=\"samp docutils literal notranslate\"><span class=\"pre\">$</span> <span class=\"pre\">source</span> <em><span class=\"pre\">&lt;venv&gt;</span></em><span class=\"pre\">/bin/activate.fish</span></code></p></td>\n</tr>\n<tr class=\"row-even\"><td><p>csh/tcsh</p></td>\n<td><p><code class=\"samp docutils literal notranslate\"><span class=\"pre\">$</span> <span class=\"pre\">source</span> <em><span class=\"pre\">&lt;venv&gt;</span></em><span class=\"pre\">/bin/activate.csh</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>pwsh</p></td>\n<td><p><code class=\"samp docutils literal notranslate\"><span class=\"pre\">$</span> <em><span class=\"pre\">&lt;venv&gt;</span></em><span class=\"pre\">/bin/Activate.ps1</span></code></p></td>\n</tr>\n<tr class=\"row-even\"><td rowspan=\"2\"><p>Windows</p></td>\n<td><p>cmd.exe</p></td>\n<td><p><code class=\"samp docutils literal notranslate\"><span class=\"pre\">C:\\&gt;</span> <em><span class=\"pre\">&lt;venv&gt;</span></em><span class=\"pre\">\\Scripts\\activate.bat</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>PowerShell</p></td>\n<td><p><code class=\"samp docutils literal notranslate\"><span class=\"pre\">PS</span> <span class=\"pre\">C:\\&gt;</span> <em><span class=\"pre\">&lt;venv&gt;</span></em><span class=\"pre\">\\Scripts\\Activate.ps1</span></code></p></td>\n</tr>\n</tbody>\n</table>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.4: </span><strong class=\"program\">fish</strong> and <strong class=\"program\">csh</strong> activation scripts.</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.8: </span>PowerShell activation scripts installed under POSIX for PowerShell Core\nsupport.</p>\n</div>\n<p>You don’t specifically <em>need</em> to activate a virtual environment,\nas you can just specify the full path to that environment’s\nPython interpreter when invoking Python.\nFurthermore, all scripts installed in the environment\nshould be runnable without activating it.</p>\n<p>In order to achieve this, scripts installed into virtual environments have\na “shebang” line which points to the environment’s Python interpreter,\n<code class=\"samp docutils literal notranslate\"><span class=\"pre\">#!/</span><em><span class=\"pre\">&lt;path-to-venv&gt;</span></em><span class=\"pre\">/bin/python</span></code>.\nThis means that the script will run with that interpreter regardless of the\nvalue of <span class=\"target\" id=\"index-3\"></span><code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">PATH</span></code>. On Windows, “shebang” line processing is supported if\nyou have the <a class=\"reference internal\" href=\"../using/windows.html#launcher\"><span class=\"std std-ref\">Python install manager</span></a> installed. Thus, double-clicking an installed\nscript in a Windows Explorer window should run it with the correct interpreter\nwithout the environment needing to be activated or on the <span class=\"target\" id=\"index-4\"></span><code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">PATH</span></code>.</p>\n<p>When a virtual environment has been activated, the <code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">VIRTUAL_ENV</span></code>\nenvironment variable is set to the path of the environment.\nSince explicitly activating a virtual environment is not required to use it,\n<code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">VIRTUAL_ENV</span></code> cannot be relied upon to determine\nwhether a virtual environment is being used.</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>Because scripts installed in environments should not expect the\nenvironment to be activated, their shebang lines contain the absolute paths\nto their environment’s interpreters. Because of this, environments are\ninherently non-portable, in the general case. You should always have a\nsimple means of recreating an environment (for example, if you have a\nrequirements file <code class=\"docutils literal notranslate\"><span class=\"pre\">requirements.txt</span></code>, you can invoke <code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span> <span class=\"pre\">install</span> <span class=\"pre\">-r</span>\n<span class=\"pre\">requirements.txt</span></code> using the environment’s <code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span></code> to install all of the\npackages needed by the environment). If for any reason you need to move the\nenvironment to a new location, you should recreate it at the desired\nlocation and delete the one at the old location. If you move an environment\nbecause you moved a parent directory of it, you should recreate the\nenvironment in its new location. Otherwise, software installed into the\nenvironment may not work as expected.</p>\n</div>\n<p>You can deactivate a virtual environment by typing <code class=\"docutils literal notranslate\"><span class=\"pre\">deactivate</span></code> in your shell.\nThe exact mechanism is platform-specific and is an internal implementation\ndetail (typically, a script or shell function will be used).</p>\n</section>\n<section id=\"api\">\n<span id=\"venv-api\"></span><h2>API<a class=\"headerlink\" href=\"#api\" title=\"Link to this heading\">¶</a></h2>\n<p>The high-level method described above makes use of a simple API which provides\nmechanisms for third-party virtual environment creators to customize environment\ncreation according to their needs, the <a class=\"reference internal\" href=\"#venv.EnvBuilder\" title=\"venv.EnvBuilder\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">EnvBuilder</span></code></a> class.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"venv.EnvBuilder\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">venv.</span></span><span class=\"sig-name descname\"><span class=\"pre\">EnvBuilder</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">system_site_packages</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">clear</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">symlinks</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">upgrade</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">with_pip</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">prompt</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">upgrade_deps</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">scm_ignore_files</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">frozenset()</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.EnvBuilder\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The <a class=\"reference internal\" href=\"#venv.EnvBuilder\" title=\"venv.EnvBuilder\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">EnvBuilder</span></code></a> class accepts the following keyword arguments on\ninstantiation:</p>\n<ul class=\"simple\">\n<li><p><em>system_site_packages</em> – a boolean value indicating that the system Python\nsite-packages should be available to the environment (defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>).</p></li>\n<li><p><em>clear</em> – a boolean value which, if true, will delete the contents of\nany existing target directory, before creating the environment.</p></li>\n<li><p><em>symlinks</em> – a boolean value indicating whether to attempt to symlink the\nPython binary rather than copying.</p></li>\n<li><p><em>upgrade</em> – a boolean value which, if true, will upgrade an existing\nenvironment with the running Python - for use when that Python has been\nupgraded in-place (defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>).</p></li>\n<li><p><em>with_pip</em> – a boolean value which, if true, ensures pip is\ninstalled in the virtual environment. This uses <a class=\"reference internal\" href=\"ensurepip.html#module-ensurepip\" title=\"ensurepip: Bootstrapping the &quot;pip&quot; installer into an existing Python installation or virtual environment.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ensurepip</span></code></a> with\nthe <code class=\"docutils literal notranslate\"><span class=\"pre\">--default-pip</span></code> option.</p></li>\n<li><p><em>prompt</em> – a string to be used after virtual environment is activated\n(defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> which means directory name of the environment would\nbe used). If the special string <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;.&quot;</span></code> is provided, the basename of the\ncurrent directory is used as the prompt.</p></li>\n<li><p><em>upgrade_deps</em> – Update the base venv modules to the latest on PyPI</p></li>\n<li><p><em>scm_ignore_files</em> – Create ignore files based for the specified source\ncontrol managers (SCM) in the iterable. Support is defined by having a\nmethod named <code class=\"docutils literal notranslate\"><span class=\"pre\">create_{scm}_ignore_file</span></code>. The only value supported by\ndefault is <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;git&quot;</span></code> via <a class=\"reference internal\" href=\"#venv.EnvBuilder.create_git_ignore_file\" title=\"venv.EnvBuilder.create_git_ignore_file\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">create_git_ignore_file()</span></code></a>.</p></li>\n</ul>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.4: </span>Added the <code class=\"docutils literal notranslate\"><span class=\"pre\">with_pip</span></code> parameter</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span>Added the <code class=\"docutils literal notranslate\"><span class=\"pre\">prompt</span></code> parameter</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.9: </span>Added the <code class=\"docutils literal notranslate\"><span class=\"pre\">upgrade_deps</span></code> parameter</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Added the <code class=\"docutils literal notranslate\"><span class=\"pre\">scm_ignore_files</span></code> parameter</p>\n</div>\n<p><a class=\"reference internal\" href=\"#venv.EnvBuilder\" title=\"venv.EnvBuilder\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">EnvBuilder</span></code></a> may be used as a base class.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"venv.EnvBuilder.create\">\n<span class=\"sig-name descname\"><span class=\"pre\">create</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env_dir</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.EnvBuilder.create\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a virtual environment by specifying the target directory\n(absolute or relative to the current directory) which is to contain the\nvirtual environment.  The <code class=\"docutils literal notranslate\"><span class=\"pre\">create</span></code> method will either create the\nenvironment in the specified directory, or raise an appropriate\nexception.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">create</span></code> method of the <a class=\"reference internal\" href=\"#venv.EnvBuilder\" title=\"venv.EnvBuilder\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">EnvBuilder</span></code></a> class illustrates the\nhooks available for subclass customization:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">create</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">env_dir</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Create a virtualized Python environment in a directory.</span>\n<span class=\"sd\">    env_dir is the target directory to create an environment in.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">env_dir</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">abspath</span><span class=\"p\">(</span><span class=\"n\">env_dir</span><span class=\"p\">)</span>\n    <span class=\"n\">context</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ensure_directories</span><span class=\"p\">(</span><span class=\"n\">env_dir</span><span class=\"p\">)</span>\n    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">create_configuration</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">)</span>\n    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">setup_python</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">)</span>\n    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">setup_scripts</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">)</span>\n    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">post_setup</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Each of the methods <a class=\"reference internal\" href=\"#venv.EnvBuilder.ensure_directories\" title=\"venv.EnvBuilder.ensure_directories\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">ensure_directories()</span></code></a>,\n<a class=\"reference internal\" href=\"#venv.EnvBuilder.create_configuration\" title=\"venv.EnvBuilder.create_configuration\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">create_configuration()</span></code></a>, <a class=\"reference internal\" href=\"#venv.EnvBuilder.setup_python\" title=\"venv.EnvBuilder.setup_python\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">setup_python()</span></code></a>,\n<a class=\"reference internal\" href=\"#venv.EnvBuilder.setup_scripts\" title=\"venv.EnvBuilder.setup_scripts\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">setup_scripts()</span></code></a> and <a class=\"reference internal\" href=\"#venv.EnvBuilder.post_setup\" title=\"venv.EnvBuilder.post_setup\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">post_setup()</span></code></a> can be overridden.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"venv.EnvBuilder.ensure_directories\">\n<span class=\"sig-name descname\"><span class=\"pre\">ensure_directories</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env_dir</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.EnvBuilder.ensure_directories\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Creates the environment directory and all necessary subdirectories that\ndon’t already exist, and returns a context object.  This context object\nis just a holder for attributes (such as paths) for use by the other\nmethods.  If the <a class=\"reference internal\" href=\"#venv.EnvBuilder\" title=\"venv.EnvBuilder\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">EnvBuilder</span></code></a> is created with the arg\n<code class=\"docutils literal notranslate\"><span class=\"pre\">clear=True</span></code>, contents of the environment directory will be cleared\nand then all necessary subdirectories will be recreated.</p>\n<p>The returned context object is a <a class=\"reference internal\" href=\"types.html#types.SimpleNamespace\" title=\"types.SimpleNamespace\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">types.SimpleNamespace</span></code></a> with the\nfollowing attributes:</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">env_dir</span></code> - The location of the virtual environment. Used for\n<code class=\"docutils literal notranslate\"><span class=\"pre\">__VENV_DIR__</span></code> in activation scripts (see <a class=\"reference internal\" href=\"#venv.EnvBuilder.install_scripts\" title=\"venv.EnvBuilder.install_scripts\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">install_scripts()</span></code></a>).</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">env_name</span></code> - The name of the virtual environment. Used for\n<code class=\"docutils literal notranslate\"><span class=\"pre\">__VENV_NAME__</span></code> in activation scripts (see <a class=\"reference internal\" href=\"#venv.EnvBuilder.install_scripts\" title=\"venv.EnvBuilder.install_scripts\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">install_scripts()</span></code></a>).</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">prompt</span></code> - The prompt to be used by the activation scripts. Used for\n<code class=\"docutils literal notranslate\"><span class=\"pre\">__VENV_PROMPT__</span></code> in activation scripts (see <a class=\"reference internal\" href=\"#venv.EnvBuilder.install_scripts\" title=\"venv.EnvBuilder.install_scripts\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">install_scripts()</span></code></a>).</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">executable</span></code> - The underlying Python executable used by the virtual\nenvironment. This takes into account the case where a virtual environment\nis created from another virtual environment.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">inc_path</span></code> - The include path for the virtual environment.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">lib_path</span></code> - The purelib path for the virtual environment.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">bin_path</span></code> - The script path for the virtual environment.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">bin_name</span></code> - The name of the script path relative to the virtual\nenvironment location. Used for <code class=\"docutils literal notranslate\"><span class=\"pre\">__VENV_BIN_NAME__</span></code> in activation\nscripts (see <a class=\"reference internal\" href=\"#venv.EnvBuilder.install_scripts\" title=\"venv.EnvBuilder.install_scripts\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">install_scripts()</span></code></a>).</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">env_exe</span></code> - The name of the Python interpreter in the virtual\nenvironment. Used for <code class=\"docutils literal notranslate\"><span class=\"pre\">__VENV_PYTHON__</span></code> in activation scripts\n(see <a class=\"reference internal\" href=\"#venv.EnvBuilder.install_scripts\" title=\"venv.EnvBuilder.install_scripts\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">install_scripts()</span></code></a>).</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">env_exec_cmd</span></code> - The name of the Python interpreter, taking into\naccount filesystem redirections. This can be used to run Python in\nthe virtual environment.</p></li>\n</ul>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.11: </span>The <em>venv</em>\n<a class=\"reference internal\" href=\"sysconfig.html#installation-paths\"><span class=\"std std-ref\">sysconfig installation scheme</span></a>\nis used to construct the paths of the created directories.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span>The attribute <code class=\"docutils literal notranslate\"><span class=\"pre\">lib_path</span></code> was added to the context, and the context\nobject was documented.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"venv.EnvBuilder.create_configuration\">\n<span class=\"sig-name descname\"><span class=\"pre\">create_configuration</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">context</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.EnvBuilder.create_configuration\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Creates the <code class=\"docutils literal notranslate\"><span class=\"pre\">pyvenv.cfg</span></code> configuration file in the environment.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"venv.EnvBuilder.setup_python\">\n<span class=\"sig-name descname\"><span class=\"pre\">setup_python</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">context</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.EnvBuilder.setup_python\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Creates a copy or symlink to the Python executable in the environment.\nOn POSIX systems, if a specific executable <code class=\"docutils literal notranslate\"><span class=\"pre\">python3.x</span></code> was used,\nsymlinks to <code class=\"docutils literal notranslate\"><span class=\"pre\">python</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">python3</span></code> will be created pointing to that\nexecutable, unless files with those names already exist.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"venv.EnvBuilder.setup_scripts\">\n<span class=\"sig-name descname\"><span class=\"pre\">setup_scripts</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">context</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.EnvBuilder.setup_scripts\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Installs activation scripts appropriate to the platform into the virtual\nenvironment.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"venv.EnvBuilder.upgrade_dependencies\">\n<span class=\"sig-name descname\"><span class=\"pre\">upgrade_dependencies</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">context</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.EnvBuilder.upgrade_dependencies\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Upgrades the core venv dependency packages (currently <a class=\"extlink-pypi reference external\" href=\"https://pypi.org/project/pip/\">pip</a>)\nin the environment. This is done by shelling out to the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span></code> executable in the environment.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.9.</span></p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span><a class=\"extlink-pypi reference external\" href=\"https://pypi.org/project/setuptools/\">setuptools</a> is no longer a core venv dependency.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"venv.EnvBuilder.post_setup\">\n<span class=\"sig-name descname\"><span class=\"pre\">post_setup</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">context</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.EnvBuilder.post_setup\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A placeholder method which can be overridden in third party\nimplementations to pre-install packages in the virtual environment or\nperform other post-creation steps.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"venv.EnvBuilder.install_scripts\">\n<span class=\"sig-name descname\"><span class=\"pre\">install_scripts</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">context</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">path</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.EnvBuilder.install_scripts\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This method can be\ncalled from <a class=\"reference internal\" href=\"#venv.EnvBuilder.setup_scripts\" title=\"venv.EnvBuilder.setup_scripts\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">setup_scripts()</span></code></a> or <a class=\"reference internal\" href=\"#venv.EnvBuilder.post_setup\" title=\"venv.EnvBuilder.post_setup\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">post_setup()</span></code></a> in subclasses to\nassist in installing custom scripts into the virtual environment.</p>\n<p><em>path</em> is the path to a directory that should contain subdirectories\n<code class=\"docutils literal notranslate\"><span class=\"pre\">common</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">posix</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">nt</span></code>; each containing scripts destined for the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">bin</span></code> directory in the environment.  The contents of <code class=\"docutils literal notranslate\"><span class=\"pre\">common</span></code> and the\ndirectory corresponding to <a class=\"reference internal\" href=\"os.html#os.name\" title=\"os.name\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">os.name</span></code></a> are copied after some text\nreplacement of placeholders:</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">__VENV_DIR__</span></code> is replaced with the absolute path of the environment\ndirectory.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">__VENV_NAME__</span></code> is replaced with the environment name (final path\nsegment of environment directory).</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">__VENV_PROMPT__</span></code> is replaced with the prompt (the environment\nname surrounded by parentheses and with a following space)</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">__VENV_BIN_NAME__</span></code> is replaced with the name of the bin directory\n(either <code class=\"docutils literal notranslate\"><span class=\"pre\">bin</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">Scripts</span></code>).</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">__VENV_PYTHON__</span></code> is replaced with the absolute path of the\nenvironment’s executable.</p></li>\n</ul>\n<p>The directories are allowed to exist (for when an existing environment\nis being upgraded).</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"venv.EnvBuilder.create_git_ignore_file\">\n<span class=\"sig-name descname\"><span class=\"pre\">create_git_ignore_file</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">context</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.EnvBuilder.create_git_ignore_file\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Creates a <code class=\"docutils literal notranslate\"><span class=\"pre\">.gitignore</span></code> file within the virtual environment that causes\nthe entire directory to be ignored by the Git source control manager.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.13.</span></p>\n</div>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.7.2: </span>Windows now uses redirector scripts for <code class=\"docutils literal notranslate\"><span class=\"pre\">python[w].exe</span></code> instead of\ncopying the actual binaries. In 3.7.2 only <a class=\"reference internal\" href=\"#venv.EnvBuilder.setup_python\" title=\"venv.EnvBuilder.setup_python\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">setup_python()</span></code></a> does\nnothing unless running from a build in the source tree.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.7.3: </span>Windows copies the redirector scripts as part of <a class=\"reference internal\" href=\"#venv.EnvBuilder.setup_python\" title=\"venv.EnvBuilder.setup_python\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">setup_python()</span></code></a>\ninstead of <a class=\"reference internal\" href=\"#venv.EnvBuilder.setup_scripts\" title=\"venv.EnvBuilder.setup_scripts\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">setup_scripts()</span></code></a>. This was not the case in 3.7.2.\nWhen using symlinks, the original executables will be linked.</p>\n</div>\n</dd></dl>\n\n<p>There is also a module-level convenience function:</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"venv.create\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">venv.</span></span><span class=\"sig-name descname\"><span class=\"pre\">create</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env_dir</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">system_site_packages</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">clear</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">symlinks</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">with_pip</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">prompt</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">upgrade_deps</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">scm_ignore_files</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">frozenset()</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#venv.create\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create an <a class=\"reference internal\" href=\"#venv.EnvBuilder\" title=\"venv.EnvBuilder\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">EnvBuilder</span></code></a> with the given keyword arguments, and call its\n<a class=\"reference internal\" href=\"#venv.EnvBuilder.create\" title=\"venv.EnvBuilder.create\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">create()</span></code></a> method with the <em>env_dir</em> argument.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.4: </span>Added the <em>with_pip</em> parameter</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span>Added the <em>prompt</em> parameter</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.9: </span>Added the <em>upgrade_deps</em> parameter</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Added the <em>scm_ignore_files</em> parameter</p>\n</div>\n</dd></dl>\n\n</section>\n<section id=\"an-example-of-extending-envbuilder\">\n<h2>An example of extending <code class=\"docutils literal notranslate\"><span class=\"pre\">EnvBuilder</span></code><a class=\"headerlink\" href=\"#an-example-of-extending-envbuilder\" title=\"Link to this heading\">¶</a></h2>\n<p>The following script shows how to extend <a class=\"reference internal\" href=\"#venv.EnvBuilder\" title=\"venv.EnvBuilder\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">EnvBuilder</span></code></a> by implementing a\nsubclass which installs setuptools and pip into a created virtual environment:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">os</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">os.path</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">subprocess</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Popen</span><span class=\"p\">,</span> <span class=\"n\">PIPE</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">sys</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">threading</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Thread</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">urllib.parse</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">urlparse</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">urllib.request</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">urlretrieve</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">venv</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">ExtendedEnvBuilder</span><span class=\"p\">(</span><span class=\"n\">venv</span><span class=\"o\">.</span><span class=\"n\">EnvBuilder</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    This builder installs setuptools and pip so that you can pip or</span>\n<span class=\"sd\">    easy_install other packages into the created virtual environment.</span>\n\n<span class=\"sd\">    :param nodist: If true, setuptools and pip are not installed into the</span>\n<span class=\"sd\">                   created virtual environment.</span>\n<span class=\"sd\">    :param nopip: If true, pip is not installed into the created</span>\n<span class=\"sd\">                  virtual environment.</span>\n<span class=\"sd\">    :param progress: If setuptools or pip are installed, the progress of the</span>\n<span class=\"sd\">                     installation can be monitored by passing a progress</span>\n<span class=\"sd\">                     callable. If specified, it is called with two</span>\n<span class=\"sd\">                     arguments: a string indicating some progress, and a</span>\n<span class=\"sd\">                     context indicating where the string is coming from.</span>\n<span class=\"sd\">                     The context argument can have one of three values:</span>\n<span class=\"sd\">                     &#39;main&#39;, indicating that it is called from virtualize()</span>\n<span class=\"sd\">                     itself, and &#39;stdout&#39; and &#39;stderr&#39;, which are obtained</span>\n<span class=\"sd\">                     by reading lines from the output streams of a subprocess</span>\n<span class=\"sd\">                     which is used to install the app.</span>\n\n<span class=\"sd\">                     If a callable is not specified, default progress</span>\n<span class=\"sd\">                     information is output to sys.stderr.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">nodist</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">(</span><span class=\"s1\">&#39;nodist&#39;</span><span class=\"p\">,</span> <span class=\"kc\">False</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">nopip</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">(</span><span class=\"s1\">&#39;nopip&#39;</span><span class=\"p\">,</span> <span class=\"kc\">False</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">progress</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">(</span><span class=\"s1\">&#39;progress&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">verbose</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">(</span><span class=\"s1\">&#39;verbose&#39;</span><span class=\"p\">,</span> <span class=\"kc\">False</span><span class=\"p\">)</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">post_setup</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        Set up any packages which need to be pre-installed into the</span>\n<span class=\"sd\">        virtual environment being created.</span>\n\n<span class=\"sd\">        :param context: The information for the virtual environment</span>\n<span class=\"sd\">                        creation request being processed.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">environ</span><span class=\"p\">[</span><span class=\"s1\">&#39;VIRTUAL_ENV&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">env_dir</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">nodist</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">install_setuptools</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">)</span>\n        <span class=\"c1\"># Can&#39;t install pip without setuptools</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">nopip</span> <span class=\"ow\">and</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">nodist</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">install_pip</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">reader</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">stream</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        Read lines from a subprocess&#39; output stream and either pass to a progress</span>\n<span class=\"sd\">        callable (if specified) or write progress information to sys.stderr.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">progress</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">progress</span>\n        <span class=\"k\">while</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n            <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">stream</span><span class=\"o\">.</span><span class=\"n\">readline</span><span class=\"p\">()</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">s</span><span class=\"p\">:</span>\n                <span class=\"k\">break</span>\n            <span class=\"k\">if</span> <span class=\"n\">progress</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n                <span class=\"n\">progress</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">verbose</span><span class=\"p\">:</span>\n                    <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stderr</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">&#39;.&#39;</span><span class=\"p\">)</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stderr</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">(</span><span class=\"s1\">&#39;utf-8&#39;</span><span class=\"p\">))</span>\n                <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stderr</span><span class=\"o\">.</span><span class=\"n\">flush</span><span class=\"p\">()</span>\n        <span class=\"n\">stream</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">install_script</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">url</span><span class=\"p\">):</span>\n        <span class=\"n\">_</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">,</span> <span class=\"n\">path</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">,</span> <span class=\"n\">_</span> <span class=\"o\">=</span> <span class=\"n\">urlparse</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">)</span>\n        <span class=\"n\">fn</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">)[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n        <span class=\"n\">binpath</span> <span class=\"o\">=</span> <span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">bin_path</span>\n        <span class=\"n\">distpath</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">binpath</span><span class=\"p\">,</span> <span class=\"n\">fn</span><span class=\"p\">)</span>\n        <span class=\"c1\"># Download script into the virtual environment&#39;s binaries folder</span>\n        <span class=\"n\">urlretrieve</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">,</span> <span class=\"n\">distpath</span><span class=\"p\">)</span>\n        <span class=\"n\">progress</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">progress</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">verbose</span><span class=\"p\">:</span>\n            <span class=\"n\">term</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;</span><span class=\"se\">\\n</span><span class=\"s1\">&#39;</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">term</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span>\n        <span class=\"k\">if</span> <span class=\"n\">progress</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">progress</span><span class=\"p\">(</span><span class=\"s1\">&#39;Installing </span><span class=\"si\">%s</span><span class=\"s1\"> ...</span><span class=\"si\">%s</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">term</span><span class=\"p\">),</span> <span class=\"s1\">&#39;main&#39;</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stderr</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">&#39;Installing </span><span class=\"si\">%s</span><span class=\"s1\"> ...</span><span class=\"si\">%s</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">term</span><span class=\"p\">))</span>\n            <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stderr</span><span class=\"o\">.</span><span class=\"n\">flush</span><span class=\"p\">()</span>\n        <span class=\"c1\"># Install in the virtual environment</span>\n        <span class=\"n\">args</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">env_exe</span><span class=\"p\">,</span> <span class=\"n\">fn</span><span class=\"p\">]</span>\n        <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Popen</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"n\">stdout</span><span class=\"o\">=</span><span class=\"n\">PIPE</span><span class=\"p\">,</span> <span class=\"n\">stderr</span><span class=\"o\">=</span><span class=\"n\">PIPE</span><span class=\"p\">,</span> <span class=\"n\">cwd</span><span class=\"o\">=</span><span class=\"n\">binpath</span><span class=\"p\">)</span>\n        <span class=\"n\">t1</span> <span class=\"o\">=</span> <span class=\"n\">Thread</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">reader</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">stdout</span><span class=\"p\">,</span> <span class=\"s1\">&#39;stdout&#39;</span><span class=\"p\">))</span>\n        <span class=\"n\">t1</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n        <span class=\"n\">t2</span> <span class=\"o\">=</span> <span class=\"n\">Thread</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">reader</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">stderr</span><span class=\"p\">,</span> <span class=\"s1\">&#39;stderr&#39;</span><span class=\"p\">))</span>\n        <span class=\"n\">t2</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">wait</span><span class=\"p\">()</span>\n        <span class=\"n\">t1</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n        <span class=\"n\">t2</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n        <span class=\"k\">if</span> <span class=\"n\">progress</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">progress</span><span class=\"p\">(</span><span class=\"s1\">&#39;done.&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;main&#39;</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stderr</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">&#39;done.</span><span class=\"se\">\\n</span><span class=\"s1\">&#39;</span><span class=\"p\">)</span>\n        <span class=\"c1\"># Clean up - no longer needed</span>\n        <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">unlink</span><span class=\"p\">(</span><span class=\"n\">distpath</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">install_setuptools</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        Install setuptools in the virtual environment.</span>\n\n<span class=\"sd\">        :param context: The information for the virtual environment</span>\n<span class=\"sd\">                        creation request being processed.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;https://bootstrap.pypa.io/ez_setup.py&quot;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">install_script</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"s1\">&#39;setuptools&#39;</span><span class=\"p\">,</span> <span class=\"n\">url</span><span class=\"p\">)</span>\n        <span class=\"c1\"># clear up the setuptools archive which gets downloaded</span>\n        <span class=\"n\">pred</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"n\">o</span><span class=\"p\">:</span> <span class=\"n\">o</span><span class=\"o\">.</span><span class=\"n\">startswith</span><span class=\"p\">(</span><span class=\"s1\">&#39;setuptools-&#39;</span><span class=\"p\">)</span> <span class=\"ow\">and</span> <span class=\"n\">o</span><span class=\"o\">.</span><span class=\"n\">endswith</span><span class=\"p\">(</span><span class=\"s1\">&#39;.tar.gz&#39;</span><span class=\"p\">)</span>\n        <span class=\"n\">files</span> <span class=\"o\">=</span> <span class=\"nb\">filter</span><span class=\"p\">(</span><span class=\"n\">pred</span><span class=\"p\">,</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">listdir</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">bin_path</span><span class=\"p\">))</span>\n        <span class=\"k\">for</span> <span class=\"n\">f</span> <span class=\"ow\">in</span> <span class=\"n\">files</span><span class=\"p\">:</span>\n            <span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">bin_path</span><span class=\"p\">,</span> <span class=\"n\">f</span><span class=\"p\">)</span>\n            <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">unlink</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">install_pip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        Install pip in the virtual environment.</span>\n\n<span class=\"sd\">        :param context: The information for the virtual environment</span>\n<span class=\"sd\">                        creation request being processed.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;https://bootstrap.pypa.io/get-pip.py&#39;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">install_script</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"s1\">&#39;pip&#39;</span><span class=\"p\">,</span> <span class=\"n\">url</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">main</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">argparse</span>\n\n    <span class=\"n\">parser</span> <span class=\"o\">=</span> <span class=\"n\">argparse</span><span class=\"o\">.</span><span class=\"n\">ArgumentParser</span><span class=\"p\">(</span><span class=\"n\">prog</span><span class=\"o\">=</span><span class=\"vm\">__name__</span><span class=\"p\">,</span>\n                                     <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s1\">&#39;Creates virtual Python &#39;</span>\n                                                 <span class=\"s1\">&#39;environments in one or &#39;</span>\n                                                 <span class=\"s1\">&#39;more target &#39;</span>\n                                                 <span class=\"s1\">&#39;directories.&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s1\">&#39;dirs&#39;</span><span class=\"p\">,</span> <span class=\"n\">metavar</span><span class=\"o\">=</span><span class=\"s1\">&#39;ENV_DIR&#39;</span><span class=\"p\">,</span> <span class=\"n\">nargs</span><span class=\"o\">=</span><span class=\"s1\">&#39;+&#39;</span><span class=\"p\">,</span>\n                        <span class=\"n\">help</span><span class=\"o\">=</span><span class=\"s1\">&#39;A directory in which to create the &#39;</span>\n                             <span class=\"s1\">&#39;virtual environment.&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s1\">&#39;--no-setuptools&#39;</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n                        <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s1\">&#39;store_true&#39;</span><span class=\"p\">,</span> <span class=\"n\">dest</span><span class=\"o\">=</span><span class=\"s1\">&#39;nodist&#39;</span><span class=\"p\">,</span>\n                        <span class=\"n\">help</span><span class=\"o\">=</span><span class=\"s2\">&quot;Don&#39;t install setuptools or pip in the &quot;</span>\n                             <span class=\"s2\">&quot;virtual environment.&quot;</span><span class=\"p\">)</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s1\">&#39;--no-pip&#39;</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n                        <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s1\">&#39;store_true&#39;</span><span class=\"p\">,</span> <span class=\"n\">dest</span><span class=\"o\">=</span><span class=\"s1\">&#39;nopip&#39;</span><span class=\"p\">,</span>\n                        <span class=\"n\">help</span><span class=\"o\">=</span><span class=\"s2\">&quot;Don&#39;t install pip in the virtual &quot;</span>\n                             <span class=\"s2\">&quot;environment.&quot;</span><span class=\"p\">)</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s1\">&#39;--system-site-packages&#39;</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n                        <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s1\">&#39;store_true&#39;</span><span class=\"p\">,</span> <span class=\"n\">dest</span><span class=\"o\">=</span><span class=\"s1\">&#39;system_site&#39;</span><span class=\"p\">,</span>\n                        <span class=\"n\">help</span><span class=\"o\">=</span><span class=\"s1\">&#39;Give the virtual environment access to the &#39;</span>\n                             <span class=\"s1\">&#39;system site-packages dir.&#39;</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;nt&#39;</span><span class=\"p\">:</span>\n        <span class=\"n\">use_symlinks</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"n\">use_symlinks</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s1\">&#39;--symlinks&#39;</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"n\">use_symlinks</span><span class=\"p\">,</span>\n                        <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s1\">&#39;store_true&#39;</span><span class=\"p\">,</span> <span class=\"n\">dest</span><span class=\"o\">=</span><span class=\"s1\">&#39;symlinks&#39;</span><span class=\"p\">,</span>\n                        <span class=\"n\">help</span><span class=\"o\">=</span><span class=\"s1\">&#39;Try to use symlinks rather than copies, &#39;</span>\n                             <span class=\"s1\">&#39;when symlinks are not the default for &#39;</span>\n                             <span class=\"s1\">&#39;the platform.&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s1\">&#39;--clear&#39;</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s1\">&#39;store_true&#39;</span><span class=\"p\">,</span>\n                        <span class=\"n\">dest</span><span class=\"o\">=</span><span class=\"s1\">&#39;clear&#39;</span><span class=\"p\">,</span> <span class=\"n\">help</span><span class=\"o\">=</span><span class=\"s1\">&#39;Delete the contents of the &#39;</span>\n                                           <span class=\"s1\">&#39;virtual environment &#39;</span>\n                                           <span class=\"s1\">&#39;directory if it already &#39;</span>\n                                           <span class=\"s1\">&#39;exists, before virtual &#39;</span>\n                                           <span class=\"s1\">&#39;environment creation.&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s1\">&#39;--upgrade&#39;</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s1\">&#39;store_true&#39;</span><span class=\"p\">,</span>\n                        <span class=\"n\">dest</span><span class=\"o\">=</span><span class=\"s1\">&#39;upgrade&#39;</span><span class=\"p\">,</span> <span class=\"n\">help</span><span class=\"o\">=</span><span class=\"s1\">&#39;Upgrade the virtual &#39;</span>\n                                             <span class=\"s1\">&#39;environment directory to &#39;</span>\n                                             <span class=\"s1\">&#39;use this version of &#39;</span>\n                                             <span class=\"s1\">&#39;Python, assuming Python &#39;</span>\n                                             <span class=\"s1\">&#39;has been upgraded &#39;</span>\n                                             <span class=\"s1\">&#39;in-place.&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s1\">&#39;--verbose&#39;</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s1\">&#39;store_true&#39;</span><span class=\"p\">,</span>\n                        <span class=\"n\">dest</span><span class=\"o\">=</span><span class=\"s1\">&#39;verbose&#39;</span><span class=\"p\">,</span> <span class=\"n\">help</span><span class=\"o\">=</span><span class=\"s1\">&#39;Display the output &#39;</span>\n                                             <span class=\"s1\">&#39;from the scripts which &#39;</span>\n                                             <span class=\"s1\">&#39;install setuptools and pip.&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">options</span> <span class=\"o\">=</span> <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">parse_args</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">upgrade</span> <span class=\"ow\">and</span> <span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">clear</span><span class=\"p\">:</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s1\">&#39;you cannot supply --upgrade and --clear together.&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">builder</span> <span class=\"o\">=</span> <span class=\"n\">ExtendedEnvBuilder</span><span class=\"p\">(</span><span class=\"n\">system_site_packages</span><span class=\"o\">=</span><span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">system_site</span><span class=\"p\">,</span>\n                                   <span class=\"n\">clear</span><span class=\"o\">=</span><span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">clear</span><span class=\"p\">,</span>\n                                   <span class=\"n\">symlinks</span><span class=\"o\">=</span><span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">symlinks</span><span class=\"p\">,</span>\n                                   <span class=\"n\">upgrade</span><span class=\"o\">=</span><span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">upgrade</span><span class=\"p\">,</span>\n                                   <span class=\"n\">nodist</span><span class=\"o\">=</span><span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">nodist</span><span class=\"p\">,</span>\n                                   <span class=\"n\">nopip</span><span class=\"o\">=</span><span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">nopip</span><span class=\"p\">,</span>\n                                   <span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">d</span> <span class=\"ow\">in</span> <span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">dirs</span><span class=\"p\">:</span>\n        <span class=\"n\">builder</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">rc</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"n\">main</span><span class=\"p\">()</span>\n        <span class=\"n\">rc</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n    <span class=\"k\">except</span> <span class=\"ne\">Exception</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Error: </span><span class=\"si\">%s</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">e</span><span class=\"p\">,</span> <span class=\"n\">file</span><span class=\"o\">=</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stderr</span><span class=\"p\">)</span>\n    <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">exit</span><span class=\"p\">(</span><span class=\"n\">rc</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>This script is also available for download <a class=\"reference external\" href=\"https://gist.github.com/vsajip/4673395\">online</a>.</p>\n</section>\n</section>\n\n\n            <div class=\"clearer\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"Main\">\n        <div class=\"sphinxsidebarwrapper\">\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">venv</span></code> — Creation of virtual environments</a><ul>\n<li><a class=\"reference internal\" href=\"#creating-virtual-environments\">Creating virtual environments</a></li>\n<li><a class=\"reference internal\" href=\"#how-venvs-work\">How venvs work</a></li>\n<li><a class=\"reference internal\" href=\"#api\">API</a></li>\n<li><a class=\"reference internal\" href=\"#an-example-of-extending-envbuilder\">An example of extending <code class=\"docutils literal notranslate\"><span class=\"pre\">EnvBuilder</span></code></a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"ensurepip.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ensurepip</span></code> — Bootstrapping the <code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span></code> installer</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"zipapp.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">zipapp</span></code> — Manage executable Python zip archives</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/venv.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </div>\n<div id=\"sidebarbutton\" title=\"Collapse sidebar\">\n<span>«</span>\n</div>\n\n      </div>\n      <div class=\"clearer\"></div>\n    </div>  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             >index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"zipapp.html\" title=\"zipapp — Manage executable Python zip archives\"\n             >next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"ensurepip.html\" title=\"ensurepip — Bootstrapping the pip installer\"\n             >previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"distribution.html\" >Software Packaging and Distribution</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">venv</span></code> — Creation of virtual environments</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>  \n    <div class=\"footer\">\n    &copy; <a href=\"../copyright.html\">Copyright</a> 2001 Python Software Foundation.\n    <br>\n    This page is licensed under the Python Software Foundation License Version 2.\n    <br>\n    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.\n    <br>\n    \n      See <a href=\"/license.html\">History and License</a> for more information.<br>\n    \n    \n    <br>\n\n    The Python Software Foundation is a non-profit corporation.\n<a href=\"https://www.python.org/psf/donations/\">Please donate.</a>\n<br>\n    <br>\n      Last updated on Nov 25, 2025 (18:01 UTC).\n    \n      <a href=\"/bugs.html\">Found a bug</a>?\n    \n    <br>\n\n    Created using <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> 8.2.3.\n    </div>\n\n    <script type=\"text/javascript\" src=\"../_static/switchers.js\"></script>\n  </body>\n</html>",
  "metadata": {
    "title": "venv — Creation of virtual environments — Python 3.14.0 documentation",
    "meta_description": "Source code: Lib/venv/ The venv module supports creating lightweight “virtual environments”, each with their own independent set of Python packages installed in their site directories. A virtual en...",
    "h1": "— Creation of virtual environments"
  },
  "request_headers": {
    "Referer": "https://docs.python.org/3/library/",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
    "Accept-Language": "en",
    "User-Agent": "DumbCrawler/1.0",
    "Accept-Encoding": "gzip, deflate"
  },
  "response_headers": {
    "Content-Length": "15961",
    "Server": "nginx",
    "Content-Type": "text/html",
    "Last-Modified": "Tue, 25 Nov 2025 18:03:26 GMT",
    "Etag": "\"6925ef6e-19121\"",
    "X-Clacks-Overhead": "GNU Terry Pratchett",
    "Strict-Transport-Security": "max-age=315360000; includeSubDomains; preload",
    "Via": "1.1 varnish, 1.1 varnish",
    "Accept-Ranges": "bytes",
    "Age": "4549",
    "Date": "Wed, 26 Nov 2025 05:25:19 GMT",
    "X-Served-By": "cache-lga21946-LGA, cache-yul1970042-YUL",
    "X-Cache": "HIT, HIT",
    "X-Cache-Hits": "53, 0",
    "X-Timer": "S1764134719.057100,VS0,VE1",
    "Vary": "Accept-Encoding"
  },
  "crawled_at": "2025-11-26T05:25:19.670414+00:00",
  "crawler": {
    "name": "DumbCrawler",
    "version": "1.0",
    "mode": "crawl",
    "js_mode": "off",
    "scope": "subdomain"
  }
}