{
  "url": "https://docs.python.org/3/library/collections.html",
  "status_code": 200,
  "depth": 1,
  "referrer": "https://docs.python.org/3/library/",
  "raw_html": "<!DOCTYPE html>\n\n<html lang=\"en\" data-content_root=\"../\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<meta property=\"og:title\" content=\"collections — Container datatypes\" />\n<meta property=\"og:type\" content=\"website\" />\n<meta property=\"og:url\" content=\"https://docs.python.org/3/library/collections.html\" />\n<meta property=\"og:site_name\" content=\"Python documentation\" />\n<meta property=\"og:description\" content=\"Source code: Lib/collections/__init__.py This module implements specialized container datatypes providing alternatives to Python’s general purpose built-in containers, dict, list, set, and tuple.,,...\" />\n<meta property=\"og:image:width\" content=\"1146\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://docs.python.org/3.14/_images/social_previews/summary_library_collections_835bdfa5.png\" />\n<meta property=\"og:image:alt\" content=\"Source code: Lib/collections/__init__.py This module implements specialized container datatypes providing alternatives to Python’s general purpose built-in containers, dict, list, set, and tuple.,,...\" />\n<meta name=\"description\" content=\"Source code: Lib/collections/__init__.py This module implements specialized container datatypes providing alternatives to Python’s general purpose built-in containers, dict, list, set, and tuple.,,...\" />\n<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"theme-color\" content=\"#3776ab\">\n\n    <title>collections — Container datatypes &#8212; Python 3.14.0 documentation</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments.css?v=b86133f3\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/classic.css?v=234b1a7c\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pydoctheme.css?v=8cd84f99\" />\n    <link id=\"pygments_dark_css\" media=\"(prefers-color-scheme: dark)\" rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments_dark.css?v=5349f25f\" />\n    \n    <script src=\"../_static/documentation_options.js?v=e4f4b189\"></script>\n    <script src=\"../_static/doctools.js?v=9bcbadda\"></script>\n    <script src=\"../_static/sphinx_highlight.js?v=dc90522c\"></script>\n    \n    <script src=\"../_static/sidebar.js\"></script>\n    \n    <link rel=\"search\" type=\"application/opensearchdescription+xml\"\n          title=\"Search within Python 3.14.0 documentation\"\n          href=\"../_static/opensearch.xml\"/>\n    <link rel=\"author\" title=\"About these documents\" href=\"../about.html\" />\n    <link rel=\"index\" title=\"Index\" href=\"../genindex.html\" />\n    <link rel=\"search\" title=\"Search\" href=\"../search.html\" />\n    <link rel=\"copyright\" title=\"Copyright\" href=\"../copyright.html\" />\n    <link rel=\"next\" title=\"collections.abc — Abstract Base Classes for Containers\" href=\"collections.abc.html\" />\n    <link rel=\"prev\" title=\"calendar — General calendar-related functions\" href=\"calendar.html\" />\n    \n      \n      <script defer file-types=\"bz2,epub,zip\" data-domain=\"docs.python.org\" src=\"https://analytics.python.org/js/script.file-downloads.outbound-links.js\"></script>\n      \n      <link rel=\"canonical\" href=\"https://docs.python.org/3/library/collections.html\">\n      \n    \n\n    \n    <style>\n      @media only screen {\n        table.full-width-table {\n            width: 100%;\n        }\n      }\n    </style>\n<link rel=\"stylesheet\" href=\"../_static/pydoctheme_dark.css\" media=\"(prefers-color-scheme: dark)\" id=\"pydoctheme_dark_css\">\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"../_static/py.svg\">\n            <script type=\"text/javascript\" src=\"../_static/copybutton.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/menu.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/search-focus.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/themetoggle.js\"></script> \n            <script type=\"text/javascript\" src=\"../_static/rtd_switcher.js\"></script>\n            <meta name=\"readthedocs-addons-api-version\" content=\"1\">\n\n  </head>\n<body>\n<div class=\"mobile-nav\">\n    <input type=\"checkbox\" id=\"menuToggler\" class=\"toggler__input\" aria-controls=\"navigation\"\n           aria-pressed=\"false\" aria-expanded=\"false\" role=\"button\" aria-label=\"Menu\">\n    <nav class=\"nav-content\" role=\"navigation\">\n        <label for=\"menuToggler\" class=\"toggler__label\">\n            <span></span>\n        </label>\n        <span class=\"nav-items-wrapper\">\n            <a href=\"https://www.python.org/\" class=\"nav-logo\">\n                <img src=\"../_static/py.svg\" alt=\"Python logo\">\n            </a>\n            <span class=\"version_switcher_placeholder\"></span>\n            <form role=\"search\" class=\"search\" action=\"../search.html\" method=\"get\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" class=\"search-icon\">\n                    <path fill-rule=\"nonzero\" fill=\"currentColor\" d=\"M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n                </svg>\n                <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\">\n                <input type=\"submit\" value=\"Go\">\n            </form>\n        </span>\n    </nav>\n    <div class=\"menu-wrapper\">\n        <nav class=\"menu\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"language_switcher_placeholder\"></div>\n            \n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label>\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">collections</span></code> — Container datatypes</a><ul>\n<li><a class=\"reference internal\" href=\"#chainmap-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#chainmap-examples-and-recipes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code> Examples and Recipes</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#counter-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#deque-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">deque</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#deque-recipes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">deque</span></code> Recipes</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#defaultdict-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#defaultdict-examples\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code> Examples</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#namedtuple-factory-function-for-tuples-with-named-fields\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">namedtuple()</span></code> Factory Function for Tuples with Named Fields</a></li>\n<li><a class=\"reference internal\" href=\"#ordereddict-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#ordereddict-examples-and-recipes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code> Examples and Recipes</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#userdict-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserDict</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#userlist-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserList</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#userstring-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserString</span></code> objects</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"calendar.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">calendar</span></code> — General calendar-related functions</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"collections.abc.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">collections.abc</span></code> — Abstract Base Classes for Containers</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/collections.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </nav>\n    </div>\n</div>\n\n  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             accesskey=\"I\">index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"collections.abc.html\" title=\"collections.abc — Abstract Base Classes for Containers\"\n             accesskey=\"N\">next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"calendar.html\" title=\"calendar — General calendar-related functions\"\n             accesskey=\"P\">previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"datatypes.html\" accesskey=\"U\">Data Types</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">collections</span></code> — Container datatypes</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>    \n\n    <div class=\"document\">\n      <div class=\"documentwrapper\">\n        <div class=\"bodywrapper\">\n          <div class=\"body\" role=\"main\">\n            \n  <section id=\"module-collections\">\n<span id=\"collections-container-datatypes\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">collections</span></code> — Container datatypes<a class=\"headerlink\" href=\"#module-collections\" title=\"Link to this heading\">¶</a></h1>\n<p><strong>Source code:</strong> <a class=\"extlink-source reference external\" href=\"https://github.com/python/cpython/tree/3.14/Lib/collections/__init__.py\">Lib/collections/__init__.py</a></p>\n<hr class=\"docutils\" />\n<p>This module implements specialized container datatypes providing alternatives to\nPython’s general purpose built-in containers, <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a>, <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a>,\n<a class=\"reference internal\" href=\"stdtypes.html#set\" title=\"set\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">set</span></code></a>, and <a class=\"reference internal\" href=\"stdtypes.html#tuple\" title=\"tuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">tuple</span></code></a>.</p>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#collections.namedtuple\" title=\"collections.namedtuple\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">namedtuple()</span></code></a></p></td>\n<td><p>factory function for creating tuple subclasses with named fields</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#collections.deque\" title=\"collections.deque\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">deque</span></code></a></p></td>\n<td><p>list-like container with fast appends and pops on either end</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a></p></td>\n<td><p>dict-like class for creating a single view of multiple mappings</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#collections.Counter\" title=\"collections.Counter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code></a></p></td>\n<td><p>dict subclass for counting <a class=\"reference internal\" href=\"../glossary.html#term-hashable\"><span class=\"xref std std-term\">hashable</span></a> objects</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a></p></td>\n<td><p>dict subclass that remembers the order entries were added</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#collections.defaultdict\" title=\"collections.defaultdict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a></p></td>\n<td><p>dict subclass that calls a factory function to supply missing values</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#collections.UserDict\" title=\"collections.UserDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserDict</span></code></a></p></td>\n<td><p>wrapper around dictionary objects for easier dict subclassing</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#collections.UserList\" title=\"collections.UserList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserList</span></code></a></p></td>\n<td><p>wrapper around list objects for easier list subclassing</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#collections.UserString\" title=\"collections.UserString\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserString</span></code></a></p></td>\n<td><p>wrapper around string objects for easier string subclassing</p></td>\n</tr>\n</tbody>\n</table>\n<section id=\"chainmap-objects\">\n<h2><a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a> objects<a class=\"headerlink\" href=\"#chainmap-objects\" title=\"Link to this heading\">¶</a></h2>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n<p>A <a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a> class is provided for quickly linking a number of mappings\nso they can be treated as a single unit.  It is often much faster than creating\na new dictionary and running multiple <a class=\"reference internal\" href=\"stdtypes.html#dict.update\" title=\"dict.update\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">update()</span></code></a> calls.</p>\n<p>The class can be used to simulate nested scopes and is useful in templating.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"collections.ChainMap\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">collections.</span></span><span class=\"sig-name descname\"><span class=\"pre\">ChainMap</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">maps</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.ChainMap\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A <a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a> groups multiple dicts or other mappings together to\ncreate a single, updateable view.  If no <em>maps</em> are specified, a single empty\ndictionary is provided so that a new chain always has at least one mapping.</p>\n<p>The underlying mappings are stored in a list.  That list is public and can\nbe accessed or updated using the <em>maps</em> attribute.  There is no other state.</p>\n<p>Lookups search the underlying mappings successively until a key is found.  In\ncontrast, writes, updates, and deletions only operate on the first mapping.</p>\n<p>A <a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a> incorporates the underlying mappings by reference.  So, if\none of the underlying mappings gets updated, those changes will be reflected\nin <a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a>.</p>\n<p>All of the usual dictionary methods are supported.  In addition, there is a\n<em>maps</em> attribute, a method for creating new subcontexts, and a property for\naccessing all but the first mapping:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"collections.ChainMap.maps\">\n<span class=\"sig-name descname\"><span class=\"pre\">maps</span></span><a class=\"headerlink\" href=\"#collections.ChainMap.maps\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A user updateable list of mappings.  The list is ordered from\nfirst-searched to last-searched.  It is the only stored state and can\nbe modified to change which mappings are searched.  The list should\nalways contain at least one mapping.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.ChainMap.new_child\">\n<span class=\"sig-name descname\"><span class=\"pre\">new_child</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">m</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.ChainMap.new_child\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns a new <a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a> containing a new map followed by\nall of the maps in the current instance.  If <code class=\"docutils literal notranslate\"><span class=\"pre\">m</span></code> is specified,\nit becomes the new map at the front of the list of mappings; if not\nspecified, an empty dict is used, so that a call to <code class=\"docutils literal notranslate\"><span class=\"pre\">d.new_child()</span></code>\nis equivalent to: <code class=\"docutils literal notranslate\"><span class=\"pre\">ChainMap({},</span> <span class=\"pre\">*d.maps)</span></code>. If any keyword arguments\nare specified, they update passed map or new empty dict. This method\nis used for creating subcontexts that can be updated without altering\nvalues in any of the parent mappings.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.4: </span>The optional <code class=\"docutils literal notranslate\"><span class=\"pre\">m</span></code> parameter was added.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.10: </span>Keyword arguments support was added.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"collections.ChainMap.parents\">\n<span class=\"sig-name descname\"><span class=\"pre\">parents</span></span><a class=\"headerlink\" href=\"#collections.ChainMap.parents\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Property returning a new <a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a> containing all of the maps in\nthe current instance except the first one.  This is useful for skipping\nthe first map in the search.  Use cases are similar to those for the\n<a class=\"reference internal\" href=\"../reference/simple_stmts.html#nonlocal\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">nonlocal</span></code></a> keyword used in <a class=\"reference internal\" href=\"../glossary.html#term-nested-scope\"><span class=\"xref std std-term\">nested scopes</span></a>.  The use cases also parallel those for the built-in\n<a class=\"reference internal\" href=\"functions.html#super\" title=\"super\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">super()</span></code></a> function.  A reference to <code class=\"docutils literal notranslate\"><span class=\"pre\">d.parents</span></code> is equivalent to:\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ChainMap(*d.maps[1:])</span></code>.</p>\n</dd></dl>\n\n<p>Note, the iteration order of a <a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a> is determined by\nscanning the mappings last to first:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">baseline</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;music&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;bach&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;art&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;rembrandt&#39;</span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">adjustments</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;art&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;van gogh&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;opera&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;carmen&#39;</span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">ChainMap</span><span class=\"p\">(</span><span class=\"n\">adjustments</span><span class=\"p\">,</span> <span class=\"n\">baseline</span><span class=\"p\">))</span>\n<span class=\"go\">[&#39;music&#39;, &#39;art&#39;, &#39;opera&#39;]</span>\n</pre></div>\n</div>\n<p>This gives the same ordering as a series of <a class=\"reference internal\" href=\"stdtypes.html#dict.update\" title=\"dict.update\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">dict.update()</span></code></a> calls\nstarting with the last mapping:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">combined</span> <span class=\"o\">=</span> <span class=\"n\">baseline</span><span class=\"o\">.</span><span class=\"n\">copy</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">combined</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">(</span><span class=\"n\">adjustments</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">combined</span><span class=\"p\">)</span>\n<span class=\"go\">[&#39;music&#39;, &#39;art&#39;, &#39;opera&#39;]</span>\n</pre></div>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.9: </span>Added support for <code class=\"docutils literal notranslate\"><span class=\"pre\">|</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">|=</span></code> operators, specified in <span class=\"target\" id=\"index-0\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0584/\"><strong>PEP 584</strong></a>.</p>\n</div>\n</dd></dl>\n\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<ul class=\"simple\">\n<li><p>The <a class=\"reference external\" href=\"https://github.com/enthought/codetools/blob/4.0.0/codetools/contexts/multi_context.py\">MultiContext class</a>\nin the Enthought <a class=\"reference external\" href=\"https://github.com/enthought/codetools\">CodeTools package</a> has options to support\nwriting to any mapping in the chain.</p></li>\n<li><p>Django’s <a class=\"reference external\" href=\"https://github.com/django/django/blob/main/django/template/context.py\">Context class</a>\nfor templating is a read-only chain of mappings.  It also features\npushing and popping of contexts similar to the\n<a class=\"reference internal\" href=\"#collections.ChainMap.new_child\" title=\"collections.ChainMap.new_child\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">new_child()</span></code></a> method and the\n<a class=\"reference internal\" href=\"#collections.ChainMap.parents\" title=\"collections.ChainMap.parents\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">parents</span></code></a> property.</p></li>\n<li><p>The <a class=\"reference external\" href=\"https://code.activestate.com/recipes/577434-nested-contexts-a-chain-of-mapping-objects/\">Nested Contexts recipe</a> has options to control\nwhether writes and other mutations apply only to the first mapping or to\nany mapping in the chain.</p></li>\n<li><p>A <a class=\"reference external\" href=\"https://code.activestate.com/recipes/305268/\">greatly simplified read-only version of Chainmap</a>.</p></li>\n</ul>\n</div>\n<section id=\"chainmap-examples-and-recipes\">\n<h3><a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a> Examples and Recipes<a class=\"headerlink\" href=\"#chainmap-examples-and-recipes\" title=\"Link to this heading\">¶</a></h3>\n<p>This section shows various approaches to working with chained maps.</p>\n<p>Example of simulating Python’s internal lookup chain:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">builtins</span>\n<span class=\"n\">pylookup</span> <span class=\"o\">=</span> <span class=\"n\">ChainMap</span><span class=\"p\">(</span><span class=\"nb\">locals</span><span class=\"p\">(),</span> <span class=\"nb\">globals</span><span class=\"p\">(),</span> <span class=\"nb\">vars</span><span class=\"p\">(</span><span class=\"n\">builtins</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>Example of letting user specified command-line arguments take precedence over\nenvironment variables which in turn take precedence over default values:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">os</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"nn\">argparse</span>\n\n<span class=\"n\">defaults</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;color&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;red&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;user&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;guest&#39;</span><span class=\"p\">}</span>\n\n<span class=\"n\">parser</span> <span class=\"o\">=</span> <span class=\"n\">argparse</span><span class=\"o\">.</span><span class=\"n\">ArgumentParser</span><span class=\"p\">()</span>\n<span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s1\">&#39;-u&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;--user&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s1\">&#39;-c&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;--color&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">namespace</span> <span class=\"o\">=</span> <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">parse_args</span><span class=\"p\">()</span>\n<span class=\"n\">command_line_args</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"n\">v</span> <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"nb\">vars</span><span class=\"p\">(</span><span class=\"n\">namespace</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()</span> <span class=\"k\">if</span> <span class=\"n\">v</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">}</span>\n\n<span class=\"n\">combined</span> <span class=\"o\">=</span> <span class=\"n\">ChainMap</span><span class=\"p\">(</span><span class=\"n\">command_line_args</span><span class=\"p\">,</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">environ</span><span class=\"p\">,</span> <span class=\"n\">defaults</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">combined</span><span class=\"p\">[</span><span class=\"s1\">&#39;color&#39;</span><span class=\"p\">])</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">combined</span><span class=\"p\">[</span><span class=\"s1\">&#39;user&#39;</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n<p>Example patterns for using the <a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a> class to simulate nested\ncontexts:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">ChainMap</span><span class=\"p\">()</span>        <span class=\"c1\"># Create root context</span>\n<span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">new_child</span><span class=\"p\">()</span>     <span class=\"c1\"># Create nested child context</span>\n<span class=\"n\">e</span> <span class=\"o\">=</span> <span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">new_child</span><span class=\"p\">()</span>     <span class=\"c1\"># Child of c, independent from d</span>\n<span class=\"n\">e</span><span class=\"o\">.</span><span class=\"n\">maps</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>             <span class=\"c1\"># Current context dictionary -- like Python&#39;s locals()</span>\n<span class=\"n\">e</span><span class=\"o\">.</span><span class=\"n\">maps</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>            <span class=\"c1\"># Root context -- like Python&#39;s globals()</span>\n<span class=\"n\">e</span><span class=\"o\">.</span><span class=\"n\">parents</span>             <span class=\"c1\"># Enclosing context chain -- like Python&#39;s nonlocals</span>\n\n<span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>            <span class=\"c1\"># Set value in current context</span>\n<span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">]</span>                <span class=\"c1\"># Get first key in the chain of contexts</span>\n<span class=\"k\">del</span> <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">]</span>            <span class=\"c1\"># Delete from current context</span>\n<span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>               <span class=\"c1\"># All nested values</span>\n<span class=\"n\">k</span> <span class=\"ow\">in</span> <span class=\"n\">d</span>                <span class=\"c1\"># Check all nested values</span>\n<span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>                <span class=\"c1\"># Number of nested values</span>\n<span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()</span>             <span class=\"c1\"># All nested items</span>\n<span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>               <span class=\"c1\"># Flatten into a regular dictionary</span>\n</pre></div>\n</div>\n<p>The <a class=\"reference internal\" href=\"#collections.ChainMap\" title=\"collections.ChainMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code></a> class only makes updates (writes and deletions) to the\nfirst mapping in the chain while lookups will search the full chain.  However,\nif deep writes and deletions are desired, it is easy to make a subclass that\nupdates keys found deeper in the chain:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">DeepChainMap</span><span class=\"p\">(</span><span class=\"n\">ChainMap</span><span class=\"p\">):</span>\n    <span class=\"s1\">&#39;Variant of ChainMap that allows direct updates to inner scopes&#39;</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__setitem__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">for</span> <span class=\"n\">mapping</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maps</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">key</span> <span class=\"ow\">in</span> <span class=\"n\">mapping</span><span class=\"p\">:</span>\n                <span class=\"n\">mapping</span><span class=\"p\">[</span><span class=\"n\">key</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">value</span>\n                <span class=\"k\">return</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maps</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"n\">key</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">value</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__delitem__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">):</span>\n        <span class=\"k\">for</span> <span class=\"n\">mapping</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maps</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">key</span> <span class=\"ow\">in</span> <span class=\"n\">mapping</span><span class=\"p\">:</span>\n                <span class=\"k\">del</span> <span class=\"n\">mapping</span><span class=\"p\">[</span><span class=\"n\">key</span><span class=\"p\">]</span>\n                <span class=\"k\">return</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">KeyError</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">)</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">DeepChainMap</span><span class=\"p\">({</span><span class=\"s1\">&#39;zebra&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;black&#39;</span><span class=\"p\">},</span> <span class=\"p\">{</span><span class=\"s1\">&#39;elephant&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">},</span> <span class=\"p\">{</span><span class=\"s1\">&#39;lion&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;yellow&#39;</span><span class=\"p\">})</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s1\">&#39;lion&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;orange&#39;</span>         <span class=\"c1\"># update an existing key two levels down</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s1\">&#39;snake&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;red&#39;</span>           <span class=\"c1\"># new keys get added to the topmost dict</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">del</span> <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s1\">&#39;elephant&#39;</span><span class=\"p\">]</span>            <span class=\"c1\"># remove an existing key one level down</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">d</span>                            <span class=\"c1\"># display result</span>\n<span class=\"n\">DeepChainMap</span><span class=\"p\">({</span><span class=\"s1\">&#39;zebra&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;black&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;snake&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;red&#39;</span><span class=\"p\">},</span> <span class=\"p\">{},</span> <span class=\"p\">{</span><span class=\"s1\">&#39;lion&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;orange&#39;</span><span class=\"p\">})</span>\n</pre></div>\n</div>\n</section>\n</section>\n<section id=\"counter-objects\">\n<h2><a class=\"reference internal\" href=\"#collections.Counter\" title=\"collections.Counter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code></a> objects<a class=\"headerlink\" href=\"#counter-objects\" title=\"Link to this heading\">¶</a></h2>\n<p>A counter tool is provided to support convenient and rapid tallies.\nFor example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Tally occurrences of words in a list</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cnt</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">word</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"s1\">&#39;red&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;red&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;green&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">]:</span>\n<span class=\"gp\">... </span>    <span class=\"n\">cnt</span><span class=\"p\">[</span><span class=\"n\">word</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cnt</span>\n<span class=\"go\">Counter({&#39;blue&#39;: 3, &#39;red&#39;: 2, &#39;green&#39;: 1})</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Find the ten most common words in Hamlet</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">re</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">words</span> <span class=\"o\">=</span> <span class=\"n\">re</span><span class=\"o\">.</span><span class=\"n\">findall</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s1\">&#39;\\w+&#39;</span><span class=\"p\">,</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">&#39;hamlet.txt&#39;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">())</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"n\">words</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">most_common</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"go\">[(&#39;the&#39;, 1143), (&#39;and&#39;, 966), (&#39;to&#39;, 762), (&#39;of&#39;, 669), (&#39;i&#39;, 631),</span>\n<span class=\"go\"> (&#39;you&#39;, 554),  (&#39;a&#39;, 546), (&#39;my&#39;, 514), (&#39;hamlet&#39;, 471), (&#39;in&#39;, 451)]</span>\n</pre></div>\n</div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"collections.Counter\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">collections.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Counter</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable-or-mapping</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.Counter\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A <a class=\"reference internal\" href=\"#collections.Counter\" title=\"collections.Counter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code></a> is a <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> subclass for counting <a class=\"reference internal\" href=\"../glossary.html#term-hashable\"><span class=\"xref std std-term\">hashable</span></a> objects.\nIt is a collection where elements are stored as dictionary keys\nand their counts are stored as dictionary values.  Counts are allowed to be\nany integer value including zero or negative counts.  The <a class=\"reference internal\" href=\"#collections.Counter\" title=\"collections.Counter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code></a>\nclass is similar to bags or multisets in other languages.</p>\n<p>Elements are counted from an <em>iterable</em> or initialized from another\n<em>mapping</em> (or counter):</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">()</span>                           <span class=\"c1\"># a new, empty counter</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"s1\">&#39;gallahad&#39;</span><span class=\"p\">)</span>                 <span class=\"c1\"># a new counter from an iterable</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">({</span><span class=\"s1\">&#39;red&#39;</span><span class=\"p\">:</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">})</span>      <span class=\"c1\"># a new counter from a mapping</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"n\">cats</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">dogs</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">)</span>             <span class=\"c1\"># a new counter from keyword args</span>\n</pre></div>\n</div>\n<p>Counter objects have a dictionary interface except that they return a zero\ncount for missing items instead of raising a <a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a>:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">([</span><span class=\"s1\">&#39;eggs&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ham&#39;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span><span class=\"p\">[</span><span class=\"s1\">&#39;bacon&#39;</span><span class=\"p\">]</span>                              <span class=\"c1\"># count of a missing element is zero</span>\n<span class=\"go\">0</span>\n</pre></div>\n</div>\n<p>Setting a count to zero does not remove an element from a counter.\nUse <code class=\"docutils literal notranslate\"><span class=\"pre\">del</span></code> to remove it entirely:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span><span class=\"p\">[</span><span class=\"s1\">&#39;sausage&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>                        <span class=\"c1\"># counter entry with a zero count</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">del</span> <span class=\"n\">c</span><span class=\"p\">[</span><span class=\"s1\">&#39;sausage&#39;</span><span class=\"p\">]</span>                        <span class=\"c1\"># del actually removes the entry</span>\n</pre></div>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.1.</span></p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.7: </span>As a <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> subclass, <a class=\"reference internal\" href=\"#collections.Counter\" title=\"collections.Counter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code></a>\ninherited the capability to remember insertion order.  Math operations\non <em>Counter</em> objects also preserve order.  Results are ordered\naccording to when an element is first encountered in the left operand\nand then by the order encountered in the right operand.</p>\n</div>\n<p>Counter objects support additional methods beyond those available for all\ndictionaries:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.Counter.elements\">\n<span class=\"sig-name descname\"><span class=\"pre\">elements</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.Counter.elements\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return an iterator over elements repeating each as many times as its\ncount.  Elements are returned in the order first encountered. If an\nelement’s count is less than one, <a class=\"reference internal\" href=\"#collections.Counter.elements\" title=\"collections.Counter.elements\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">elements()</span></code></a> will ignore it.</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">c</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"o\">=-</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">elements</span><span class=\"p\">())</span>\n<span class=\"go\">[&#39;a&#39;, &#39;a&#39;, &#39;a&#39;, &#39;a&#39;, &#39;b&#39;, &#39;b&#39;]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.Counter.most_common\">\n<span class=\"sig-name descname\"><span class=\"pre\">most_common</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">n</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.Counter.most_common\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a list of the <em>n</em> most common elements and their counts from the\nmost common to the least.  If <em>n</em> is omitted or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>,\n<a class=\"reference internal\" href=\"#collections.Counter.most_common\" title=\"collections.Counter.most_common\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">most_common()</span></code></a> returns <em>all</em> elements in the counter.\nElements with equal counts are ordered in the order first encountered:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"s1\">&#39;abracadabra&#39;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">most_common</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">[(&#39;a&#39;, 5), (&#39;b&#39;, 2), (&#39;r&#39;, 2)]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.Counter.subtract\">\n<span class=\"sig-name descname\"><span class=\"pre\">subtract</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable-or-mapping</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.Counter.subtract\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Elements are subtracted from an <em>iterable</em> or from another <em>mapping</em>\n(or counter).  Like <a class=\"reference internal\" href=\"stdtypes.html#dict.update\" title=\"dict.update\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">dict.update()</span></code></a> but subtracts counts instead\nof replacing them.  Both inputs and outputs may be zero or negative.</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">c</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"o\">=-</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">c</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">subtract</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span>\n<span class=\"go\">Counter({&#39;a&#39;: 3, &#39;b&#39;: 0, &#39;c&#39;: -3, &#39;d&#39;: -6})</span>\n</pre></div>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.Counter.total\">\n<span class=\"sig-name descname\"><span class=\"pre\">total</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.Counter.total\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Compute the sum of the counts.</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"n\">c</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">total</span><span class=\"p\">()</span>\n<span class=\"go\">15</span>\n</pre></div>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.10.</span></p>\n</div>\n</dd></dl>\n\n<p>The usual dictionary methods are available for <a class=\"reference internal\" href=\"#collections.Counter\" title=\"collections.Counter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code></a> objects\nexcept for two which work differently for counters.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.Counter.fromkeys\">\n<span class=\"sig-name descname\"><span class=\"pre\">fromkeys</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.Counter.fromkeys\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This class method is not implemented for <a class=\"reference internal\" href=\"#collections.Counter\" title=\"collections.Counter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code></a> objects.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.Counter.update\">\n<span class=\"sig-name descname\"><span class=\"pre\">update</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable-or-mapping</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.Counter.update\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Elements are counted from an <em>iterable</em> or added-in from another\n<em>mapping</em> (or counter).  Like <a class=\"reference internal\" href=\"stdtypes.html#dict.update\" title=\"dict.update\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">dict.update()</span></code></a> but adds counts\ninstead of replacing them.  Also, the <em>iterable</em> is expected to be a\nsequence of elements, not a sequence of <code class=\"docutils literal notranslate\"><span class=\"pre\">(key,</span> <span class=\"pre\">value)</span></code> pairs.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>Counters support rich comparison operators for equality, subset, and\nsuperset relationships: <code class=\"docutils literal notranslate\"><span class=\"pre\">==</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">!=</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;=</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">&gt;</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">&gt;=</span></code>.\nAll of those tests treat missing elements as having zero counts so that\n<code class=\"docutils literal notranslate\"><span class=\"pre\">Counter(a=1)</span> <span class=\"pre\">==</span> <span class=\"pre\">Counter(a=1,</span> <span class=\"pre\">b=0)</span></code> returns true.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.10: </span>Rich comparison operations were added.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.10: </span>In equality tests, missing elements are treated as having zero counts.\nFormerly, <code class=\"docutils literal notranslate\"><span class=\"pre\">Counter(a=3)</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">Counter(a=3,</span> <span class=\"pre\">b=0)</span></code> were considered\ndistinct.</p>\n</div>\n<p>Common patterns for working with <a class=\"reference internal\" href=\"#collections.Counter\" title=\"collections.Counter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code></a> objects:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">total</span><span class=\"p\">()</span>                       <span class=\"c1\"># total of all counts</span>\n<span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">clear</span><span class=\"p\">()</span>                       <span class=\"c1\"># reset all counts</span>\n<span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span>                         <span class=\"c1\"># list unique elements</span>\n<span class=\"nb\">set</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span>                          <span class=\"c1\"># convert to a set</span>\n<span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span>                         <span class=\"c1\"># convert to a regular dictionary</span>\n<span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()</span>                       <span class=\"c1\"># access the (elem, cnt) pairs</span>\n<span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">list_of_pairs</span><span class=\"p\">))</span>    <span class=\"c1\"># convert from a list of (elem, cnt) pairs</span>\n<span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">most_common</span><span class=\"p\">()[:</span><span class=\"o\">-</span><span class=\"n\">n</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>       <span class=\"c1\"># n least common elements</span>\n<span class=\"o\">+</span><span class=\"n\">c</span>                              <span class=\"c1\"># remove zero and negative counts</span>\n</pre></div>\n</div>\n<p>Several mathematical operations are provided for combining <a class=\"reference internal\" href=\"#collections.Counter\" title=\"collections.Counter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code></a>\nobjects to produce multisets (counters that have counts greater than zero).\nAddition and subtraction combine counters by adding or subtracting the counts\nof corresponding elements.  Intersection and union return the minimum and\nmaximum of corresponding counts.  Equality and inclusion compare\ncorresponding counts.  Each operation can accept inputs with signed\ncounts, but the output will exclude results with counts of zero or less.</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">+</span> <span class=\"n\">d</span>                       <span class=\"c1\"># add two counters together:  c[x] + d[x]</span>\n<span class=\"go\">Counter({&#39;a&#39;: 4, &#39;b&#39;: 3})</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">-</span> <span class=\"n\">d</span>                       <span class=\"c1\"># subtract (keeping only positive counts)</span>\n<span class=\"go\">Counter({&#39;a&#39;: 2})</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">&amp;</span> <span class=\"n\">d</span>                       <span class=\"c1\"># intersection:  min(c[x], d[x])</span>\n<span class=\"go\">Counter({&#39;a&#39;: 1, &#39;b&#39;: 1})</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">|</span> <span class=\"n\">d</span>                       <span class=\"c1\"># union:  max(c[x], d[x])</span>\n<span class=\"go\">Counter({&#39;a&#39;: 3, &#39;b&#39;: 2})</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">==</span> <span class=\"n\">d</span>                      <span class=\"c1\"># equality:  c[x] == d[x]</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">&lt;=</span> <span class=\"n\">d</span>                      <span class=\"c1\"># inclusion:  c[x] &lt;= d[x]</span>\n<span class=\"go\">False</span>\n</pre></div>\n</div>\n<p>Unary addition and subtraction are shortcuts for adding an empty counter\nor subtracting from an empty counter.</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"o\">=-</span><span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"o\">+</span><span class=\"n\">c</span>\n<span class=\"go\">Counter({&#39;a&#39;: 2})</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"o\">-</span><span class=\"n\">c</span>\n<span class=\"go\">Counter({&#39;b&#39;: 4})</span>\n</pre></div>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3: </span>Added support for unary plus, unary minus, and in-place multiset operations.</p>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Counters were primarily designed to work with positive integers to represent\nrunning counts; however, care was taken to not unnecessarily preclude use\ncases needing other types or negative values.  To help with those use cases,\nthis section documents the minimum range and type restrictions.</p>\n<ul class=\"simple\">\n<li><p>The <a class=\"reference internal\" href=\"#collections.Counter\" title=\"collections.Counter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code></a> class itself is a dictionary subclass with no\nrestrictions on its keys and values.  The values are intended to be numbers\nrepresenting counts, but you <em>could</em> store anything in the value field.</p></li>\n<li><p>The <a class=\"reference internal\" href=\"#collections.Counter.most_common\" title=\"collections.Counter.most_common\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">most_common()</span></code></a> method requires only that the values be orderable.</p></li>\n<li><p>For in-place operations such as <code class=\"docutils literal notranslate\"><span class=\"pre\">c[key]</span> <span class=\"pre\">+=</span> <span class=\"pre\">1</span></code>, the value type need only\nsupport addition and subtraction.  So fractions, floats, and decimals would\nwork and negative values are supported.  The same is also true for\n<a class=\"reference internal\" href=\"#collections.Counter.update\" title=\"collections.Counter.update\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">update()</span></code></a> and <a class=\"reference internal\" href=\"#collections.Counter.subtract\" title=\"collections.Counter.subtract\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">subtract()</span></code></a> which allow negative and zero values\nfor both inputs and outputs.</p></li>\n<li><p>The multiset methods are designed only for use cases with positive values.\nThe inputs may be negative or zero, but only outputs with positive values\nare created.  There are no type restrictions, but the value type needs to\nsupport addition, subtraction, and comparison.</p></li>\n<li><p>The <a class=\"reference internal\" href=\"#collections.Counter.elements\" title=\"collections.Counter.elements\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">elements()</span></code></a> method requires integer counts.  It ignores zero and\nnegative counts.</p></li>\n</ul>\n</div>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<ul>\n<li><p><a class=\"reference external\" href=\"https://www.gnu.org/software/smalltalk/manual-base/html_node/Bag.html\">Bag class</a>\nin Smalltalk.</p></li>\n<li><p>Wikipedia entry for <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Multiset\">Multisets</a>.</p></li>\n<li><p><a class=\"reference external\" href=\"http://www.java2s.com/Tutorial/Cpp/0380__set-multiset/Catalog0380__set-multiset.htm\">C++ multisets</a>\ntutorial with examples.</p></li>\n<li><p>For mathematical operations on multisets and their use cases, see\n<em>Knuth, Donald. The Art of Computer Programming Volume II,\nSection 4.6.3, Exercise 19</em>.</p></li>\n<li><p>To enumerate all distinct multisets of a given size over a given set of\nelements, see <a class=\"reference internal\" href=\"itertools.html#itertools.combinations_with_replacement\" title=\"itertools.combinations_with_replacement\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">itertools.combinations_with_replacement()</span></code></a>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"n\">Counter</span><span class=\"p\">,</span> <span class=\"n\">combinations_with_replacement</span><span class=\"p\">(</span><span class=\"s1\">&#39;ABC&#39;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">))</span> <span class=\"c1\"># --&gt; AA AB AC BB BC CC</span>\n</pre></div>\n</div>\n</li>\n</ul>\n</div>\n</section>\n<section id=\"deque-objects\">\n<h2><a class=\"reference internal\" href=\"#collections.deque\" title=\"collections.deque\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">deque</span></code></a> objects<a class=\"headerlink\" href=\"#deque-objects\" title=\"Link to this heading\">¶</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"collections.deque\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">collections.</span></span><span class=\"sig-name descname\"><span class=\"pre\">deque</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">maxlen</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns a new deque object initialized left-to-right (using <a class=\"reference internal\" href=\"#collections.deque.append\" title=\"collections.deque.append\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">append()</span></code></a>) with\ndata from <em>iterable</em>.  If <em>iterable</em> is not specified, the new deque is empty.</p>\n<p>Deques are a generalization of stacks and queues (the name is pronounced “deck”\nand is short for “double-ended queue”).  Deques support thread-safe, memory\nefficient appends and pops from either side of the deque with approximately the\nsame <em>O</em>(1) performance in either direction.</p>\n<p>Though <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> objects support similar operations, they are optimized for\nfast fixed-length operations and incur <em>O</em>(<em>n</em>) memory movement costs for\n<code class=\"docutils literal notranslate\"><span class=\"pre\">pop(0)</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">insert(0,</span> <span class=\"pre\">v)</span></code> operations which change both the size and\nposition of the underlying data representation.</p>\n<p>If <em>maxlen</em> is not specified or is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, deques may grow to an\narbitrary length.  Otherwise, the deque is bounded to the specified maximum\nlength.  Once a bounded length deque is full, when new items are added, a\ncorresponding number of items are discarded from the opposite end.  Bounded\nlength deques provide functionality similar to the <code class=\"docutils literal notranslate\"><span class=\"pre\">tail</span></code> filter in\nUnix. They are also useful for tracking transactions and other pools of data\nwhere only the most recent activity is of interest.</p>\n<p>Deque objects support the following methods:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.append\">\n<span class=\"sig-name descname\"><span class=\"pre\">append</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">x</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.append\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Add <em>x</em> to the right side of the deque.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.appendleft\">\n<span class=\"sig-name descname\"><span class=\"pre\">appendleft</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">x</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.appendleft\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Add <em>x</em> to the left side of the deque.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.clear\">\n<span class=\"sig-name descname\"><span class=\"pre\">clear</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.clear\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Remove all elements from the deque leaving it with length 0.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.copy\">\n<span class=\"sig-name descname\"><span class=\"pre\">copy</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.copy\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a shallow copy of the deque.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.5.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.count\">\n<span class=\"sig-name descname\"><span class=\"pre\">count</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">x</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.count\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Count the number of deque elements equal to <em>x</em>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.extend\">\n<span class=\"sig-name descname\"><span class=\"pre\">extend</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.extend\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Extend the right side of the deque by appending elements from the iterable\nargument.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.extendleft\">\n<span class=\"sig-name descname\"><span class=\"pre\">extendleft</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.extendleft\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Extend the left side of the deque by appending elements from <em>iterable</em>.\nNote, the series of left appends results in reversing the order of\nelements in the iterable argument.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.index\">\n<span class=\"sig-name descname\"><span class=\"pre\">index</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">x</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">start</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">stop</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.index\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the position of <em>x</em> in the deque (at or after index <em>start</em>\nand before index <em>stop</em>).  Returns the first match or raises\n<a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> if not found.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.5.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.insert\">\n<span class=\"sig-name descname\"><span class=\"pre\">insert</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">i</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">x</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.insert\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Insert <em>x</em> into the deque at position <em>i</em>.</p>\n<p>If the insertion would cause a bounded deque to grow beyond <em>maxlen</em>,\nan <a class=\"reference internal\" href=\"exceptions.html#IndexError\" title=\"IndexError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">IndexError</span></code></a> is raised.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.5.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.pop\">\n<span class=\"sig-name descname\"><span class=\"pre\">pop</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.pop\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Remove and return an element from the right side of the deque. If no\nelements are present, raises an <a class=\"reference internal\" href=\"exceptions.html#IndexError\" title=\"IndexError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">IndexError</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.popleft\">\n<span class=\"sig-name descname\"><span class=\"pre\">popleft</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.popleft\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Remove and return an element from the left side of the deque. If no\nelements are present, raises an <a class=\"reference internal\" href=\"exceptions.html#IndexError\" title=\"IndexError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">IndexError</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.remove\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.remove\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Remove the first occurrence of <em>value</em>.  If not found, raises a\n<a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.reverse\">\n<span class=\"sig-name descname\"><span class=\"pre\">reverse</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.reverse\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Reverse the elements of the deque in-place and then return <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.rotate\">\n<span class=\"sig-name descname\"><span class=\"pre\">rotate</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">n</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">1</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.deque.rotate\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Rotate the deque <em>n</em> steps to the right.  If <em>n</em> is negative, rotate\nto the left.</p>\n<p>When the deque is not empty, rotating one step to the right is equivalent\nto <code class=\"docutils literal notranslate\"><span class=\"pre\">d.appendleft(d.pop())</span></code>, and rotating one step to the left is\nequivalent to <code class=\"docutils literal notranslate\"><span class=\"pre\">d.append(d.popleft())</span></code>.</p>\n</dd></dl>\n\n<p>Deque objects also provide one read-only attribute:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"collections.deque.maxlen\">\n<span class=\"sig-name descname\"><span class=\"pre\">maxlen</span></span><a class=\"headerlink\" href=\"#collections.deque.maxlen\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Maximum size of a deque or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> if unbounded.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.1.</span></p>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n<p>In addition to the above, deques support iteration, pickling, <code class=\"docutils literal notranslate\"><span class=\"pre\">len(d)</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">reversed(d)</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">copy.copy(d)</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">copy.deepcopy(d)</span></code>, membership testing with\nthe <a class=\"reference internal\" href=\"../reference/expressions.html#in\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">in</span></code></a> operator, and subscript references such as <code class=\"docutils literal notranslate\"><span class=\"pre\">d[0]</span></code> to access\nthe first element.  Indexed access is <em>O</em>(1) at both ends but slows to <em>O</em>(<em>n</em>) in\nthe middle.  For fast random access, use lists instead.</p>\n<p>Starting in version 3.5, deques support <code class=\"docutils literal notranslate\"><span class=\"pre\">__add__()</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">__mul__()</span></code>,\nand <code class=\"docutils literal notranslate\"><span class=\"pre\">__imul__()</span></code>.</p>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">collections</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">deque</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">deque</span><span class=\"p\">(</span><span class=\"s1\">&#39;ghi&#39;</span><span class=\"p\">)</span>                 <span class=\"c1\"># make a new deque with three items</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">elem</span> <span class=\"ow\">in</span> <span class=\"n\">d</span><span class=\"p\">:</span>                   <span class=\"c1\"># iterate over the deque&#39;s elements</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">elem</span><span class=\"o\">.</span><span class=\"n\">upper</span><span class=\"p\">())</span>\n<span class=\"go\">G</span>\n<span class=\"go\">H</span>\n<span class=\"go\">I</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"s1\">&#39;j&#39;</span><span class=\"p\">)</span>                    <span class=\"c1\"># add a new entry to the right side</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">appendleft</span><span class=\"p\">(</span><span class=\"s1\">&#39;f&#39;</span><span class=\"p\">)</span>                <span class=\"c1\"># add a new entry to the left side</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span>                                <span class=\"c1\"># show the representation of the deque</span>\n<span class=\"go\">deque([&#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;])</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">()</span>                          <span class=\"c1\"># return and remove the rightmost item</span>\n<span class=\"go\">&#39;j&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">popleft</span><span class=\"p\">()</span>                      <span class=\"c1\"># return and remove the leftmost item</span>\n<span class=\"go\">&#39;f&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>                          <span class=\"c1\"># list the contents of the deque</span>\n<span class=\"go\">[&#39;g&#39;, &#39;h&#39;, &#39;i&#39;]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>                             <span class=\"c1\"># peek at leftmost item</span>\n<span class=\"go\">&#39;g&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>                            <span class=\"c1\"># peek at rightmost item</span>\n<span class=\"go\">&#39;i&#39;</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">reversed</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">))</span>                <span class=\"c1\"># list the contents of a deque in reverse</span>\n<span class=\"go\">[&#39;i&#39;, &#39;h&#39;, &#39;g&#39;]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;h&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">d</span>                         <span class=\"c1\"># search the deque</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">extend</span><span class=\"p\">(</span><span class=\"s1\">&#39;jkl&#39;</span><span class=\"p\">)</span>                  <span class=\"c1\"># add multiple elements at once</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span>\n<span class=\"go\">deque([&#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">rotate</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>                      <span class=\"c1\"># right rotation</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span>\n<span class=\"go\">deque([&#39;l&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">rotate</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">)</span>                     <span class=\"c1\"># left rotation</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span>\n<span class=\"go\">deque([&#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;])</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">deque</span><span class=\"p\">(</span><span class=\"nb\">reversed</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">))</span>               <span class=\"c1\"># make a new deque in reverse order</span>\n<span class=\"go\">deque([&#39;l&#39;, &#39;k&#39;, &#39;j&#39;, &#39;i&#39;, &#39;h&#39;, &#39;g&#39;])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">clear</span><span class=\"p\">()</span>                        <span class=\"c1\"># empty the deque</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">()</span>                          <span class=\"c1\"># cannot pop from an empty deque</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"w\">    </span><span class=\"n\">File</span> <span class=\"s2\">&quot;&lt;pyshell#6&gt;&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"o\">-</span><span class=\"n\">toplevel</span><span class=\"o\">-</span>\n<span class=\"w\">    </span>    <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">()</span>\n<span class=\"gr\">IndexError</span>: <span class=\"n\">pop from an empty deque</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">extendleft</span><span class=\"p\">(</span><span class=\"s1\">&#39;abc&#39;</span><span class=\"p\">)</span>              <span class=\"c1\"># extendleft() reverses the input order</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span>\n<span class=\"go\">deque([&#39;c&#39;, &#39;b&#39;, &#39;a&#39;])</span>\n</pre></div>\n</div>\n<section id=\"deque-recipes\">\n<h3><a class=\"reference internal\" href=\"#collections.deque\" title=\"collections.deque\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">deque</span></code></a> Recipes<a class=\"headerlink\" href=\"#deque-recipes\" title=\"Link to this heading\">¶</a></h3>\n<p>This section shows various approaches to working with deques.</p>\n<p>Bounded length deques provide functionality similar to the <code class=\"docutils literal notranslate\"><span class=\"pre\">tail</span></code> filter\nin Unix:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">tail</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"n\">n</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n    <span class=\"s1\">&#39;Return the last n lines of a file&#39;</span>\n    <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"n\">deque</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">n</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Another approach to using deques is to maintain a sequence of recently\nadded elements by appending to the right and popping to the left:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">moving_average</span><span class=\"p\">(</span><span class=\"n\">iterable</span><span class=\"p\">,</span> <span class=\"n\">n</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">):</span>\n    <span class=\"c1\"># moving_average([40, 30, 50, 46, 39, 44]) --&gt; 40.0 42.0 45.0 43.0</span>\n    <span class=\"c1\"># https://en.wikipedia.org/wiki/Moving_average</span>\n    <span class=\"n\">it</span> <span class=\"o\">=</span> <span class=\"nb\">iter</span><span class=\"p\">(</span><span class=\"n\">iterable</span><span class=\"p\">)</span>\n    <span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">deque</span><span class=\"p\">(</span><span class=\"n\">itertools</span><span class=\"o\">.</span><span class=\"n\">islice</span><span class=\"p\">(</span><span class=\"n\">it</span><span class=\"p\">,</span> <span class=\"n\">n</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">))</span>\n    <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">appendleft</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n    <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">elem</span> <span class=\"ow\">in</span> <span class=\"n\">it</span><span class=\"p\">:</span>\n        <span class=\"n\">s</span> <span class=\"o\">+=</span> <span class=\"n\">elem</span> <span class=\"o\">-</span> <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">popleft</span><span class=\"p\">()</span>\n        <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">elem</span><span class=\"p\">)</span>\n        <span class=\"k\">yield</span> <span class=\"n\">s</span> <span class=\"o\">/</span> <span class=\"n\">n</span>\n</pre></div>\n</div>\n<p>A <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Round-robin_scheduling\">round-robin scheduler</a> can be implemented with\ninput iterators stored in a <a class=\"reference internal\" href=\"#collections.deque\" title=\"collections.deque\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">deque</span></code></a>.  Values are yielded from the active\niterator in position zero.  If that iterator is exhausted, it can be removed\nwith <a class=\"reference internal\" href=\"#collections.deque.popleft\" title=\"collections.deque.popleft\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">popleft()</span></code></a>; otherwise, it can be cycled back to the end with\nthe <a class=\"reference internal\" href=\"#collections.deque.rotate\" title=\"collections.deque.rotate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">rotate()</span></code></a> method:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">roundrobin</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">iterables</span><span class=\"p\">):</span>\n    <span class=\"s2\">&quot;roundrobin(&#39;ABC&#39;, &#39;D&#39;, &#39;EF&#39;) --&gt; A D E B F C&quot;</span>\n    <span class=\"n\">iterators</span> <span class=\"o\">=</span> <span class=\"n\">deque</span><span class=\"p\">(</span><span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"nb\">iter</span><span class=\"p\">,</span> <span class=\"n\">iterables</span><span class=\"p\">))</span>\n    <span class=\"k\">while</span> <span class=\"n\">iterators</span><span class=\"p\">:</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"k\">while</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n                <span class=\"k\">yield</span> <span class=\"nb\">next</span><span class=\"p\">(</span><span class=\"n\">iterators</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n                <span class=\"n\">iterators</span><span class=\"o\">.</span><span class=\"n\">rotate</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n        <span class=\"k\">except</span> <span class=\"ne\">StopIteration</span><span class=\"p\">:</span>\n            <span class=\"c1\"># Remove an exhausted iterator.</span>\n            <span class=\"n\">iterators</span><span class=\"o\">.</span><span class=\"n\">popleft</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>The <a class=\"reference internal\" href=\"#collections.deque.rotate\" title=\"collections.deque.rotate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">rotate()</span></code></a> method provides a way to implement <a class=\"reference internal\" href=\"#collections.deque\" title=\"collections.deque\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">deque</span></code></a> slicing and\ndeletion.  For example, a pure Python implementation of <code class=\"docutils literal notranslate\"><span class=\"pre\">del</span> <span class=\"pre\">d[n]</span></code> relies on\nthe <code class=\"docutils literal notranslate\"><span class=\"pre\">rotate()</span></code> method to position elements to be popped:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">delete_nth</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">,</span> <span class=\"n\">n</span><span class=\"p\">):</span>\n    <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">rotate</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"n\">n</span><span class=\"p\">)</span>\n    <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">popleft</span><span class=\"p\">()</span>\n    <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">rotate</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>To implement <a class=\"reference internal\" href=\"#collections.deque\" title=\"collections.deque\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">deque</span></code></a> slicing, use a similar approach applying\n<a class=\"reference internal\" href=\"#collections.deque.rotate\" title=\"collections.deque.rotate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">rotate()</span></code></a> to bring a target element to the left side of the deque. Remove\nold entries with <a class=\"reference internal\" href=\"#collections.deque.popleft\" title=\"collections.deque.popleft\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">popleft()</span></code></a>, add new entries with <a class=\"reference internal\" href=\"#collections.deque.extend\" title=\"collections.deque.extend\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">extend()</span></code></a>, and then\nreverse the rotation.\nWith minor variations on that approach, it is easy to implement Forth style\nstack manipulations such as <code class=\"docutils literal notranslate\"><span class=\"pre\">dup</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">drop</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">swap</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">over</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">pick</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">rot</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">roll</span></code>.</p>\n</section>\n</section>\n<section id=\"defaultdict-objects\">\n<h2><a class=\"reference internal\" href=\"#collections.defaultdict\" title=\"collections.defaultdict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a> objects<a class=\"headerlink\" href=\"#defaultdict-objects\" title=\"Link to this heading\">¶</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"collections.defaultdict\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">collections.</span></span><span class=\"sig-name descname\"><span class=\"pre\">defaultdict</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">default_factory=None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">/</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">...</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.defaultdict\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a new dictionary-like object.  <a class=\"reference internal\" href=\"#collections.defaultdict\" title=\"collections.defaultdict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a> is a subclass of the\nbuilt-in <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> class.  It overrides one method and adds one writable\ninstance variable.  The remaining functionality is the same as for the\n<a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> class and is not documented here.</p>\n<p>The first argument provides the initial value for the <a class=\"reference internal\" href=\"#collections.defaultdict.default_factory\" title=\"collections.defaultdict.default_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">default_factory</span></code></a>\nattribute; it defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>. All remaining arguments are treated the same\nas if they were passed to the <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> constructor, including keyword\narguments.</p>\n<p><a class=\"reference internal\" href=\"#collections.defaultdict\" title=\"collections.defaultdict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a> objects support the following method in addition to the\nstandard <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> operations:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.defaultdict.__missing__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__missing__</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.defaultdict.__missing__\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>If the <a class=\"reference internal\" href=\"#collections.defaultdict.default_factory\" title=\"collections.defaultdict.default_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">default_factory</span></code></a> attribute is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, this raises a\n<a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception with the <em>key</em> as argument.</p>\n<p>If <a class=\"reference internal\" href=\"#collections.defaultdict.default_factory\" title=\"collections.defaultdict.default_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">default_factory</span></code></a> is not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, it is called without arguments\nto provide a default value for the given <em>key</em>, this value is inserted in\nthe dictionary for the <em>key</em>, and returned.</p>\n<p>If calling <a class=\"reference internal\" href=\"#collections.defaultdict.default_factory\" title=\"collections.defaultdict.default_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">default_factory</span></code></a> raises an exception this exception is\npropagated unchanged.</p>\n<p>This method is called by the <a class=\"reference internal\" href=\"../reference/datamodel.html#object.__getitem__\" title=\"object.__getitem__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__getitem__()</span></code></a> method of the\n<a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> class when the requested key is not found; whatever it\nreturns or raises is then returned or raised by <a class=\"reference internal\" href=\"../reference/datamodel.html#object.__getitem__\" title=\"object.__getitem__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__getitem__()</span></code></a>.</p>\n<p>Note that <a class=\"reference internal\" href=\"#collections.defaultdict.__missing__\" title=\"collections.defaultdict.__missing__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__missing__()</span></code></a> is <em>not</em> called for any operations besides\n<a class=\"reference internal\" href=\"../reference/datamodel.html#object.__getitem__\" title=\"object.__getitem__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__getitem__()</span></code></a>. This means that <a class=\"reference internal\" href=\"stdtypes.html#dict.get\" title=\"dict.get\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get()</span></code></a> will, like\nnormal dictionaries, return <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> as a default rather than using\n<a class=\"reference internal\" href=\"#collections.defaultdict.default_factory\" title=\"collections.defaultdict.default_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">default_factory</span></code></a>.</p>\n</dd></dl>\n\n<p><a class=\"reference internal\" href=\"#collections.defaultdict\" title=\"collections.defaultdict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a> objects support the following instance variable:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"collections.defaultdict.default_factory\">\n<span class=\"sig-name descname\"><span class=\"pre\">default_factory</span></span><a class=\"headerlink\" href=\"#collections.defaultdict.default_factory\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This attribute is used by the <a class=\"reference internal\" href=\"#collections.defaultdict.__missing__\" title=\"collections.defaultdict.__missing__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__missing__()</span></code></a> method;\nit is initialized from the first argument to the constructor, if present,\nor to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, if absent.</p>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.9: </span>Added merge (<code class=\"docutils literal notranslate\"><span class=\"pre\">|</span></code>) and update (<code class=\"docutils literal notranslate\"><span class=\"pre\">|=</span></code>) operators, specified in\n<span class=\"target\" id=\"index-1\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0584/\"><strong>PEP 584</strong></a>.</p>\n</div>\n</dd></dl>\n\n<section id=\"defaultdict-examples\">\n<h3><a class=\"reference internal\" href=\"#collections.defaultdict\" title=\"collections.defaultdict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a> Examples<a class=\"headerlink\" href=\"#defaultdict-examples\" title=\"Link to this heading\">¶</a></h3>\n<p>Using <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> as the <a class=\"reference internal\" href=\"#collections.defaultdict.default_factory\" title=\"collections.defaultdict.default_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">default_factory</span></code></a>, it is easy to group a\nsequence of key-value pairs into a dictionary of lists:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s1\">&#39;yellow&#39;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;yellow&#39;</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;red&#39;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">defaultdict</span><span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">s</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"n\">k</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">())</span>\n<span class=\"go\">[(&#39;blue&#39;, [2, 4]), (&#39;red&#39;, [1]), (&#39;yellow&#39;, [1, 3])]</span>\n</pre></div>\n</div>\n<p>When each key is encountered for the first time, it is not already in the\nmapping; so an entry is automatically created using the <a class=\"reference internal\" href=\"#collections.defaultdict.default_factory\" title=\"collections.defaultdict.default_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">default_factory</span></code></a>\nfunction which returns an empty <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a>.  The <a class=\"reference internal\" href=\"stdtypes.html#list.append\" title=\"list.append\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">list.append()</span></code></a>\noperation then attaches the value to the new list.  When keys are encountered\nagain, the look-up proceeds normally (returning the list for that key) and the\n<a class=\"reference internal\" href=\"stdtypes.html#list.append\" title=\"list.append\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">list.append()</span></code></a> operation adds another value to the list. This technique is\nsimpler and faster than an equivalent technique using <a class=\"reference internal\" href=\"stdtypes.html#dict.setdefault\" title=\"dict.setdefault\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">dict.setdefault()</span></code></a>:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">s</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">setdefault</span><span class=\"p\">(</span><span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"p\">[])</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">())</span>\n<span class=\"go\">[(&#39;blue&#39;, [2, 4]), (&#39;red&#39;, [1]), (&#39;yellow&#39;, [1, 3])]</span>\n</pre></div>\n</div>\n<p>Setting the <a class=\"reference internal\" href=\"#collections.defaultdict.default_factory\" title=\"collections.defaultdict.default_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">default_factory</span></code></a> to <a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a> makes the\n<a class=\"reference internal\" href=\"#collections.defaultdict\" title=\"collections.defaultdict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a> useful for counting (like a bag or multiset in other\nlanguages):</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;mississippi&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">defaultdict</span><span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">k</span> <span class=\"ow\">in</span> <span class=\"n\">s</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"n\">k</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">())</span>\n<span class=\"go\">[(&#39;i&#39;, 4), (&#39;m&#39;, 1), (&#39;p&#39;, 2), (&#39;s&#39;, 4)]</span>\n</pre></div>\n</div>\n<p>When a letter is first encountered, it is missing from the mapping, so the\n<a class=\"reference internal\" href=\"#collections.defaultdict.default_factory\" title=\"collections.defaultdict.default_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">default_factory</span></code></a> function calls <a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">int()</span></code></a> to supply a default count of\nzero.  The increment operation then builds up the count for each letter.</p>\n<p>The function <a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">int()</span></code></a> which always returns zero is just a special case of\nconstant functions.  A faster and more flexible way to create constant functions\nis to use a lambda function which can supply any constant value (not just\nzero):</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">constant_factory</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">return</span> <span class=\"k\">lambda</span><span class=\"p\">:</span> <span class=\"n\">value</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">defaultdict</span><span class=\"p\">(</span><span class=\"n\">constant_factory</span><span class=\"p\">(</span><span class=\"s1\">&#39;&lt;missing&gt;&#39;</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">&#39;John&#39;</span><span class=\"p\">,</span> <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s1\">&#39;ran&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;</span><span class=\"si\">%(name)s</span><span class=\"s1\"> </span><span class=\"si\">%(action)s</span><span class=\"s1\"> to </span><span class=\"si\">%(object)s</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">d</span>\n<span class=\"go\">&#39;John ran to &lt;missing&gt;&#39;</span>\n</pre></div>\n</div>\n<p>Setting the <a class=\"reference internal\" href=\"#collections.defaultdict.default_factory\" title=\"collections.defaultdict.default_factory\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">default_factory</span></code></a> to <a class=\"reference internal\" href=\"stdtypes.html#set\" title=\"set\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">set</span></code></a> makes the\n<a class=\"reference internal\" href=\"#collections.defaultdict\" title=\"collections.defaultdict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a> useful for building a dictionary of sets:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s1\">&#39;red&#39;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;red&#39;</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;red&#39;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">defaultdict</span><span class=\"p\">(</span><span class=\"nb\">set</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">s</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"n\">k</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">())</span>\n<span class=\"go\">[(&#39;blue&#39;, {2, 4}), (&#39;red&#39;, {1, 3})]</span>\n</pre></div>\n</div>\n</section>\n</section>\n<section id=\"namedtuple-factory-function-for-tuples-with-named-fields\">\n<h2><a class=\"reference internal\" href=\"#collections.namedtuple\" title=\"collections.namedtuple\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">namedtuple()</span></code></a> Factory Function for Tuples with Named Fields<a class=\"headerlink\" href=\"#namedtuple-factory-function-for-tuples-with-named-fields\" title=\"Link to this heading\">¶</a></h2>\n<p>Named tuples assign meaning to each position in a tuple and allow for more readable,\nself-documenting code.  They can be used wherever regular tuples are used, and\nthey add the ability to access fields by name instead of position index.</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"collections.namedtuple\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">collections.</span></span><span class=\"sig-name descname\"><span class=\"pre\">namedtuple</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typename</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">field_names</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">rename</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">defaults</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">module</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.namedtuple\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns a new tuple subclass named <em>typename</em>.  The new subclass is used to\ncreate tuple-like objects that have fields accessible by attribute lookup as\nwell as being indexable and iterable.  Instances of the subclass also have a\nhelpful docstring (with <em>typename</em> and <em>field_names</em>) and a helpful\n<a class=\"reference internal\" href=\"../reference/datamodel.html#object.__repr__\" title=\"object.__repr__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__repr__()</span></code></a> method which lists the tuple contents in a <code class=\"docutils literal notranslate\"><span class=\"pre\">name=value</span></code>\nformat.</p>\n<p>The <em>field_names</em> are a sequence of strings such as <code class=\"docutils literal notranslate\"><span class=\"pre\">['x',</span> <span class=\"pre\">'y']</span></code>.\nAlternatively, <em>field_names</em> can be a single string with each fieldname\nseparated by whitespace and/or commas, for example <code class=\"docutils literal notranslate\"><span class=\"pre\">'x</span> <span class=\"pre\">y'</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">'x,</span> <span class=\"pre\">y'</span></code>.</p>\n<p>Any valid Python identifier may be used for a fieldname except for names\nstarting with an underscore.  Valid identifiers consist of letters, digits,\nand underscores but do not start with a digit or underscore and cannot be\na <a class=\"reference internal\" href=\"keyword.html#module-keyword\" title=\"keyword: Test whether a string is a keyword in Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">keyword</span></code></a> such as <em>class</em>, <em>for</em>, <em>return</em>, <em>global</em>, <em>pass</em>,\nor <em>raise</em>.</p>\n<p>If <em>rename</em> is true, invalid fieldnames are automatically replaced\nwith positional names.  For example, <code class=\"docutils literal notranslate\"><span class=\"pre\">['abc',</span> <span class=\"pre\">'def',</span> <span class=\"pre\">'ghi',</span> <span class=\"pre\">'abc']</span></code> is\nconverted to <code class=\"docutils literal notranslate\"><span class=\"pre\">['abc',</span> <span class=\"pre\">'_1',</span> <span class=\"pre\">'ghi',</span> <span class=\"pre\">'_3']</span></code>, eliminating the keyword\n<code class=\"docutils literal notranslate\"><span class=\"pre\">def</span></code> and the duplicate fieldname <code class=\"docutils literal notranslate\"><span class=\"pre\">abc</span></code>.</p>\n<p><em>defaults</em> can be <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> or an <a class=\"reference internal\" href=\"../glossary.html#term-iterable\"><span class=\"xref std std-term\">iterable</span></a> of default values.\nSince fields with a default value must come after any fields without a\ndefault, the <em>defaults</em> are applied to the rightmost parameters.  For\nexample, if the fieldnames are <code class=\"docutils literal notranslate\"><span class=\"pre\">['x',</span> <span class=\"pre\">'y',</span> <span class=\"pre\">'z']</span></code> and the defaults are\n<code class=\"docutils literal notranslate\"><span class=\"pre\">(1,</span> <span class=\"pre\">2)</span></code>, then <code class=\"docutils literal notranslate\"><span class=\"pre\">x</span></code> will be a required argument, <code class=\"docutils literal notranslate\"><span class=\"pre\">y</span></code> will default to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">z</span></code> will default to <code class=\"docutils literal notranslate\"><span class=\"pre\">2</span></code>.</p>\n<p>If <em>module</em> is defined, the <a class=\"reference internal\" href=\"../reference/datamodel.html#type.__module__\" title=\"type.__module__\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">__module__</span></code></a> attribute of the\nnamed tuple is set to that value.</p>\n<p>Named tuple instances do not have per-instance dictionaries, so they are\nlightweight and require no more memory than regular tuples.</p>\n<p>To support pickling, the named tuple class should be assigned to a variable\nthat matches <em>typename</em>.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.1: </span>Added support for <em>rename</em>.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span>The <em>verbose</em> and <em>rename</em> parameters became\n<a class=\"reference internal\" href=\"../glossary.html#keyword-only-parameter\"><span class=\"std std-ref\">keyword-only arguments</span></a>.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span>Added the <em>module</em> parameter.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.7: </span>Removed the <em>verbose</em> parameter and the <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_source</span></code> attribute.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.7: </span>Added the <em>defaults</em> parameter and the <a class=\"reference internal\" href=\"#collections.somenamedtuple._field_defaults\" title=\"collections.somenamedtuple._field_defaults\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_field_defaults</span></code></a>\nattribute.</p>\n</div>\n</dd></dl>\n\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Basic example</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Point</span> <span class=\"o\">=</span> <span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s1\">&#39;Point&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;y&#39;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"o\">=</span><span class=\"mi\">22</span><span class=\"p\">)</span>     <span class=\"c1\"># instantiate with positional or keyword arguments</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"n\">p</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span>             <span class=\"c1\"># indexable like the plain tuple (11, 22)</span>\n<span class=\"go\">33</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">p</span>                <span class=\"c1\"># unpack like a regular tuple</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span>\n<span class=\"go\">(11, 22)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">y</span>               <span class=\"c1\"># fields also accessible by name</span>\n<span class=\"go\">33</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span>                       <span class=\"c1\"># readable __repr__ with a name=value style</span>\n<span class=\"go\">Point(x=11, y=22)</span>\n</pre></div>\n</div>\n<p>Named tuples are especially useful for assigning field names to result tuples returned\nby the <a class=\"reference internal\" href=\"csv.html#module-csv\" title=\"csv: Write and read tabular data to and from delimited files.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">csv</span></code></a> or <a class=\"reference internal\" href=\"sqlite3.html#module-sqlite3\" title=\"sqlite3: A DB-API 2.0 implementation using SQLite 3.x.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code></a> modules:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">EmployeeRecord</span> <span class=\"o\">=</span> <span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s1\">&#39;EmployeeRecord&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;name, age, title, department, paygrade&#39;</span><span class=\"p\">)</span>\n\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">csv</span>\n<span class=\"k\">for</span> <span class=\"n\">emp</span> <span class=\"ow\">in</span> <span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"n\">EmployeeRecord</span><span class=\"o\">.</span><span class=\"n\">_make</span><span class=\"p\">,</span> <span class=\"n\">csv</span><span class=\"o\">.</span><span class=\"n\">reader</span><span class=\"p\">(</span><span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">&quot;employees.csv&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;rb&quot;</span><span class=\"p\">))):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">emp</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">emp</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"p\">)</span>\n\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">sqlite3</span>\n<span class=\"n\">conn</span> <span class=\"o\">=</span> <span class=\"n\">sqlite3</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s1\">&#39;/companydata&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">cursor</span> <span class=\"o\">=</span> <span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">cursor</span><span class=\"p\">()</span>\n<span class=\"n\">cursor</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s1\">&#39;SELECT name, age, title, department, paygrade FROM employees&#39;</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">emp</span> <span class=\"ow\">in</span> <span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"n\">EmployeeRecord</span><span class=\"o\">.</span><span class=\"n\">_make</span><span class=\"p\">,</span> <span class=\"n\">cursor</span><span class=\"o\">.</span><span class=\"n\">fetchall</span><span class=\"p\">()):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">emp</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">emp</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>In addition to the methods inherited from tuples, named tuples support\nthree additional methods and two attributes.  To prevent conflicts with\nfield names, the method and attribute names start with an underscore.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.somenamedtuple._make\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">classmethod</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">somenamedtuple.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_make</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.somenamedtuple._make\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Class method that makes a new instance from an existing sequence or iterable.</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Point</span><span class=\"o\">.</span><span class=\"n\">_make</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span>\n<span class=\"go\">Point(x=11, y=22)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.somenamedtuple._asdict\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">somenamedtuple.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_asdict</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.somenamedtuple._asdict\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a new <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> which maps field names to their corresponding\nvalues:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"o\">=</span><span class=\"mi\">22</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">_asdict</span><span class=\"p\">()</span>\n<span class=\"go\">{&#39;x&#39;: 11, &#39;y&#39;: 22}</span>\n</pre></div>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.1: </span>Returns an <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> instead of a regular <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a>.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.8: </span>Returns a regular <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> instead of an <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a>.\nAs of Python 3.7, regular dicts are guaranteed to be ordered.  If the\nextra features of <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> are required, the suggested\nremediation is to cast the result to the desired type:\n<code class=\"docutils literal notranslate\"><span class=\"pre\">OrderedDict(nt._asdict())</span></code>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.somenamedtuple._replace\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">somenamedtuple.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_replace</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.somenamedtuple._replace\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a new instance of the named tuple replacing specified fields with new\nvalues:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"o\">=</span><span class=\"mi\">22</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">_replace</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"mi\">33</span><span class=\"p\">)</span>\n<span class=\"go\">Point(x=33, y=22)</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">partnum</span><span class=\"p\">,</span> <span class=\"n\">record</span> <span class=\"ow\">in</span> <span class=\"n\">inventory</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n<span class=\"gp\">... </span>    <span class=\"n\">inventory</span><span class=\"p\">[</span><span class=\"n\">partnum</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">record</span><span class=\"o\">.</span><span class=\"n\">_replace</span><span class=\"p\">(</span><span class=\"n\">price</span><span class=\"o\">=</span><span class=\"n\">newprices</span><span class=\"p\">[</span><span class=\"n\">partnum</span><span class=\"p\">],</span> <span class=\"n\">timestamp</span><span class=\"o\">=</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">())</span>\n</pre></div>\n</div>\n<p>Named tuples are also supported by generic function <a class=\"reference internal\" href=\"copy.html#copy.replace\" title=\"copy.replace\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">copy.replace()</span></code></a>.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Raise <a class=\"reference internal\" href=\"exceptions.html#TypeError\" title=\"TypeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">TypeError</span></code></a> instead of <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> for invalid\nkeyword arguments.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"collections.somenamedtuple._fields\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">somenamedtuple.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_fields</span></span><a class=\"headerlink\" href=\"#collections.somenamedtuple._fields\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Tuple of strings listing the field names.  Useful for introspection\nand for creating new named tuple types from existing named tuples.</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">_fields</span>            <span class=\"c1\"># view the field names</span>\n<span class=\"go\">(&#39;x&#39;, &#39;y&#39;)</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Color</span> <span class=\"o\">=</span> <span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s1\">&#39;Color&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;red green blue&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Pixel</span> <span class=\"o\">=</span> <span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s1\">&#39;Pixel&#39;</span><span class=\"p\">,</span> <span class=\"n\">Point</span><span class=\"o\">.</span><span class=\"n\">_fields</span> <span class=\"o\">+</span> <span class=\"n\">Color</span><span class=\"o\">.</span><span class=\"n\">_fields</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Pixel</span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">,</span> <span class=\"mi\">128</span><span class=\"p\">,</span> <span class=\"mi\">255</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"go\">Pixel(x=11, y=22, red=128, green=255, blue=0)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"collections.somenamedtuple._field_defaults\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">somenamedtuple.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_field_defaults</span></span><a class=\"headerlink\" href=\"#collections.somenamedtuple._field_defaults\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Dictionary mapping field names to default values.</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Account</span> <span class=\"o\">=</span> <span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s1\">&#39;Account&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">&#39;type&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;balance&#39;</span><span class=\"p\">],</span> <span class=\"n\">defaults</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Account</span><span class=\"o\">.</span><span class=\"n\">_field_defaults</span>\n<span class=\"go\">{&#39;balance&#39;: 0}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Account</span><span class=\"p\">(</span><span class=\"s1\">&#39;premium&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">Account(type=&#39;premium&#39;, balance=0)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<p>To retrieve a field whose name is stored in a string, use the <a class=\"reference internal\" href=\"functions.html#getattr\" title=\"getattr\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">getattr()</span></code></a>\nfunction:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"s1\">&#39;x&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">11</span>\n</pre></div>\n</div>\n<p>To convert a dictionary to a named tuple, use the double-star-operator\n(as described in <a class=\"reference internal\" href=\"../tutorial/controlflow.html#tut-unpacking-arguments\"><span class=\"std std-ref\">Unpacking Argument Lists</span></a>):</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">:</span> <span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"s1\">&#39;y&#39;</span><span class=\"p\">:</span> <span class=\"mi\">22</span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">d</span><span class=\"p\">)</span>\n<span class=\"go\">Point(x=11, y=22)</span>\n</pre></div>\n</div>\n<p>Since a named tuple is a regular Python class, it is easy to add or change\nfunctionality with a subclass.  Here is how to add a calculated field and\na fixed-width print format:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Point</span><span class=\"p\">(</span><span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s1\">&#39;Point&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;y&#39;</span><span class=\"p\">])):</span>\n<span class=\"gp\">... </span>    <span class=\"vm\">__slots__</span> <span class=\"o\">=</span> <span class=\"p\">()</span>\n<span class=\"gp\">... </span>    <span class=\"nd\">@property</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">hypot</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">x</span> <span class=\"o\">**</span> <span class=\"mi\">2</span> <span class=\"o\">+</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">y</span> <span class=\"o\">**</span> <span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"o\">**</span> <span class=\"mf\">0.5</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__str__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"s1\">&#39;Point: x=</span><span class=\"si\">%6.3f</span><span class=\"s1\">  y=</span><span class=\"si\">%6.3f</span><span class=\"s1\">  hypot=</span><span class=\"si\">%6.3f</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">hypot</span><span class=\"p\">)</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">p</span> <span class=\"ow\">in</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"mi\">14</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"o\">/</span><span class=\"mi\">7</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">)</span>\n<span class=\"go\">Point: x= 3.000  y= 4.000  hypot= 5.000</span>\n<span class=\"go\">Point: x=14.000  y= 0.714  hypot=14.018</span>\n</pre></div>\n</div>\n<p>The subclass shown above sets <code class=\"docutils literal notranslate\"><span class=\"pre\">__slots__</span></code> to an empty tuple.  This helps\nkeep memory requirements low by preventing the creation of instance dictionaries.</p>\n<p>Subclassing is not useful for adding new, stored fields.  Instead, simply\ncreate a new named tuple type from the <a class=\"reference internal\" href=\"#collections.somenamedtuple._fields\" title=\"collections.somenamedtuple._fields\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields</span></code></a> attribute:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Point3D</span> <span class=\"o\">=</span> <span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s1\">&#39;Point3D&#39;</span><span class=\"p\">,</span> <span class=\"n\">Point</span><span class=\"o\">.</span><span class=\"n\">_fields</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"s1\">&#39;z&#39;</span><span class=\"p\">,))</span>\n</pre></div>\n</div>\n<p>Docstrings can be customized by making direct assignments to the <code class=\"docutils literal notranslate\"><span class=\"pre\">__doc__</span></code>\nfields:</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Book</span> <span class=\"o\">=</span> <span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s1\">&#39;Book&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">&#39;id&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;title&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;authors&#39;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Book</span><span class=\"o\">.</span><span class=\"vm\">__doc__</span> <span class=\"o\">+=</span> <span class=\"s1\">&#39;: Hardcover book in active collection&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Book</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"vm\">__doc__</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;13-digit ISBN&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Book</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"o\">.</span><span class=\"vm\">__doc__</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;Title of first printing&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Book</span><span class=\"o\">.</span><span class=\"n\">authors</span><span class=\"o\">.</span><span class=\"vm\">__doc__</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;List of authors sorted by last name&#39;</span>\n</pre></div>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.5: </span>Property docstrings became writeable.</p>\n</div>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<ul>\n<li><p>See <a class=\"reference internal\" href=\"typing.html#typing.NamedTuple\" title=\"typing.NamedTuple\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">typing.NamedTuple</span></code></a> for a way to add type hints for named\ntuples.  It also provides an elegant notation using the <a class=\"reference internal\" href=\"../reference/compound_stmts.html#class\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">class</span></code></a>\nkeyword:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Component</span><span class=\"p\">(</span><span class=\"n\">NamedTuple</span><span class=\"p\">):</span>\n    <span class=\"n\">part_number</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n    <span class=\"n\">weight</span><span class=\"p\">:</span> <span class=\"nb\">float</span>\n    <span class=\"n\">description</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n</pre></div>\n</div>\n</li>\n<li><p>See <a class=\"reference internal\" href=\"types.html#types.SimpleNamespace\" title=\"types.SimpleNamespace\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">types.SimpleNamespace()</span></code></a> for a mutable namespace based on an\nunderlying dictionary instead of a tuple.</p></li>\n<li><p>The <a class=\"reference internal\" href=\"dataclasses.html#module-dataclasses\" title=\"dataclasses: Generate special methods on user-defined classes.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">dataclasses</span></code></a> module provides a decorator and functions for\nautomatically adding generated special methods to user-defined classes.</p></li>\n</ul>\n</div>\n</section>\n<section id=\"ordereddict-objects\">\n<h2><a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> objects<a class=\"headerlink\" href=\"#ordereddict-objects\" title=\"Link to this heading\">¶</a></h2>\n<p>Ordered dictionaries are just like regular dictionaries but have some extra\ncapabilities relating to ordering operations.  They have become less\nimportant now that the built-in <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> class gained the ability\nto remember insertion order (this new behavior became guaranteed in\nPython 3.7).</p>\n<p>Some differences from <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> still remain:</p>\n<ul>\n<li><p>The regular <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> was designed to be very good at mapping\noperations.  Tracking insertion order was secondary.</p></li>\n<li><p>The <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> was designed to be good at reordering operations.\nSpace efficiency, iteration speed, and the performance of update\noperations were secondary.</p></li>\n<li><p>The <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> algorithm can handle frequent reordering operations\nbetter than <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a>.  As shown in the recipes below, this makes it\nsuitable for implementing various kinds of LRU caches.</p></li>\n<li><p>The equality operation for <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> checks for matching order.</p>\n<p>A regular <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> can emulate the order sensitive equality test with\n<code class=\"docutils literal notranslate\"><span class=\"pre\">p</span> <span class=\"pre\">==</span> <span class=\"pre\">q</span> <span class=\"pre\">and</span> <span class=\"pre\">all(k1</span> <span class=\"pre\">==</span> <span class=\"pre\">k2</span> <span class=\"pre\">for</span> <span class=\"pre\">k1,</span> <span class=\"pre\">k2</span> <span class=\"pre\">in</span> <span class=\"pre\">zip(p,</span> <span class=\"pre\">q))</span></code>.</p>\n</li>\n<li><p>The <a class=\"reference internal\" href=\"#collections.OrderedDict.popitem\" title=\"collections.OrderedDict.popitem\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">popitem()</span></code></a> method of <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> has a different\nsignature.  It accepts an optional argument to specify which item is popped.</p>\n<p>A regular <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> can emulate OrderedDict’s <code class=\"docutils literal notranslate\"><span class=\"pre\">od.popitem(last=True)</span></code>\nwith <code class=\"docutils literal notranslate\"><span class=\"pre\">d.popitem()</span></code> which is guaranteed to pop the rightmost (last) item.</p>\n<p>A regular <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> can emulate OrderedDict’s <code class=\"docutils literal notranslate\"><span class=\"pre\">od.popitem(last=False)</span></code>\nwith <code class=\"docutils literal notranslate\"><span class=\"pre\">(k</span> <span class=\"pre\">:=</span> <span class=\"pre\">next(iter(d)),</span> <span class=\"pre\">d.pop(k))</span></code> which will return and remove the\nleftmost (first) item if it exists.</p>\n</li>\n<li><p><a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> has a <a class=\"reference internal\" href=\"#collections.OrderedDict.move_to_end\" title=\"collections.OrderedDict.move_to_end\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">move_to_end()</span></code></a> method to efficiently\nreposition an element to an endpoint.</p>\n<p>A regular <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> can emulate OrderedDict’s <code class=\"docutils literal notranslate\"><span class=\"pre\">od.move_to_end(k,</span>\n<span class=\"pre\">last=True)</span></code> with <code class=\"docutils literal notranslate\"><span class=\"pre\">d[k]</span> <span class=\"pre\">=</span> <span class=\"pre\">d.pop(k)</span></code> which will move the key and its\nassociated value to the rightmost (last) position.</p>\n<p>A regular <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> does not have an efficient equivalent for\nOrderedDict’s <code class=\"docutils literal notranslate\"><span class=\"pre\">od.move_to_end(k,</span> <span class=\"pre\">last=False)</span></code> which moves the key\nand its associated value to the leftmost (first) position.</p>\n</li>\n<li><p>Until Python 3.8, <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> lacked a <a class=\"reference internal\" href=\"../reference/datamodel.html#object.__reversed__\" title=\"object.__reversed__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__reversed__()</span></code></a> method.</p></li>\n</ul>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"collections.OrderedDict\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">collections.</span></span><span class=\"sig-name descname\"><span class=\"pre\">OrderedDict</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">items</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.OrderedDict\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return an instance of a <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> subclass that has methods\nspecialized for rearranging dictionary order.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.1.</span></p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.OrderedDict.popitem\">\n<span class=\"sig-name descname\"><span class=\"pre\">popitem</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">last</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.OrderedDict.popitem\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The <a class=\"reference internal\" href=\"#collections.OrderedDict.popitem\" title=\"collections.OrderedDict.popitem\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">popitem()</span></code></a> method for ordered dictionaries returns and removes a\n(key, value) pair.  The pairs are returned in\n<abbr title=\"last-in, first-out\">LIFO</abbr> order if <em>last</em> is true\nor <abbr title=\"first-in, first-out\">FIFO</abbr> order if false.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"collections.OrderedDict.move_to_end\">\n<span class=\"sig-name descname\"><span class=\"pre\">move_to_end</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">last</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.OrderedDict.move_to_end\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Move an existing <em>key</em> to either end of an ordered dictionary.  The item\nis moved to the right end if <em>last</em> is true (the default) or to the\nbeginning if <em>last</em> is false.  Raises <a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> if the <em>key</em> does\nnot exist:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"o\">.</span><span class=\"n\">fromkeys</span><span class=\"p\">(</span><span class=\"s1\">&#39;abcde&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">move_to_end</span><span class=\"p\">(</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;&#39;</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>\n<span class=\"go\">&#39;acdeb&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">move_to_end</span><span class=\"p\">(</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">,</span> <span class=\"n\">last</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;&#39;</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>\n<span class=\"go\">&#39;bacde&#39;</span>\n</pre></div>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n<p>In addition to the usual mapping methods, ordered dictionaries also support\nreverse iteration using <a class=\"reference internal\" href=\"functions.html#reversed\" title=\"reversed\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">reversed()</span></code></a>.</p>\n<p id=\"collections-ordereddict-eq\">Equality tests between <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> objects are order-sensitive\nand are roughly equivalent to <code class=\"docutils literal notranslate\"><span class=\"pre\">list(od1.items())==list(od2.items())</span></code>.</p>\n<p>Equality tests between <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> objects and other\n<a class=\"reference internal\" href=\"collections.abc.html#collections.abc.Mapping\" title=\"collections.abc.Mapping\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mapping</span></code></a> objects are order-insensitive like regular\ndictionaries.  This allows <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> objects to be substituted\nanywhere a regular dictionary is used.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.5: </span>The items, keys, and values <a class=\"reference internal\" href=\"../glossary.html#term-dictionary-view\"><span class=\"xref std std-term\">views</span></a>\nof <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> now support reverse iteration using <a class=\"reference internal\" href=\"functions.html#reversed\" title=\"reversed\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">reversed()</span></code></a>.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span>With the acceptance of <span class=\"target\" id=\"index-2\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0468/\"><strong>PEP 468</strong></a>, order is retained for keyword arguments\npassed to the <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> constructor and its <a class=\"reference internal\" href=\"stdtypes.html#dict.update\" title=\"dict.update\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">update()</span></code></a>\nmethod.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.9: </span>Added merge (<code class=\"docutils literal notranslate\"><span class=\"pre\">|</span></code>) and update (<code class=\"docutils literal notranslate\"><span class=\"pre\">|=</span></code>) operators, specified in <span class=\"target\" id=\"index-3\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0584/\"><strong>PEP 584</strong></a>.</p>\n</div>\n<section id=\"ordereddict-examples-and-recipes\">\n<h3><a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> Examples and Recipes<a class=\"headerlink\" href=\"#ordereddict-examples-and-recipes\" title=\"Link to this heading\">¶</a></h3>\n<p>It is straightforward to create an ordered dictionary variant\nthat remembers the order the keys were <em>last</em> inserted.\nIf a new entry overwrites an existing entry, the\noriginal insertion position is changed and moved to the end:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">LastUpdatedOrderedDict</span><span class=\"p\">(</span><span class=\"n\">OrderedDict</span><span class=\"p\">):</span>\n    <span class=\"s1\">&#39;Store items in the order the keys were last added&#39;</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__setitem__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__setitem__</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">move_to_end</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>An <a class=\"reference internal\" href=\"#collections.OrderedDict\" title=\"collections.OrderedDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code></a> would also be useful for implementing\nvariants of <a class=\"reference internal\" href=\"functools.html#functools.lru_cache\" title=\"functools.lru_cache\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">functools.lru_cache()</span></code></a>:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">collections</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">OrderedDict</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">time</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">time</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">TimeBoundedLRU</span><span class=\"p\">:</span>\n    <span class=\"s2\">&quot;LRU Cache that invalidates and refreshes old entries.&quot;</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">func</span><span class=\"p\">,</span> <span class=\"n\">maxsize</span><span class=\"o\">=</span><span class=\"mi\">128</span><span class=\"p\">,</span> <span class=\"n\">maxage</span><span class=\"o\">=</span><span class=\"mi\">30</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">()</span>      <span class=\"c1\"># { args : (timestamp, result)}</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">func</span> <span class=\"o\">=</span> <span class=\"n\">func</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maxsize</span> <span class=\"o\">=</span> <span class=\"n\">maxsize</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maxage</span> <span class=\"o\">=</span> <span class=\"n\">maxage</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__call__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">args</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"o\">.</span><span class=\"n\">move_to_end</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">)</span>\n            <span class=\"n\">timestamp</span><span class=\"p\">,</span> <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"p\">[</span><span class=\"n\">args</span><span class=\"p\">]</span>\n            <span class=\"k\">if</span> <span class=\"n\">time</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"n\">timestamp</span> <span class=\"o\">&lt;=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maxage</span><span class=\"p\">:</span>\n                <span class=\"k\">return</span> <span class=\"n\">result</span>\n        <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">func</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"p\">[</span><span class=\"n\">args</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">time</span><span class=\"p\">(),</span> <span class=\"n\">result</span>\n        <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maxsize</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"o\">.</span><span class=\"n\">popitem</span><span class=\"p\">(</span><span class=\"n\">last</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">result</span>\n</pre></div>\n</div>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MultiHitLRUCache</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot; LRU cache that defers caching a result until</span>\n<span class=\"sd\">        it has been requested multiple times.</span>\n\n<span class=\"sd\">        To avoid flushing the LRU cache with one-time requests,</span>\n<span class=\"sd\">        we don&#39;t cache until a request has been made more than once.</span>\n\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">func</span><span class=\"p\">,</span> <span class=\"n\">maxsize</span><span class=\"o\">=</span><span class=\"mi\">128</span><span class=\"p\">,</span> <span class=\"n\">maxrequests</span><span class=\"o\">=</span><span class=\"mi\">4096</span><span class=\"p\">,</span> <span class=\"n\">cache_after</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">requests</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">()</span>   <span class=\"c1\"># { uncached_key : request_count }</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">()</span>      <span class=\"c1\"># { cached_key : function_result }</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">func</span> <span class=\"o\">=</span> <span class=\"n\">func</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maxrequests</span> <span class=\"o\">=</span> <span class=\"n\">maxrequests</span>  <span class=\"c1\"># max number of uncached requests</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maxsize</span> <span class=\"o\">=</span> <span class=\"n\">maxsize</span>          <span class=\"c1\"># max number of stored return values</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache_after</span> <span class=\"o\">=</span> <span class=\"n\">cache_after</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__call__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">args</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"o\">.</span><span class=\"n\">move_to_end</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"p\">[</span><span class=\"n\">args</span><span class=\"p\">]</span>\n        <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">func</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">requests</span><span class=\"p\">[</span><span class=\"n\">args</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mi\">1</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">requests</span><span class=\"p\">[</span><span class=\"n\">args</span><span class=\"p\">]</span> <span class=\"o\">&lt;=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache_after</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">move_to_end</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">requests</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maxrequests</span><span class=\"p\">:</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">popitem</span><span class=\"p\">(</span><span class=\"n\">last</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">)</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"p\">[</span><span class=\"n\">args</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">result</span>\n            <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maxsize</span><span class=\"p\">:</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"o\">.</span><span class=\"n\">popitem</span><span class=\"p\">(</span><span class=\"n\">last</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">result</span>\n</pre></div>\n</div>\n</section>\n</section>\n<section id=\"userdict-objects\">\n<h2><a class=\"reference internal\" href=\"#collections.UserDict\" title=\"collections.UserDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserDict</span></code></a> objects<a class=\"headerlink\" href=\"#userdict-objects\" title=\"Link to this heading\">¶</a></h2>\n<p>The class, <a class=\"reference internal\" href=\"#collections.UserDict\" title=\"collections.UserDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserDict</span></code></a> acts as a wrapper around dictionary objects.\nThe need for this class has been partially supplanted by the ability to\nsubclass directly from <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a>; however, this class can be easier\nto work with because the underlying dictionary is accessible as an\nattribute.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"collections.UserDict\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">collections.</span></span><span class=\"sig-name descname\"><span class=\"pre\">UserDict</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">initialdata</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.UserDict\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Class that simulates a dictionary.  The instance’s contents are kept in a\nregular dictionary, which is accessible via the <a class=\"reference internal\" href=\"#collections.UserDict.data\" title=\"collections.UserDict.data\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">data</span></code></a> attribute of\n<a class=\"reference internal\" href=\"#collections.UserDict\" title=\"collections.UserDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserDict</span></code></a> instances.  If <em>initialdata</em> is provided, <a class=\"reference internal\" href=\"#collections.UserDict.data\" title=\"collections.UserDict.data\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">data</span></code></a> is\ninitialized with its contents; note that a reference to <em>initialdata</em> will not\nbe kept, allowing it to be used for other purposes.</p>\n<p>In addition to supporting the methods and operations of mappings,\n<a class=\"reference internal\" href=\"#collections.UserDict\" title=\"collections.UserDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserDict</span></code></a> instances provide the following attribute:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"collections.UserDict.data\">\n<span class=\"sig-name descname\"><span class=\"pre\">data</span></span><a class=\"headerlink\" href=\"#collections.UserDict.data\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A real dictionary used to store the contents of the <a class=\"reference internal\" href=\"#collections.UserDict\" title=\"collections.UserDict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserDict</span></code></a>\nclass.</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"userlist-objects\">\n<h2><a class=\"reference internal\" href=\"#collections.UserList\" title=\"collections.UserList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserList</span></code></a> objects<a class=\"headerlink\" href=\"#userlist-objects\" title=\"Link to this heading\">¶</a></h2>\n<p>This class acts as a wrapper around list objects.  It is a useful base class\nfor your own list-like classes which can inherit from them and override\nexisting methods or add new ones.  In this way, one can add new behaviors to\nlists.</p>\n<p>The need for this class has been partially supplanted by the ability to\nsubclass directly from <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a>; however, this class can be easier\nto work with because the underlying list is accessible as an attribute.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"collections.UserList\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">collections.</span></span><span class=\"sig-name descname\"><span class=\"pre\">UserList</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">list</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.UserList\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Class that simulates a list.  The instance’s contents are kept in a regular\nlist, which is accessible via the <a class=\"reference internal\" href=\"#collections.UserList.data\" title=\"collections.UserList.data\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">data</span></code></a> attribute of <a class=\"reference internal\" href=\"#collections.UserList\" title=\"collections.UserList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserList</span></code></a>\ninstances.  The instance’s contents are initially set to a copy of <em>list</em>,\ndefaulting to the empty list <code class=\"docutils literal notranslate\"><span class=\"pre\">[]</span></code>.  <em>list</em> can be any iterable, for\nexample a real Python list or a <a class=\"reference internal\" href=\"#collections.UserList\" title=\"collections.UserList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserList</span></code></a> object.</p>\n<p>In addition to supporting the methods and operations of mutable sequences,\n<a class=\"reference internal\" href=\"#collections.UserList\" title=\"collections.UserList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserList</span></code></a> instances provide the following attribute:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"collections.UserList.data\">\n<span class=\"sig-name descname\"><span class=\"pre\">data</span></span><a class=\"headerlink\" href=\"#collections.UserList.data\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A real <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> object used to store the contents of the\n<a class=\"reference internal\" href=\"#collections.UserList\" title=\"collections.UserList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserList</span></code></a> class.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p><strong>Subclassing requirements:</strong> Subclasses of <a class=\"reference internal\" href=\"#collections.UserList\" title=\"collections.UserList\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserList</span></code></a> are expected to\noffer a constructor which can be called with either no arguments or one\nargument.  List operations which return a new sequence attempt to create an\ninstance of the actual implementation class.  To do so, it assumes that the\nconstructor can be called with a single parameter, which is a sequence object\nused as a data source.</p>\n<p>If a derived class does not wish to comply with this requirement, all of the\nspecial methods supported by this class will need to be overridden; please\nconsult the sources for information about the methods which need to be provided\nin that case.</p>\n</section>\n<section id=\"userstring-objects\">\n<h2><a class=\"reference internal\" href=\"#collections.UserString\" title=\"collections.UserString\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserString</span></code></a> objects<a class=\"headerlink\" href=\"#userstring-objects\" title=\"Link to this heading\">¶</a></h2>\n<p>The class, <a class=\"reference internal\" href=\"#collections.UserString\" title=\"collections.UserString\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserString</span></code></a> acts as a wrapper around string objects.\nThe need for this class has been partially supplanted by the ability to\nsubclass directly from <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a>; however, this class can be easier\nto work with because the underlying string is accessible as an\nattribute.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"collections.UserString\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">collections.</span></span><span class=\"sig-name descname\"><span class=\"pre\">UserString</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">seq</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#collections.UserString\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Class that simulates a string object.  The instance’s\ncontent is kept in a regular string object, which is accessible via the\n<a class=\"reference internal\" href=\"#collections.UserString.data\" title=\"collections.UserString.data\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">data</span></code></a> attribute of <a class=\"reference internal\" href=\"#collections.UserString\" title=\"collections.UserString\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserString</span></code></a> instances.  The instance’s\ncontents are initially set to a copy of <em>seq</em>.  The <em>seq</em> argument can\nbe any object which can be converted into a string using the built-in\n<a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">str()</span></code></a> function.</p>\n<p>In addition to supporting the methods and operations of strings,\n<a class=\"reference internal\" href=\"#collections.UserString\" title=\"collections.UserString\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserString</span></code></a> instances provide the following attribute:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"collections.UserString.data\">\n<span class=\"sig-name descname\"><span class=\"pre\">data</span></span><a class=\"headerlink\" href=\"#collections.UserString.data\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A real <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a> object used to store the contents of the\n<a class=\"reference internal\" href=\"#collections.UserString\" title=\"collections.UserString\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserString</span></code></a> class.</p>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.5: </span>New methods <code class=\"docutils literal notranslate\"><span class=\"pre\">__getnewargs__</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">__rmod__</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">casefold</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">format_map</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">isprintable</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">maketrans</span></code>.</p>\n</div>\n</dd></dl>\n\n</section>\n</section>\n\n\n            <div class=\"clearer\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"Main\">\n        <div class=\"sphinxsidebarwrapper\">\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">collections</span></code> — Container datatypes</a><ul>\n<li><a class=\"reference internal\" href=\"#chainmap-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#chainmap-examples-and-recipes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ChainMap</span></code> Examples and Recipes</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#counter-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Counter</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#deque-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">deque</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#deque-recipes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">deque</span></code> Recipes</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#defaultdict-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#defaultdict-examples\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code> Examples</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#namedtuple-factory-function-for-tuples-with-named-fields\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">namedtuple()</span></code> Factory Function for Tuples with Named Fields</a></li>\n<li><a class=\"reference internal\" href=\"#ordereddict-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#ordereddict-examples-and-recipes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OrderedDict</span></code> Examples and Recipes</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#userdict-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserDict</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#userlist-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserList</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#userstring-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserString</span></code> objects</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"calendar.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">calendar</span></code> — General calendar-related functions</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"collections.abc.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">collections.abc</span></code> — Abstract Base Classes for Containers</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/collections.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </div>\n<div id=\"sidebarbutton\" title=\"Collapse sidebar\">\n<span>«</span>\n</div>\n\n      </div>\n      <div class=\"clearer\"></div>\n    </div>  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             >index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"collections.abc.html\" title=\"collections.abc — Abstract Base Classes for Containers\"\n             >next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"calendar.html\" title=\"calendar — General calendar-related functions\"\n             >previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"datatypes.html\" >Data Types</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">collections</span></code> — Container datatypes</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>  \n    <div class=\"footer\">\n    &copy; <a href=\"../copyright.html\">Copyright</a> 2001 Python Software Foundation.\n    <br>\n    This page is licensed under the Python Software Foundation License Version 2.\n    <br>\n    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.\n    <br>\n    \n      See <a href=\"/license.html\">History and License</a> for more information.<br>\n    \n    \n    <br>\n\n    The Python Software Foundation is a non-profit corporation.\n<a href=\"https://www.python.org/psf/donations/\">Please donate.</a>\n<br>\n    <br>\n      Last updated on Nov 25, 2025 (18:01 UTC).\n    \n      <a href=\"/bugs.html\">Found a bug</a>?\n    \n    <br>\n\n    Created using <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> 8.2.3.\n    </div>\n\n    <script type=\"text/javascript\" src=\"../_static/switchers.js\"></script>\n  </body>\n</html>",
  "metadata": {
    "title": "collections — Container datatypes — Python 3.14.0 documentation",
    "meta_description": "Source code: Lib/collections/__init__.py This module implements specialized container datatypes providing alternatives to Python’s general purpose built-in containers, dict, list, set, and tuple.,,...",
    "h1": "— Container datatypes"
  },
  "request_headers": {
    "Referer": "https://docs.python.org/3/library/",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
    "Accept-Language": "en",
    "User-Agent": "DumbCrawler/1.0",
    "Accept-Encoding": "gzip, deflate"
  },
  "response_headers": {
    "Content-Length": "27844",
    "Server": "nginx",
    "Content-Type": "text/html",
    "Last-Modified": "Tue, 25 Nov 2025 18:03:26 GMT",
    "Etag": "\"6925ef6e-30f82\"",
    "X-Clacks-Overhead": "GNU Terry Pratchett",
    "Strict-Transport-Security": "max-age=315360000; includeSubDomains; preload",
    "Via": "1.1 varnish, 1.1 varnish",
    "Accept-Ranges": "bytes",
    "Age": "4287",
    "Date": "Wed, 26 Nov 2025 05:25:23 GMT",
    "X-Served-By": "cache-lga21976-LGA, cache-yul1970060-YUL",
    "X-Cache": "HIT, HIT",
    "X-Cache-Hits": "461, 0",
    "X-Timer": "S1764134724.784286,VS0,VE1",
    "Vary": "Accept-Encoding"
  },
  "crawled_at": "2025-11-26T05:25:24.281642+00:00",
  "crawler": {
    "name": "DumbCrawler",
    "version": "1.0",
    "mode": "crawl",
    "js_mode": "off",
    "scope": "subdomain"
  }
}