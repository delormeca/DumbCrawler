{
  "url": "https://docs.python.org/3/library/multiprocessing.html",
  "status_code": 200,
  "depth": 1,
  "referrer": "https://docs.python.org/3/library/",
  "raw_html": "<!DOCTYPE html>\n\n<html lang=\"en\" data-content_root=\"../\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<meta property=\"og:title\" content=\"multiprocessing — Process-based parallelism\" />\n<meta property=\"og:type\" content=\"website\" />\n<meta property=\"og:url\" content=\"https://docs.python.org/3/library/multiprocessing.html\" />\n<meta property=\"og:site_name\" content=\"Python documentation\" />\n<meta property=\"og:description\" content=\"Source code: Lib/multiprocessing/ Availability: not Android, not iOS, not WASI. This module is not supported on mobile platforms or WebAssembly platforms. Introduction: multiprocessing is a package...\" />\n<meta property=\"og:image:width\" content=\"1146\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://docs.python.org/3.14/_images/social_previews/summary_library_multiprocessing_5090001b.png\" />\n<meta property=\"og:image:alt\" content=\"Source code: Lib/multiprocessing/ Availability: not Android, not iOS, not WASI. This module is not supported on mobile platforms or WebAssembly platforms. Introduction: multiprocessing is a package...\" />\n<meta name=\"description\" content=\"Source code: Lib/multiprocessing/ Availability: not Android, not iOS, not WASI. This module is not supported on mobile platforms or WebAssembly platforms. Introduction: multiprocessing is a package...\" />\n<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"theme-color\" content=\"#3776ab\">\n\n    <title>multiprocessing — Process-based parallelism &#8212; Python 3.14.0 documentation</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments.css?v=b86133f3\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/classic.css?v=234b1a7c\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pydoctheme.css?v=8cd84f99\" />\n    <link id=\"pygments_dark_css\" media=\"(prefers-color-scheme: dark)\" rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments_dark.css?v=5349f25f\" />\n    \n    <script src=\"../_static/documentation_options.js?v=e4f4b189\"></script>\n    <script src=\"../_static/doctools.js?v=9bcbadda\"></script>\n    <script src=\"../_static/sphinx_highlight.js?v=dc90522c\"></script>\n    \n    <script src=\"../_static/sidebar.js\"></script>\n    \n    <link rel=\"search\" type=\"application/opensearchdescription+xml\"\n          title=\"Search within Python 3.14.0 documentation\"\n          href=\"../_static/opensearch.xml\"/>\n    <link rel=\"author\" title=\"About these documents\" href=\"../about.html\" />\n    <link rel=\"index\" title=\"Index\" href=\"../genindex.html\" />\n    <link rel=\"search\" title=\"Search\" href=\"../search.html\" />\n    <link rel=\"copyright\" title=\"Copyright\" href=\"../copyright.html\" />\n    <link rel=\"next\" title=\"multiprocessing.shared_memory — Shared memory for direct access across processes\" href=\"multiprocessing.shared_memory.html\" />\n    <link rel=\"prev\" title=\"threading — Thread-based parallelism\" href=\"threading.html\" />\n    \n      \n      <script defer file-types=\"bz2,epub,zip\" data-domain=\"docs.python.org\" src=\"https://analytics.python.org/js/script.file-downloads.outbound-links.js\"></script>\n      \n      <link rel=\"canonical\" href=\"https://docs.python.org/3/library/multiprocessing.html\">\n      \n    \n\n    \n    <style>\n      @media only screen {\n        table.full-width-table {\n            width: 100%;\n        }\n      }\n    </style>\n<link rel=\"stylesheet\" href=\"../_static/pydoctheme_dark.css\" media=\"(prefers-color-scheme: dark)\" id=\"pydoctheme_dark_css\">\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"../_static/py.svg\">\n            <script type=\"text/javascript\" src=\"../_static/copybutton.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/menu.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/search-focus.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/themetoggle.js\"></script> \n            <script type=\"text/javascript\" src=\"../_static/rtd_switcher.js\"></script>\n            <meta name=\"readthedocs-addons-api-version\" content=\"1\">\n\n  </head>\n<body>\n<div class=\"mobile-nav\">\n    <input type=\"checkbox\" id=\"menuToggler\" class=\"toggler__input\" aria-controls=\"navigation\"\n           aria-pressed=\"false\" aria-expanded=\"false\" role=\"button\" aria-label=\"Menu\">\n    <nav class=\"nav-content\" role=\"navigation\">\n        <label for=\"menuToggler\" class=\"toggler__label\">\n            <span></span>\n        </label>\n        <span class=\"nav-items-wrapper\">\n            <a href=\"https://www.python.org/\" class=\"nav-logo\">\n                <img src=\"../_static/py.svg\" alt=\"Python logo\">\n            </a>\n            <span class=\"version_switcher_placeholder\"></span>\n            <form role=\"search\" class=\"search\" action=\"../search.html\" method=\"get\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" class=\"search-icon\">\n                    <path fill-rule=\"nonzero\" fill=\"currentColor\" d=\"M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n                </svg>\n                <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\">\n                <input type=\"submit\" value=\"Go\">\n            </form>\n        </span>\n    </nav>\n    <div class=\"menu-wrapper\">\n        <nav class=\"menu\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"language_switcher_placeholder\"></div>\n            \n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label>\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code> — Process-based parallelism</a><ul>\n<li><a class=\"reference internal\" href=\"#introduction\">Introduction</a><ul>\n<li><a class=\"reference internal\" href=\"#the-process-class\">The <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code> class</a></li>\n<li><a class=\"reference internal\" href=\"#contexts-and-start-methods\">Contexts and start methods</a></li>\n<li><a class=\"reference internal\" href=\"#exchanging-objects-between-processes\">Exchanging objects between processes</a></li>\n<li><a class=\"reference internal\" href=\"#synchronization-between-processes\">Synchronization between processes</a></li>\n<li><a class=\"reference internal\" href=\"#sharing-state-between-processes\">Sharing state between processes</a></li>\n<li><a class=\"reference internal\" href=\"#using-a-pool-of-workers\">Using a pool of workers</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#reference\">Reference</a><ul>\n<li><a class=\"reference internal\" href=\"#process-and-exceptions\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code> and exceptions</a></li>\n<li><a class=\"reference internal\" href=\"#pipes-and-queues\">Pipes and Queues</a></li>\n<li><a class=\"reference internal\" href=\"#miscellaneous\">Miscellaneous</a></li>\n<li><a class=\"reference internal\" href=\"#connection-objects\">Connection Objects</a></li>\n<li><a class=\"reference internal\" href=\"#synchronization-primitives\">Synchronization primitives</a></li>\n<li><a class=\"reference internal\" href=\"#shared-ctypes-objects\">Shared <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code> Objects</a><ul>\n<li><a class=\"reference internal\" href=\"#module-multiprocessing.sharedctypes\">The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.sharedctypes</span></code> module</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#managers\">Managers</a><ul>\n<li><a class=\"reference internal\" href=\"#customized-managers\">Customized managers</a></li>\n<li><a class=\"reference internal\" href=\"#using-a-remote-manager\">Using a remote manager</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#proxy-objects\">Proxy Objects</a><ul>\n<li><a class=\"reference internal\" href=\"#cleanup\">Cleanup</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#module-multiprocessing.pool\">Process Pools</a></li>\n<li><a class=\"reference internal\" href=\"#module-multiprocessing.connection\">Listeners and Clients</a><ul>\n<li><a class=\"reference internal\" href=\"#address-formats\">Address Formats</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#authentication-keys\">Authentication keys</a></li>\n<li><a class=\"reference internal\" href=\"#logging\">Logging</a></li>\n<li><a class=\"reference internal\" href=\"#module-multiprocessing.dummy\">The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.dummy</span></code> module</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#programming-guidelines\">Programming guidelines</a><ul>\n<li><a class=\"reference internal\" href=\"#all-start-methods\">All start methods</a></li>\n<li><a class=\"reference internal\" href=\"#the-spawn-and-forkserver-start-methods\">The <em>spawn</em> and <em>forkserver</em> start methods</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#examples\">Examples</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"threading.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> — Thread-based parallelism</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"multiprocessing.shared_memory.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.shared_memory</span></code> — Shared memory for direct access across processes</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/multiprocessing.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </nav>\n    </div>\n</div>\n\n  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             accesskey=\"I\">index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"multiprocessing.shared_memory.html\" title=\"multiprocessing.shared_memory — Shared memory for direct access across processes\"\n             accesskey=\"N\">next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"threading.html\" title=\"threading — Thread-based parallelism\"\n             accesskey=\"P\">previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"concurrency.html\" accesskey=\"U\">Concurrent Execution</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code> — Process-based parallelism</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>    \n\n    <div class=\"document\">\n      <div class=\"documentwrapper\">\n        <div class=\"bodywrapper\">\n          <div class=\"body\" role=\"main\">\n            \n  <section id=\"module-multiprocessing\">\n<span id=\"multiprocessing-process-based-parallelism\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code> — Process-based parallelism<a class=\"headerlink\" href=\"#module-multiprocessing\" title=\"Link to this heading\">¶</a></h1>\n<p><strong>Source code:</strong> <a class=\"extlink-source reference external\" href=\"https://github.com/python/cpython/tree/3.14/Lib/multiprocessing/\">Lib/multiprocessing/</a></p>\n<hr class=\"docutils\" />\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: not Android, not iOS, not WASI.</p>\n<p>This module is not supported on <a class=\"reference internal\" href=\"intro.html#mobile-availability\"><span class=\"std std-ref\">mobile platforms</span></a>\nor <a class=\"reference internal\" href=\"intro.html#wasm-availability\"><span class=\"std std-ref\">WebAssembly platforms</span></a>.</p>\n</div>\n<section id=\"introduction\">\n<h2>Introduction<a class=\"headerlink\" href=\"#introduction\" title=\"Link to this heading\">¶</a></h2>\n<p><a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> is a package that supports spawning processes using an\nAPI similar to the <a class=\"reference internal\" href=\"threading.html#module-threading\" title=\"threading: Thread-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code></a> module.  The <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> package\noffers both local and remote concurrency, effectively side-stepping the\n<a class=\"reference internal\" href=\"../glossary.html#term-global-interpreter-lock\"><span class=\"xref std std-term\">Global Interpreter Lock</span></a> by using\nsubprocesses instead of threads.  Due\nto this, the <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> module allows the programmer to fully\nleverage multiple processors on a given machine.  It runs on both POSIX and\nWindows.</p>\n<p>The <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> module also introduces the\n<a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a> object which offers a convenient means of\nparallelizing the execution of a function across multiple input values,\ndistributing the input data across processes (data parallelism).  The following\nexample demonstrates the common practice of defining such functions in a module\nso that child processes can successfully import that module.  This basic example\nof data parallelism using <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a>,</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Pool</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">x</span><span class=\"o\">*</span><span class=\"n\">x</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"k\">with</span> <span class=\"n\">Pool</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">p</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]))</span>\n</pre></div>\n</div>\n<p>will print to standard output</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n<p>The <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> module also introduces APIs which do not have\nanalogs in the <a class=\"reference internal\" href=\"threading.html#module-threading\" title=\"threading: Thread-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code></a> module, like the ability to <a class=\"reference internal\" href=\"#multiprocessing.Process.terminate\" title=\"multiprocessing.Process.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">terminate</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.Process.interrupt\" title=\"multiprocessing.Process.interrupt\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">interrupt</span></code></a> or <a class=\"reference internal\" href=\"#multiprocessing.Process.kill\" title=\"multiprocessing.Process.kill\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">kill</span></code></a> a running process.</p>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<p><a class=\"reference internal\" href=\"concurrent.futures.html#concurrent.futures.ProcessPoolExecutor\" title=\"concurrent.futures.ProcessPoolExecutor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">concurrent.futures.ProcessPoolExecutor</span></code></a> offers a higher level interface\nto push tasks to a background process without blocking execution of the\ncalling process. Compared to using the <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a>\ninterface directly, the <a class=\"reference internal\" href=\"concurrent.futures.html#module-concurrent.futures\" title=\"concurrent.futures: Execute computations concurrently using threads or processes.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">concurrent.futures</span></code></a> API more readily allows\nthe submission of work to the underlying process pool to be separated from\nwaiting for the results.</p>\n</div>\n<section id=\"the-process-class\">\n<h3>The <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> class<a class=\"headerlink\" href=\"#the-process-class\" title=\"Link to this heading\">¶</a></h3>\n<p>In <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a>, processes are spawned by creating a <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a>\nobject and then calling its <a class=\"reference internal\" href=\"#multiprocessing.Process.start\" title=\"multiprocessing.Process.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">start()</span></code></a> method.  <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a>\nfollows the API of <a class=\"reference internal\" href=\"threading.html#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Thread</span></code></a>.  A trivial example of a\nmultiprocess program is</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;bob&#39;</span><span class=\"p\">,))</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>To show the individual process IDs involved, here is an expanded example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">os</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">info</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;module name:&#39;</span><span class=\"p\">,</span> <span class=\"vm\">__name__</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;parent process:&#39;</span><span class=\"p\">,</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getppid</span><span class=\"p\">())</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;process id:&#39;</span><span class=\"p\">,</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getpid</span><span class=\"p\">())</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">):</span>\n    <span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">&#39;function f&#39;</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">&#39;main line&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;bob&#39;</span><span class=\"p\">,))</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>For an explanation of why the <code class=\"docutils literal notranslate\"><span class=\"pre\">if</span> <span class=\"pre\">__name__</span> <span class=\"pre\">==</span> <span class=\"pre\">'__main__'</span></code> part is\nnecessary, see <a class=\"reference internal\" href=\"#multiprocessing-programming\"><span class=\"std std-ref\">Programming guidelines</span></a>.</p>\n<p>The arguments to <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> usually need to be unpickleable from within\nthe child process. If you tried typing the above example directly into a REPL it\ncould lead to an <a class=\"reference internal\" href=\"exceptions.html#AttributeError\" title=\"AttributeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AttributeError</span></code></a> in the child process trying to locate the\n<em>f</em> function in the <code class=\"docutils literal notranslate\"><span class=\"pre\">__main__</span></code> module.</p>\n</section>\n<section id=\"contexts-and-start-methods\">\n<span id=\"multiprocessing-start-methods\"></span><h3>Contexts and start methods<a class=\"headerlink\" href=\"#contexts-and-start-methods\" title=\"Link to this heading\">¶</a></h3>\n<p>Depending on the platform, <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> supports three ways\nto start a process.  These <em>start methods</em> are</p>\n<blockquote>\n<div><dl id=\"multiprocessing-start-method-spawn\">\n<dt><em>spawn</em></dt><dd><p>The parent process starts a fresh Python interpreter process.  The\nchild process will only inherit those resources necessary to run\nthe process object’s <a class=\"reference internal\" href=\"#multiprocessing.Process.run\" title=\"multiprocessing.Process.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method.  In particular,\nunnecessary file descriptors and handles from the parent process\nwill not be inherited.  Starting a process using this method is\nrather slow compared to using <em>fork</em> or <em>forkserver</em>.</p>\n<p>Available on POSIX and Windows platforms.  The default on Windows and macOS.</p>\n</dd>\n</dl>\n<dl id=\"multiprocessing-start-method-fork\">\n<dt><em>fork</em></dt><dd><p>The parent process uses <a class=\"reference internal\" href=\"os.html#os.fork\" title=\"os.fork\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.fork()</span></code></a> to fork the Python\ninterpreter.  The child process, when it begins, is effectively\nidentical to the parent process.  All resources of the parent are\ninherited by the child process.  Note that safely forking a\nmultithreaded process is problematic.</p>\n<p>Available on POSIX systems.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14: </span>This is no longer the default start method on any platform.\nCode that requires <em>fork</em> must explicitly specify that via\n<a class=\"reference internal\" href=\"#multiprocessing.get_context\" title=\"multiprocessing.get_context\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">get_context()</span></code></a> or <a class=\"reference internal\" href=\"#multiprocessing.set_start_method\" title=\"multiprocessing.set_start_method\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">set_start_method()</span></code></a>.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span>If Python is able to detect that your process has multiple threads, the\n<a class=\"reference internal\" href=\"os.html#os.fork\" title=\"os.fork\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.fork()</span></code></a> function that this start method calls internally will\nraise a <a class=\"reference internal\" href=\"exceptions.html#DeprecationWarning\" title=\"DeprecationWarning\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">DeprecationWarning</span></code></a>. Use a different start method.\nSee the <a class=\"reference internal\" href=\"os.html#os.fork\" title=\"os.fork\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.fork()</span></code></a> documentation for further explanation.</p>\n</div>\n</dd>\n</dl>\n<dl id=\"multiprocessing-start-method-forkserver\">\n<dt><em>forkserver</em></dt><dd><p>When the program starts and selects the <em>forkserver</em> start method,\na server process is spawned.  From then on, whenever a new process\nis needed, the parent process connects to the server and requests\nthat it fork a new process.  The fork server process is single threaded\nunless system libraries or preloaded imports spawn threads as a\nside-effect so it is generally safe for it to use <a class=\"reference internal\" href=\"os.html#os.fork\" title=\"os.fork\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.fork()</span></code></a>.\nNo unnecessary resources are inherited.</p>\n<p>Available on POSIX platforms which support passing file descriptors over\nUnix pipes such as Linux.  The default on those.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14: </span>This became the default start method on POSIX platforms.</p>\n</div>\n</dd>\n</dl>\n</div></blockquote>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.4: </span><em>spawn</em> added on all POSIX platforms, and <em>forkserver</em> added for\nsome POSIX platforms.\nChild processes no longer inherit all of the parents inheritable\nhandles on Windows.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.8: </span>On macOS, the <em>spawn</em> start method is now the default.  The <em>fork</em> start\nmethod should be considered unsafe as it can lead to crashes of the\nsubprocess as macOS system libraries may start threads. See <a class=\"reference external\" href=\"https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33725\">bpo-33725</a>.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14: </span>On POSIX platforms the default start method was changed from <em>fork</em> to\n<em>forkserver</em> to retain the performance but avoid common multithreaded\nprocess incompatibilities. See <a class=\"reference external\" href=\"https://github.com/python/cpython/issues/84559\">gh-84559</a>.</p>\n</div>\n<p>On POSIX using the <em>spawn</em> or <em>forkserver</em> start methods will also\nstart a <em>resource tracker</em> process which tracks the unlinked named\nsystem resources (such as named semaphores or\n<a class=\"reference internal\" href=\"multiprocessing.shared_memory.html#multiprocessing.shared_memory.SharedMemory\" title=\"multiprocessing.shared_memory.SharedMemory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SharedMemory</span></code></a> objects) created\nby processes of the program.  When all processes\nhave exited the resource tracker unlinks any remaining tracked object.\nUsually there should be none, but if a process was killed by a signal\nthere may be some “leaked” resources.  (Neither leaked semaphores nor shared\nmemory segments will be automatically unlinked until the next reboot. This is\nproblematic for both objects because the system allows only a limited number of\nnamed semaphores, and shared memory segments occupy some space in the main\nmemory.)</p>\n<p>To select a start method you use the <a class=\"reference internal\" href=\"#multiprocessing.set_start_method\" title=\"multiprocessing.set_start_method\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">set_start_method()</span></code></a> in\nthe <code class=\"docutils literal notranslate\"><span class=\"pre\">if</span> <span class=\"pre\">__name__</span> <span class=\"pre\">==</span> <span class=\"pre\">'__main__'</span></code> clause of the main module.  For\nexample:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"nn\">mp</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">foo</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">):</span>\n    <span class=\"n\">q</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">mp</span><span class=\"o\">.</span><span class=\"n\">set_start_method</span><span class=\"p\">(</span><span class=\"s1\">&#39;spawn&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">q</span> <span class=\"o\">=</span> <span class=\"n\">mp</span><span class=\"o\">.</span><span class=\"n\">Queue</span><span class=\"p\">()</span>\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">mp</span><span class=\"o\">.</span><span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">foo</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">,))</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">())</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p><a class=\"reference internal\" href=\"#multiprocessing.set_start_method\" title=\"multiprocessing.set_start_method\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">set_start_method()</span></code></a> should not be used more than once in the\nprogram.</p>\n<p>Alternatively, you can use <a class=\"reference internal\" href=\"#multiprocessing.get_context\" title=\"multiprocessing.get_context\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">get_context()</span></code></a> to obtain a context\nobject.  Context objects have the same API as the multiprocessing\nmodule, and allow one to use multiple start methods in the same\nprogram.</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"nn\">mp</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">foo</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">):</span>\n    <span class=\"n\">q</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">ctx</span> <span class=\"o\">=</span> <span class=\"n\">mp</span><span class=\"o\">.</span><span class=\"n\">get_context</span><span class=\"p\">(</span><span class=\"s1\">&#39;spawn&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">q</span> <span class=\"o\">=</span> <span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">Queue</span><span class=\"p\">()</span>\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">foo</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">,))</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">())</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Note that objects related to one context may not be compatible with\nprocesses for a different context.  In particular, locks created using\nthe <em>fork</em> context cannot be passed to processes started using the\n<em>spawn</em> or <em>forkserver</em> start methods.</p>\n<p>Libraries using <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> or\n<a class=\"reference internal\" href=\"concurrent.futures.html#concurrent.futures.ProcessPoolExecutor\" title=\"concurrent.futures.ProcessPoolExecutor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ProcessPoolExecutor</span></code></a> should be designed to allow\ntheir users to provide their own multiprocessing context.  Using a specific\ncontext of your own within a library can lead to incompatibilities with the\nrest of the library user’s application.  Always document if your library\nrequires a specific start method.</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">'spawn'</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">'forkserver'</span></code> start methods generally cannot\nbe used with “frozen” executables (i.e., binaries produced by\npackages like <strong>PyInstaller</strong> and <strong>cx_Freeze</strong>) on POSIX systems.\nThe <code class=\"docutils literal notranslate\"><span class=\"pre\">'fork'</span></code> start method may work if code does not use threads.</p>\n</div>\n</section>\n<section id=\"exchanging-objects-between-processes\">\n<h3>Exchanging objects between processes<a class=\"headerlink\" href=\"#exchanging-objects-between-processes\" title=\"Link to this heading\">¶</a></h3>\n<p><a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> supports two types of communication channel between\nprocesses:</p>\n<p><strong>Queues</strong></p>\n<blockquote>\n<div><p>The <a class=\"reference internal\" href=\"#multiprocessing.Queue\" title=\"multiprocessing.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Queue</span></code></a> class is a near clone of <a class=\"reference internal\" href=\"queue.html#queue.Queue\" title=\"queue.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">queue.Queue</span></code></a>.  For\nexample:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Queue</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">):</span>\n    <span class=\"n\">q</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">([</span><span class=\"mi\">42</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">])</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">q</span> <span class=\"o\">=</span> <span class=\"n\">Queue</span><span class=\"p\">()</span>\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">,))</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">())</span>    <span class=\"c1\"># prints &quot;[42, None, &#39;hello&#39;]&quot;</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Queues are thread and process safe.\nAny object put into a <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> queue will be serialized.</p>\n</div></blockquote>\n<p><strong>Pipes</strong></p>\n<blockquote>\n<div><p>The <a class=\"reference internal\" href=\"#multiprocessing.Pipe\" title=\"multiprocessing.Pipe\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Pipe()</span></code></a> function returns a pair of connection objects connected by a\npipe which by default is duplex (two-way).  For example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Pipe</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">conn</span><span class=\"p\">):</span>\n    <span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">([</span><span class=\"mi\">42</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">])</span>\n    <span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">parent_conn</span><span class=\"p\">,</span> <span class=\"n\">child_conn</span> <span class=\"o\">=</span> <span class=\"n\">Pipe</span><span class=\"p\">()</span>\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">child_conn</span><span class=\"p\">,))</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">parent_conn</span><span class=\"o\">.</span><span class=\"n\">recv</span><span class=\"p\">())</span>   <span class=\"c1\"># prints &quot;[42, None, &#39;hello&#39;]&quot;</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>The two connection objects returned by <a class=\"reference internal\" href=\"#multiprocessing.Pipe\" title=\"multiprocessing.Pipe\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Pipe()</span></code></a> represent the two ends of\nthe pipe.  Each connection object has <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">send()</span></code> and\n<code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">recv()</span></code> methods (among others).  Note that data in a pipe\nmay become corrupted if two processes (or threads) try to read from or write\nto the <em>same</em> end of the pipe at the same time.  Of course there is no risk\nof corruption from processes using different ends of the pipe at the same\ntime.</p>\n<p>The <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">send()</span></code> method serializes the object and\n<code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">recv()</span></code> re-creates the object.</p>\n</div></blockquote>\n</section>\n<section id=\"synchronization-between-processes\">\n<h3>Synchronization between processes<a class=\"headerlink\" href=\"#synchronization-between-processes\" title=\"Link to this heading\">¶</a></h3>\n<p><a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> contains equivalents of all the synchronization\nprimitives from <a class=\"reference internal\" href=\"threading.html#module-threading\" title=\"threading: Thread-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code></a>.  For instance one can use a lock to ensure\nthat only one process prints to standard output at a time:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Lock</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">l</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"p\">):</span>\n    <span class=\"n\">l</span><span class=\"o\">.</span><span class=\"n\">acquire</span><span class=\"p\">()</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;hello world&#39;</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"p\">)</span>\n    <span class=\"k\">finally</span><span class=\"p\">:</span>\n        <span class=\"n\">l</span><span class=\"o\">.</span><span class=\"n\">release</span><span class=\"p\">()</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">lock</span> <span class=\"o\">=</span> <span class=\"n\">Lock</span><span class=\"p\">()</span>\n\n    <span class=\"k\">for</span> <span class=\"n\">num</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n        <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">lock</span><span class=\"p\">,</span> <span class=\"n\">num</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Without using the lock output from the different processes is liable to get all\nmixed up.</p>\n</section>\n<section id=\"sharing-state-between-processes\">\n<h3>Sharing state between processes<a class=\"headerlink\" href=\"#sharing-state-between-processes\" title=\"Link to this heading\">¶</a></h3>\n<p>As mentioned above, when doing concurrent programming it is usually best to\navoid using shared state as far as possible.  This is particularly true when\nusing multiple processes.</p>\n<p>However, if you really do need to use some shared data then\n<a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> provides a couple of ways of doing so.</p>\n<p><strong>Shared memory</strong></p>\n<blockquote>\n<div><p>Data can be stored in a shared memory map using <a class=\"reference internal\" href=\"#multiprocessing.Value\" title=\"multiprocessing.Value\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Value</span></code></a> or\n<a class=\"reference internal\" href=\"#multiprocessing.Array\" title=\"multiprocessing.Array\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Array</span></code></a>.  For example, the following code</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Value</span><span class=\"p\">,</span> <span class=\"n\">Array</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"p\">):</span>\n    <span class=\"n\">n</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"mf\">3.1415927</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)):</span>\n        <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">num</span> <span class=\"o\">=</span> <span class=\"n\">Value</span><span class=\"p\">(</span><span class=\"s1\">&#39;d&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.0</span><span class=\"p\">)</span>\n    <span class=\"n\">arr</span> <span class=\"o\">=</span> <span class=\"n\">Array</span><span class=\"p\">(</span><span class=\"s1\">&#39;i&#39;</span><span class=\"p\">,</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">))</span>\n\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">,</span> <span class=\"n\">arr</span><span class=\"p\">))</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">[:])</span>\n</pre></div>\n</div>\n<p>will print</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"mf\">3.1415927</span>\n<span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">9</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">'d'</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">'i'</span></code> arguments used when creating <code class=\"docutils literal notranslate\"><span class=\"pre\">num</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">arr</span></code> are\ntypecodes of the kind used by the <a class=\"reference internal\" href=\"array.html#module-array\" title=\"array: Space efficient arrays of uniformly typed numeric values.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">array</span></code></a> module: <code class=\"docutils literal notranslate\"><span class=\"pre\">'d'</span></code> indicates a\ndouble precision float and <code class=\"docutils literal notranslate\"><span class=\"pre\">'i'</span></code> indicates a signed integer.  These shared\nobjects will be process and thread-safe.</p>\n<p>For more flexibility in using shared memory one can use the\n<a class=\"reference internal\" href=\"#module-multiprocessing.sharedctypes\" title=\"multiprocessing.sharedctypes: Allocate ctypes objects from shared memory.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.sharedctypes</span></code></a> module which supports the creation of\narbitrary ctypes objects allocated from shared memory.</p>\n</div></blockquote>\n<p><strong>Server process</strong></p>\n<blockquote>\n<div><p>A manager object returned by <a class=\"reference internal\" href=\"#multiprocessing.Manager\" title=\"multiprocessing.Manager\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Manager()</span></code></a> controls a server process which\nholds Python objects and allows other processes to manipulate them using\nproxies.</p>\n<p>A manager returned by <a class=\"reference internal\" href=\"#multiprocessing.Manager\" title=\"multiprocessing.Manager\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Manager()</span></code></a> will support types\n<a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a>, <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a>, <a class=\"reference internal\" href=\"stdtypes.html#set\" title=\"set\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">set</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.managers.Namespace\" title=\"multiprocessing.managers.Namespace\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Namespace</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.Lock\" title=\"multiprocessing.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a>,\n<a class=\"reference internal\" href=\"#multiprocessing.RLock\" title=\"multiprocessing.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.Semaphore\" title=\"multiprocessing.Semaphore\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Semaphore</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.BoundedSemaphore\" title=\"multiprocessing.BoundedSemaphore\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BoundedSemaphore</span></code></a>,\n<a class=\"reference internal\" href=\"#multiprocessing.Condition\" title=\"multiprocessing.Condition\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Condition</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.Event\" title=\"multiprocessing.Event\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Event</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.Barrier\" title=\"multiprocessing.Barrier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Barrier</span></code></a>,\n<a class=\"reference internal\" href=\"#multiprocessing.Queue\" title=\"multiprocessing.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Queue</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.Value\" title=\"multiprocessing.Value\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Value</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.Array\" title=\"multiprocessing.Array\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Array</span></code></a>.  For example,</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Manager</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">,</span> <span class=\"n\">l</span><span class=\"p\">,</span> <span class=\"n\">s</span><span class=\"p\">):</span>\n    <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;1&#39;</span>\n    <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s1\">&#39;2&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">2</span>\n    <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"mf\">0.25</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n    <span class=\"n\">l</span><span class=\"o\">.</span><span class=\"n\">reverse</span><span class=\"p\">()</span>\n    <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"k\">with</span> <span class=\"n\">Manager</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">manager</span><span class=\"p\">:</span>\n        <span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">dict</span><span class=\"p\">()</span>\n        <span class=\"n\">l</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">))</span>\n        <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">()</span>\n\n        <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">,</span> <span class=\"n\">l</span><span class=\"p\">,</span> <span class=\"n\">s</span><span class=\"p\">))</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">l</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>will print</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">{</span><span class=\"mf\">0.25</span><span class=\"p\">:</span> <span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">:</span> <span class=\"s1\">&#39;1&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;2&#39;</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">}</span>\n<span class=\"p\">[</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"p\">{</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;b&#39;</span><span class=\"p\">}</span>\n</pre></div>\n</div>\n<p>Server process managers are more flexible than using shared memory objects\nbecause they can be made to support arbitrary object types.  Also, a single\nmanager can be shared by processes on different computers over a network.\nThey are, however, slower than using shared memory.</p>\n</div></blockquote>\n</section>\n<section id=\"using-a-pool-of-workers\">\n<h3>Using a pool of workers<a class=\"headerlink\" href=\"#using-a-pool-of-workers\" title=\"Link to this heading\">¶</a></h3>\n<p>The <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a> class represents a pool of worker\nprocesses.  It has methods which allows tasks to be offloaded to the worker\nprocesses in a few different ways.</p>\n<p>For example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Pool</span><span class=\"p\">,</span> <span class=\"ne\">TimeoutError</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">time</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">os</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">x</span><span class=\"o\">*</span><span class=\"n\">x</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"c1\"># start 4 worker processes</span>\n    <span class=\"k\">with</span> <span class=\"n\">Pool</span><span class=\"p\">(</span><span class=\"n\">processes</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">pool</span><span class=\"p\">:</span>\n\n        <span class=\"c1\"># print &quot;[0, 1, 4,..., 81]&quot;</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)))</span>\n\n        <span class=\"c1\"># print same numbers in arbitrary order</span>\n        <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">imap_unordered</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)):</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># evaluate &quot;f(20)&quot; asynchronously</span>\n        <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">apply_async</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">,))</span>      <span class=\"c1\"># runs in *only* one process</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">))</span>             <span class=\"c1\"># prints &quot;400&quot;</span>\n\n        <span class=\"c1\"># evaluate &quot;os.getpid()&quot; asynchronously</span>\n        <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">apply_async</span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getpid</span><span class=\"p\">,</span> <span class=\"p\">())</span> <span class=\"c1\"># runs in *only* one process</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">))</span>             <span class=\"c1\"># prints the PID of that process</span>\n\n        <span class=\"c1\"># launching multiple evaluations asynchronously *may* use more processes</span>\n        <span class=\"n\">multiple_results</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">apply_async</span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getpid</span><span class=\"p\">,</span> <span class=\"p\">())</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">)]</span>\n        <span class=\"nb\">print</span><span class=\"p\">([</span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">res</span> <span class=\"ow\">in</span> <span class=\"n\">multiple_results</span><span class=\"p\">])</span>\n\n        <span class=\"c1\"># make a single worker sleep for 10 seconds</span>\n        <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">apply_async</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,))</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">))</span>\n        <span class=\"k\">except</span> <span class=\"ne\">TimeoutError</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;We lacked patience and got a multiprocessing.TimeoutError&quot;</span><span class=\"p\">)</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;For the moment, the pool remains available for more work&quot;</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># exiting the &#39;with&#39;-block has stopped the pool</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;Now the pool is closed and no longer available&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Note that the methods of a pool should only ever be used by the\nprocess which created it.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Functionality within this package requires that the <code class=\"docutils literal notranslate\"><span class=\"pre\">__main__</span></code> module be\nimportable by the children. This is covered in <a class=\"reference internal\" href=\"#multiprocessing-programming\"><span class=\"std std-ref\">Programming guidelines</span></a>\nhowever it is worth pointing out here. This means that some examples, such\nas the <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">multiprocessing.pool.Pool</span></code></a> examples will not work in the\ninteractive interpreter. For example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Pool</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Pool</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">return</span> <span class=\"n\">x</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">with</span> <span class=\"n\">p</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">])</span>\n<span class=\"go\">Process PoolWorker-1:</span>\n<span class=\"go\">Process PoolWorker-2:</span>\n<span class=\"go\">Process PoolWorker-3:</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"gr\">AttributeError</span>: <span class=\"n\">Can&#39;t get attribute &#39;f&#39; on &lt;module &#39;__main__&#39; (&lt;class &#39;_frozen_importlib.BuiltinImporter&#39;&gt;)&gt;</span>\n<span class=\"x\">AttributeError: Can&#39;t get attribute &#39;f&#39; on &lt;module &#39;__main__&#39; (&lt;class &#39;_frozen_importlib.BuiltinImporter&#39;&gt;)&gt;</span>\n<span class=\"x\">AttributeError: Can&#39;t get attribute &#39;f&#39; on &lt;module &#39;__main__&#39; (&lt;class &#39;_frozen_importlib.BuiltinImporter&#39;&gt;)&gt;</span>\n</pre></div>\n</div>\n<p>(If you try this it will actually output three full tracebacks\ninterleaved in a semi-random fashion, and then you may have to\nstop the parent process somehow.)</p>\n</div>\n</section>\n</section>\n<section id=\"reference\">\n<h2>Reference<a class=\"headerlink\" href=\"#reference\" title=\"Link to this heading\">¶</a></h2>\n<p>The <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> package mostly replicates the API of the\n<a class=\"reference internal\" href=\"threading.html#module-threading\" title=\"threading: Thread-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code></a> module.</p>\n<section id=\"process-and-exceptions\">\n<h3><a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> and exceptions<a class=\"headerlink\" href=\"#process-and-exceptions\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Process</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">group</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">target</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">args</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">()</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">kwargs</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">{}</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">daemon</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Process\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Process objects represent activity that is run in a separate process. The\n<a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> class has equivalents of all the methods of\n<a class=\"reference internal\" href=\"threading.html#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Thread</span></code></a>.</p>\n<p>The constructor should always be called with keyword arguments. <em>group</em>\nshould always be <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>; it exists solely for compatibility with\n<a class=\"reference internal\" href=\"threading.html#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Thread</span></code></a>.  <em>target</em> is the callable object to be invoked by\nthe <a class=\"reference internal\" href=\"#multiprocessing.Process.run\" title=\"multiprocessing.Process.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method.  It defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, meaning nothing is\ncalled. <em>name</em> is the process name (see <a class=\"reference internal\" href=\"#multiprocessing.Process.name\" title=\"multiprocessing.Process.name\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">name</span></code></a> for more details).\n<em>args</em> is the argument tuple for the target invocation.  <em>kwargs</em> is a\ndictionary of keyword arguments for the target invocation.  If provided,\nthe keyword-only <em>daemon</em> argument sets the process <a class=\"reference internal\" href=\"#multiprocessing.Process.daemon\" title=\"multiprocessing.Process.daemon\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">daemon</span></code></a> flag\nto <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.  If <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default), this flag will be\ninherited from the creating process.</p>\n<p>By default, no arguments are passed to <em>target</em>. The <em>args</em> argument,\nwhich defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">()</span></code>, can be used to specify a list or tuple of the arguments\nto pass to <em>target</em>.</p>\n<p>If a subclass overrides the constructor, it must make sure it invokes the\nbase class constructor (<code class=\"docutils literal notranslate\"><span class=\"pre\">super().__init__()</span></code>) before doing anything else\nto the process.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>In general, all arguments to <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> must be picklable.  This is\nfrequently observed when trying to create a <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> or use a\n<a class=\"reference internal\" href=\"concurrent.futures.html#concurrent.futures.ProcessPoolExecutor\" title=\"concurrent.futures.ProcessPoolExecutor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">concurrent.futures.ProcessPoolExecutor</span></code></a> from a REPL with a\nlocally defined <em>target</em> function.</p>\n<p>Passing a callable object defined in the current REPL session causes the\nchild process to die via an uncaught <a class=\"reference internal\" href=\"exceptions.html#AttributeError\" title=\"AttributeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AttributeError</span></code></a> exception when\nstarting as <em>target</em> must have been defined within an importable module\nin order to be loaded during unpickling.</p>\n<p>Example of this uncatchable error from the child:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"nn\">mp</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">knigit</span><span class=\"p\">():</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;Ni!&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">process</span> <span class=\"o\">=</span> <span class=\"n\">mp</span><span class=\"o\">.</span><span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">knigit</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">process</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">):</span>\n<span class=\"go\">  File &quot;.../multiprocessing/spawn.py&quot;, line ..., in spawn_main</span>\n<span class=\"go\">  File &quot;.../multiprocessing/spawn.py&quot;, line ..., in _main</span>\n<span class=\"go\">AttributeError: module &#39;__main__&#39; has no attribute &#39;knigit&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">process</span>\n<span class=\"go\">&lt;SpawnProcess name=&#39;SpawnProcess-1&#39; pid=379473 parent=378707 stopped exitcode=1&gt;</span>\n</pre></div>\n</div>\n<p>See <a class=\"reference internal\" href=\"#multiprocessing-programming-spawn\"><span class=\"std std-ref\">The spawn and forkserver start methods</span></a>.  While this restriction is\nnot true if using the <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;fork&quot;</span></code> start method, as of Python <code class=\"docutils literal notranslate\"><span class=\"pre\">3.14</span></code> that\nis no longer the default on any platform.  See\n<a class=\"reference internal\" href=\"#multiprocessing-start-methods\"><span class=\"std std-ref\">Contexts and start methods</span></a>.\nSee also <a class=\"reference external\" href=\"https://github.com/python/cpython/issues/132898\">gh-132898</a>.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>Added the <em>daemon</em> parameter.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.run\">\n<span class=\"sig-name descname\"><span class=\"pre\">run</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Process.run\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Method representing the process’s activity.</p>\n<p>You may override this method in a subclass.  The standard <a class=\"reference internal\" href=\"#multiprocessing.Process.run\" title=\"multiprocessing.Process.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a>\nmethod invokes the callable object passed to the object’s constructor as\nthe target argument, if any, with sequential and keyword arguments taken\nfrom the <em>args</em> and <em>kwargs</em> arguments, respectively.</p>\n<p>Using a list or tuple as the <em>args</em> argument passed to <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a>\nachieves the same effect.</p>\n<p>Example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"nb\">print</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n<span class=\"go\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"nb\">print</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n<span class=\"go\">1</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.start\">\n<span class=\"sig-name descname\"><span class=\"pre\">start</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Process.start\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Start the process’s activity.</p>\n<p>This must be called at most once per process object.  It arranges for the\nobject’s <a class=\"reference internal\" href=\"#multiprocessing.Process.run\" title=\"multiprocessing.Process.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method to be invoked in a separate process.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.join\">\n<span class=\"sig-name descname\"><span class=\"pre\">join</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Process.join\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>If the optional argument <em>timeout</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default), the method\nblocks until the process whose <a class=\"reference internal\" href=\"#multiprocessing.Process.join\" title=\"multiprocessing.Process.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> method is called terminates.\nIf <em>timeout</em> is a positive number, it blocks at most <em>timeout</em> seconds.\nNote that the method returns <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> if its process terminates or if the\nmethod times out.  Check the process’s <a class=\"reference internal\" href=\"#multiprocessing.Process.exitcode\" title=\"multiprocessing.Process.exitcode\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">exitcode</span></code></a> to determine if\nit terminated.</p>\n<p>A process can be joined many times.</p>\n<p>A process cannot join itself because this would cause a deadlock.  It is\nan error to attempt to join a process before it has been started.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.name\">\n<span class=\"sig-name descname\"><span class=\"pre\">name</span></span><a class=\"headerlink\" href=\"#multiprocessing.Process.name\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The process’s name.  The name is a string used for identification purposes\nonly.  It has no semantics.  Multiple processes may be given the same\nname.</p>\n<p>The initial name is set by the constructor.  If no explicit name is\nprovided to the constructor, a name of the form\n‘Process-N<sub>1</sub>:N<sub>2</sub>:…:N<sub>k</sub>’ is constructed, where\neach N<sub>k</sub> is the N-th child of its parent.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.is_alive\">\n<span class=\"sig-name descname\"><span class=\"pre\">is_alive</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Process.is_alive\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return whether the process is alive.</p>\n<p>Roughly, a process object is alive from the moment the <a class=\"reference internal\" href=\"#multiprocessing.Process.start\" title=\"multiprocessing.Process.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">start()</span></code></a>\nmethod returns until the child process terminates.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.daemon\">\n<span class=\"sig-name descname\"><span class=\"pre\">daemon</span></span><a class=\"headerlink\" href=\"#multiprocessing.Process.daemon\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The process’s daemon flag, a Boolean value.  This must be set before\n<a class=\"reference internal\" href=\"#multiprocessing.Process.start\" title=\"multiprocessing.Process.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">start()</span></code></a> is called.</p>\n<p>The initial value is inherited from the creating process.</p>\n<p>When a process exits, it attempts to terminate all of its daemonic child\nprocesses.</p>\n<p>Note that a daemonic process is not allowed to create child processes.\nOtherwise a daemonic process would leave its children orphaned if it gets\nterminated when its parent process exits. Additionally, these are <strong>not</strong>\nUnix daemons or services, they are normal processes that will be\nterminated (and not joined) if non-daemonic processes have exited.</p>\n</dd></dl>\n\n<p>In addition to the  <a class=\"reference internal\" href=\"threading.html#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Thread</span></code></a> API, <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> objects\nalso support the following attributes and methods:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.pid\">\n<span class=\"sig-name descname\"><span class=\"pre\">pid</span></span><a class=\"headerlink\" href=\"#multiprocessing.Process.pid\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the process ID.  Before the process is spawned, this will be\n<code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.exitcode\">\n<span class=\"sig-name descname\"><span class=\"pre\">exitcode</span></span><a class=\"headerlink\" href=\"#multiprocessing.Process.exitcode\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The child’s exit code.  This will be <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> if the process has not yet\nterminated.</p>\n<p>If the child’s <a class=\"reference internal\" href=\"#multiprocessing.Process.run\" title=\"multiprocessing.Process.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method returned normally, the exit code\nwill be 0.  If it terminated via <a class=\"reference internal\" href=\"sys.html#sys.exit\" title=\"sys.exit\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sys.exit()</span></code></a> with an integer\nargument <em>N</em>, the exit code will be <em>N</em>.</p>\n<p>If the child terminated due to an exception not caught within\n<a class=\"reference internal\" href=\"#multiprocessing.Process.run\" title=\"multiprocessing.Process.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a>, the exit code will be 1.  If it was terminated by\nsignal <em>N</em>, the exit code will be the negative value <em>-N</em>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.authkey\">\n<span class=\"sig-name descname\"><span class=\"pre\">authkey</span></span><a class=\"headerlink\" href=\"#multiprocessing.Process.authkey\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The process’s authentication key (a byte string).</p>\n<p>When <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> is initialized the main process is assigned a\nrandom string using <a class=\"reference internal\" href=\"os.html#os.urandom\" title=\"os.urandom\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.urandom()</span></code></a>.</p>\n<p>When a <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> object is created, it will inherit the\nauthentication key of its parent process, although this may be changed by\nsetting <a class=\"reference internal\" href=\"#multiprocessing.Process.authkey\" title=\"multiprocessing.Process.authkey\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">authkey</span></code></a> to another byte string.</p>\n<p>See <a class=\"reference internal\" href=\"#multiprocessing-auth-keys\"><span class=\"std std-ref\">Authentication keys</span></a>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.sentinel\">\n<span class=\"sig-name descname\"><span class=\"pre\">sentinel</span></span><a class=\"headerlink\" href=\"#multiprocessing.Process.sentinel\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A numeric handle of a system object which will become “ready” when\nthe process ends.</p>\n<p>You can use this value if you want to wait on several events at\nonce using <a class=\"reference internal\" href=\"#multiprocessing.connection.wait\" title=\"multiprocessing.connection.wait\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">multiprocessing.connection.wait()</span></code></a>.  Otherwise\ncalling <a class=\"reference internal\" href=\"#multiprocessing.Process.join\" title=\"multiprocessing.Process.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> is simpler.</p>\n<p>On Windows, this is an OS handle usable with the <code class=\"docutils literal notranslate\"><span class=\"pre\">WaitForSingleObject</span></code>\nand <code class=\"docutils literal notranslate\"><span class=\"pre\">WaitForMultipleObjects</span></code> family of API calls.  On POSIX, this is\na file descriptor usable with primitives from the <a class=\"reference internal\" href=\"select.html#module-select\" title=\"select: Wait for I/O completion on multiple streams.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">select</span></code></a> module.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.interrupt\">\n<span class=\"sig-name descname\"><span class=\"pre\">interrupt</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Process.interrupt\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Terminate the process. Works on POSIX using the <a class=\"reference internal\" href=\"signal.html#signal.SIGINT\" title=\"signal.SIGINT\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SIGINT</span></code></a> signal.\nBehavior on Windows is undefined.</p>\n<p>By default, this terminates the child process by raising <a class=\"reference internal\" href=\"exceptions.html#KeyboardInterrupt\" title=\"KeyboardInterrupt\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyboardInterrupt</span></code></a>.\nThis behavior can be altered by setting the respective signal handler in the child\nprocess <a class=\"reference internal\" href=\"signal.html#signal.signal\" title=\"signal.signal\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">signal.signal()</span></code></a> for <a class=\"reference internal\" href=\"signal.html#signal.SIGINT\" title=\"signal.SIGINT\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SIGINT</span></code></a>.</p>\n<p>Note: if the child process catches and discards <a class=\"reference internal\" href=\"exceptions.html#KeyboardInterrupt\" title=\"KeyboardInterrupt\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyboardInterrupt</span></code></a>, the\nprocess will not be terminated.</p>\n<p>Note: the default behavior will also set <a class=\"reference internal\" href=\"#multiprocessing.Process.exitcode\" title=\"multiprocessing.Process.exitcode\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">exitcode</span></code></a> to <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code> as if an\nuncaught exception was raised in the child process. To have a different\n<a class=\"reference internal\" href=\"#multiprocessing.Process.exitcode\" title=\"multiprocessing.Process.exitcode\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">exitcode</span></code></a> you may simply catch <a class=\"reference internal\" href=\"exceptions.html#KeyboardInterrupt\" title=\"KeyboardInterrupt\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyboardInterrupt</span></code></a> and call\n<code class=\"docutils literal notranslate\"><span class=\"pre\">exit(your_code)</span></code>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.terminate\">\n<span class=\"sig-name descname\"><span class=\"pre\">terminate</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Process.terminate\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Terminate the process.  On POSIX this is done using the <a class=\"reference internal\" href=\"signal.html#signal.SIGTERM\" title=\"signal.SIGTERM\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SIGTERM</span></code></a> signal;\non Windows <code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">TerminateProcess()</span></code> is used.  Note that exit handlers and\nfinally clauses, etc., will not be executed.</p>\n<p>Note that descendant processes of the process will <em>not</em> be terminated –\nthey will simply become orphaned.</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>If this method is used when the associated process is using a pipe or\nqueue then the pipe or queue is liable to become corrupted and may\nbecome unusable by other process.  Similarly, if the process has\nacquired a lock or semaphore etc. then terminating it is liable to\ncause other processes to deadlock.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.kill\">\n<span class=\"sig-name descname\"><span class=\"pre\">kill</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Process.kill\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Same as <a class=\"reference internal\" href=\"#multiprocessing.Process.terminate\" title=\"multiprocessing.Process.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">terminate()</span></code></a> but using the <code class=\"docutils literal notranslate\"><span class=\"pre\">SIGKILL</span></code> signal on POSIX.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.7.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Process.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Process.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Close the <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> object, releasing all resources associated\nwith it.  <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised if the underlying process\nis still running.  Once <a class=\"reference internal\" href=\"#multiprocessing.Process.close\" title=\"multiprocessing.Process.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> returns successfully, most\nother methods and attributes of the <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> object will\nraise <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.7.</span></p>\n</div>\n</dd></dl>\n\n<p>Note that the <a class=\"reference internal\" href=\"#multiprocessing.Process.start\" title=\"multiprocessing.Process.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">start()</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.Process.join\" title=\"multiprocessing.Process.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.Process.is_alive\" title=\"multiprocessing.Process.is_alive\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">is_alive()</span></code></a>,\n<a class=\"reference internal\" href=\"#multiprocessing.Process.terminate\" title=\"multiprocessing.Process.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">terminate()</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.Process.exitcode\" title=\"multiprocessing.Process.exitcode\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">exitcode</span></code></a> methods should only be called by\nthe process that created the process object.</p>\n<p>Example usage of some of the methods of <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"nn\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"nn\">signal</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mp_context</span> <span class=\"o\">=</span> <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">get_context</span><span class=\"p\">(</span><span class=\"s1\">&#39;spawn&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">mp_context</span><span class=\"o\">.</span><span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">1000</span><span class=\"p\">,))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">is_alive</span><span class=\"p\">())</span>\n<span class=\"go\">&lt;...Process ... initial&gt; False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">is_alive</span><span class=\"p\">())</span>\n<span class=\"go\">&lt;...Process ... started&gt; True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">terminate</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mf\">0.1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">is_alive</span><span class=\"p\">())</span>\n<span class=\"go\">&lt;...Process ... stopped exitcode=-SIGTERM&gt; False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">exitcode</span> <span class=\"o\">==</span> <span class=\"o\">-</span><span class=\"n\">signal</span><span class=\"o\">.</span><span class=\"n\">SIGTERM</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.ProcessError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">ProcessError</span></span><a class=\"headerlink\" href=\"#multiprocessing.ProcessError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The base class of all <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> exceptions.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.BufferTooShort\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">BufferTooShort</span></span><a class=\"headerlink\" href=\"#multiprocessing.BufferTooShort\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Exception raised by <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.recv_bytes_into()</span></code> when the supplied\nbuffer object is too small for the message read.</p>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">e</span></code> is an instance of <a class=\"reference internal\" href=\"#multiprocessing.BufferTooShort\" title=\"multiprocessing.BufferTooShort\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">BufferTooShort</span></code></a> then <code class=\"docutils literal notranslate\"><span class=\"pre\">e.args[0]</span></code> will give\nthe message as a byte string.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.AuthenticationError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">AuthenticationError</span></span><a class=\"headerlink\" href=\"#multiprocessing.AuthenticationError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Raised when there is an authentication error.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.TimeoutError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">TimeoutError</span></span><a class=\"headerlink\" href=\"#multiprocessing.TimeoutError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Raised by methods with a timeout when the timeout expires.</p>\n</dd></dl>\n\n</section>\n<section id=\"pipes-and-queues\">\n<h3>Pipes and Queues<a class=\"headerlink\" href=\"#pipes-and-queues\" title=\"Link to this heading\">¶</a></h3>\n<p>When using multiple processes, one generally uses message passing for\ncommunication between processes and avoids having to use any synchronization\nprimitives like locks.</p>\n<p>For passing messages one can use <a class=\"reference internal\" href=\"#multiprocessing.Pipe\" title=\"multiprocessing.Pipe\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Pipe()</span></code></a> (for a connection between two\nprocesses) or a queue (which allows multiple producers and consumers).</p>\n<p>The <a class=\"reference internal\" href=\"#multiprocessing.Queue\" title=\"multiprocessing.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Queue</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.SimpleQueue\" title=\"multiprocessing.SimpleQueue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SimpleQueue</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.JoinableQueue\" title=\"multiprocessing.JoinableQueue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">JoinableQueue</span></code></a> types\nare multi-producer, multi-consumer <abbr title=\"first-in, first-out\">FIFO</abbr>\nqueues modelled on the <a class=\"reference internal\" href=\"queue.html#queue.Queue\" title=\"queue.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">queue.Queue</span></code></a> class in the\nstandard library.  They differ in that <a class=\"reference internal\" href=\"#multiprocessing.Queue\" title=\"multiprocessing.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Queue</span></code></a> lacks the\n<a class=\"reference internal\" href=\"queue.html#queue.Queue.task_done\" title=\"queue.Queue.task_done\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">task_done()</span></code></a> and <a class=\"reference internal\" href=\"queue.html#queue.Queue.join\" title=\"queue.Queue.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> methods introduced\ninto Python 2.5’s <a class=\"reference internal\" href=\"queue.html#queue.Queue\" title=\"queue.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">queue.Queue</span></code></a> class.</p>\n<p>If you use <a class=\"reference internal\" href=\"#multiprocessing.JoinableQueue\" title=\"multiprocessing.JoinableQueue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">JoinableQueue</span></code></a> then you <strong>must</strong> call\n<a class=\"reference internal\" href=\"#multiprocessing.JoinableQueue.task_done\" title=\"multiprocessing.JoinableQueue.task_done\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">JoinableQueue.task_done()</span></code></a> for each task removed from the queue or else the\nsemaphore used to count the number of unfinished tasks may eventually overflow,\nraising an exception.</p>\n<p>One difference from other Python queue implementations, is that <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a>\nqueues serializes all objects that are put into them using <a class=\"reference internal\" href=\"pickle.html#module-pickle\" title=\"pickle: Convert Python objects to streams of bytes and back.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">pickle</span></code></a>.\nThe object return by the get method is a re-created object that does not share memory\nwith the original object.</p>\n<p>Note that one can also create a shared queue by using a manager object – see\n<a class=\"reference internal\" href=\"#multiprocessing-managers\"><span class=\"std std-ref\">Managers</span></a>.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p><a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> uses the usual <a class=\"reference internal\" href=\"queue.html#queue.Empty\" title=\"queue.Empty\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">queue.Empty</span></code></a> and\n<a class=\"reference internal\" href=\"queue.html#queue.Full\" title=\"queue.Full\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">queue.Full</span></code></a> exceptions to signal a timeout.  They are not available in\nthe <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> namespace so you need to import them from\n<a class=\"reference internal\" href=\"queue.html#module-queue\" title=\"queue: A synchronized queue class.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">queue</span></code></a>.</p>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>When an object is put on a queue, the object is pickled and a\nbackground thread later flushes the pickled data to an underlying\npipe.  This has some consequences which are a little surprising,\nbut should not cause any practical difficulties – if they really\nbother you then you can instead use a queue created with a\n<a class=\"reference internal\" href=\"#multiprocessing-managers\"><span class=\"std std-ref\">manager</span></a>.</p>\n<ol class=\"arabic simple\">\n<li><p>After putting an object on an empty queue there may be an\ninfinitesimal delay before the queue’s <a class=\"reference internal\" href=\"#multiprocessing.Queue.empty\" title=\"multiprocessing.Queue.empty\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">empty()</span></code></a>\nmethod returns <a class=\"reference internal\" href=\"constants.html#False\" title=\"False\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">False</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.Queue.get_nowait\" title=\"multiprocessing.Queue.get_nowait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_nowait()</span></code></a> can\nreturn without raising <a class=\"reference internal\" href=\"queue.html#queue.Empty\" title=\"queue.Empty\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">queue.Empty</span></code></a>.</p></li>\n<li><p>If multiple processes are enqueuing objects, it is possible for\nthe objects to be received at the other end out-of-order.\nHowever, objects enqueued by the same process will always be in\nthe expected order with respect to each other.</p></li>\n</ol>\n</div>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>If a process is killed using <a class=\"reference internal\" href=\"#multiprocessing.Process.terminate\" title=\"multiprocessing.Process.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Process.terminate()</span></code></a> or <a class=\"reference internal\" href=\"os.html#os.kill\" title=\"os.kill\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.kill()</span></code></a>\nwhile it is trying to use a <a class=\"reference internal\" href=\"#multiprocessing.Queue\" title=\"multiprocessing.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Queue</span></code></a>, then the data in the queue is\nlikely to become corrupted.  This may cause any other process to get an\nexception when it tries to use the queue later on.</p>\n</div>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>As mentioned above, if a child process has put items on a queue (and it has\nnot used <a class=\"reference internal\" href=\"#multiprocessing.Queue.cancel_join_thread\" title=\"multiprocessing.Queue.cancel_join_thread\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">JoinableQueue.cancel_join_thread</span></code></a>), then that process will\nnot terminate until all buffered items have been flushed to the pipe.</p>\n<p>This means that if you try joining that process you may get a deadlock unless\nyou are sure that all items which have been put on the queue have been\nconsumed.  Similarly, if the child process is non-daemonic then the parent\nprocess may hang on exit when it tries to join all its non-daemonic children.</p>\n<p>Note that a queue created using a manager does not have this issue.  See\n<a class=\"reference internal\" href=\"#multiprocessing-programming\"><span class=\"std std-ref\">Programming guidelines</span></a>.</p>\n</div>\n<p>For an example of the usage of queues for interprocess communication see\n<a class=\"reference internal\" href=\"#multiprocessing-examples\"><span class=\"std std-ref\">Examples</span></a>.</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Pipe\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Pipe</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">duplex</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Pipe\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns a pair <code class=\"docutils literal notranslate\"><span class=\"pre\">(conn1,</span> <span class=\"pre\">conn2)</span></code> of\n<a class=\"reference internal\" href=\"#multiprocessing.connection.Connection\" title=\"multiprocessing.connection.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> objects representing the\nends of a pipe.</p>\n<p>If <em>duplex</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (the default) then the pipe is bidirectional.  If\n<em>duplex</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> then the pipe is unidirectional: <code class=\"docutils literal notranslate\"><span class=\"pre\">conn1</span></code> can only be\nused for receiving messages and <code class=\"docutils literal notranslate\"><span class=\"pre\">conn2</span></code> can only be used for sending\nmessages.</p>\n<p>The <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">send()</span></code> method serializes the object using\n<a class=\"reference internal\" href=\"pickle.html#module-pickle\" title=\"pickle: Convert Python objects to streams of bytes and back.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">pickle</span></code></a> and the <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">recv()</span></code> re-creates the object.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Queue</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">maxsize</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns a process shared queue implemented using a pipe and a few\nlocks/semaphores.  When a process first puts an item on the queue a feeder\nthread is started which transfers objects from a buffer into the pipe.</p>\n<p>The usual <a class=\"reference internal\" href=\"queue.html#queue.Empty\" title=\"queue.Empty\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">queue.Empty</span></code></a> and <a class=\"reference internal\" href=\"queue.html#queue.Full\" title=\"queue.Full\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">queue.Full</span></code></a> exceptions from the\nstandard library’s <a class=\"reference internal\" href=\"queue.html#module-queue\" title=\"queue: A synchronized queue class.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">queue</span></code></a> module are raised to signal timeouts.</p>\n<p><a class=\"reference internal\" href=\"#multiprocessing.Queue\" title=\"multiprocessing.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Queue</span></code></a> implements all the methods of <a class=\"reference internal\" href=\"queue.html#queue.Queue\" title=\"queue.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">queue.Queue</span></code></a> except for\n<a class=\"reference internal\" href=\"queue.html#queue.Queue.task_done\" title=\"queue.Queue.task_done\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">task_done()</span></code></a> and <a class=\"reference internal\" href=\"queue.html#queue.Queue.join\" title=\"queue.Queue.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a>.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue.qsize\">\n<span class=\"sig-name descname\"><span class=\"pre\">qsize</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue.qsize\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the approximate size of the queue.  Because of\nmultithreading/multiprocessing semantics, this number is not reliable.</p>\n<p>Note that this may raise <a class=\"reference internal\" href=\"exceptions.html#NotImplementedError\" title=\"NotImplementedError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code></a> on platforms like\nmacOS where <code class=\"docutils literal notranslate\"><span class=\"pre\">sem_getvalue()</span></code> is not implemented.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue.empty\">\n<span class=\"sig-name descname\"><span class=\"pre\">empty</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue.empty\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if the queue is empty, <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> otherwise.  Because of\nmultithreading/multiprocessing semantics, this is not reliable.</p>\n<p>May raise an <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a> on closed queues. (not guaranteed)</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue.full\">\n<span class=\"sig-name descname\"><span class=\"pre\">full</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue.full\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if the queue is full, <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> otherwise.  Because of\nmultithreading/multiprocessing semantics, this is not reliable.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue.put\">\n<span class=\"sig-name descname\"><span class=\"pre\">put</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">block</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue.put\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Put obj into the queue.  If the optional argument <em>block</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>\n(the default) and <em>timeout</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default), block if necessary until\na free slot is available.  If <em>timeout</em> is a positive number, it blocks at\nmost <em>timeout</em> seconds and raises the <a class=\"reference internal\" href=\"queue.html#queue.Full\" title=\"queue.Full\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">queue.Full</span></code></a> exception if no\nfree slot was available within that time.  Otherwise (<em>block</em> is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>), put an item on the queue if a free slot is immediately\navailable, else raise the <a class=\"reference internal\" href=\"queue.html#queue.Full\" title=\"queue.Full\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">queue.Full</span></code></a> exception (<em>timeout</em> is\nignored in that case).</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.8: </span>If the queue is closed, <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised instead of\n<a class=\"reference internal\" href=\"exceptions.html#AssertionError\" title=\"AssertionError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AssertionError</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue.put_nowait\">\n<span class=\"sig-name descname\"><span class=\"pre\">put_nowait</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue.put_nowait\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Equivalent to <code class=\"docutils literal notranslate\"><span class=\"pre\">put(obj,</span> <span class=\"pre\">False)</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue.get\">\n<span class=\"sig-name descname\"><span class=\"pre\">get</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">block</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue.get\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Remove and return an item from the queue.  If optional args <em>block</em> is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (the default) and <em>timeout</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default), block if\nnecessary until an item is available.  If <em>timeout</em> is a positive number,\nit blocks at most <em>timeout</em> seconds and raises the <a class=\"reference internal\" href=\"queue.html#queue.Empty\" title=\"queue.Empty\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">queue.Empty</span></code></a>\nexception if no item was available within that time.  Otherwise (block is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>), return an item if one is immediately available, else raise the\n<a class=\"reference internal\" href=\"queue.html#queue.Empty\" title=\"queue.Empty\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">queue.Empty</span></code></a> exception (<em>timeout</em> is ignored in that case).</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.8: </span>If the queue is closed, <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised instead of\n<a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue.get_nowait\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_nowait</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue.get_nowait\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Equivalent to <code class=\"docutils literal notranslate\"><span class=\"pre\">get(False)</span></code>.</p>\n</dd></dl>\n\n<p><a class=\"reference internal\" href=\"#multiprocessing.Queue\" title=\"multiprocessing.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">multiprocessing.Queue</span></code></a> has a few additional methods not found in\n<a class=\"reference internal\" href=\"queue.html#queue.Queue\" title=\"queue.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">queue.Queue</span></code></a>.  These methods are usually unnecessary for most\ncode:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Close the queue: release internal resources.</p>\n<p>A queue must not be used anymore after it is closed. For example,\n<a class=\"reference internal\" href=\"#multiprocessing.Queue.get\" title=\"multiprocessing.Queue.get\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get()</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.Queue.put\" title=\"multiprocessing.Queue.put\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">put()</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.Queue.empty\" title=\"multiprocessing.Queue.empty\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">empty()</span></code></a>\nmethods must no longer be called.</p>\n<p>The background thread will quit once it has flushed all buffered\ndata to the pipe.  This is called automatically when the queue is garbage\ncollected.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue.join_thread\">\n<span class=\"sig-name descname\"><span class=\"pre\">join_thread</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue.join_thread\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Join the background thread.  This can only be used after <a class=\"reference internal\" href=\"#multiprocessing.Queue.close\" title=\"multiprocessing.Queue.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> has\nbeen called.  It blocks until the background thread exits, ensuring that\nall data in the buffer has been flushed to the pipe.</p>\n<p>By default if a process is not the creator of the queue then on exit it\nwill attempt to join the queue’s background thread.  The process can call\n<a class=\"reference internal\" href=\"#multiprocessing.Queue.cancel_join_thread\" title=\"multiprocessing.Queue.cancel_join_thread\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">cancel_join_thread()</span></code></a> to make <a class=\"reference internal\" href=\"#multiprocessing.Queue.join_thread\" title=\"multiprocessing.Queue.join_thread\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join_thread()</span></code></a> do nothing.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Queue.cancel_join_thread\">\n<span class=\"sig-name descname\"><span class=\"pre\">cancel_join_thread</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Queue.cancel_join_thread\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Prevent <a class=\"reference internal\" href=\"#multiprocessing.Queue.join_thread\" title=\"multiprocessing.Queue.join_thread\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join_thread()</span></code></a> from blocking.  In particular, this prevents\nthe background thread from being joined automatically when the process\nexits – see <a class=\"reference internal\" href=\"#multiprocessing.Queue.join_thread\" title=\"multiprocessing.Queue.join_thread\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join_thread()</span></code></a>.</p>\n<p>A better name for this method might be\n<code class=\"docutils literal notranslate\"><span class=\"pre\">allow_exit_without_flush()</span></code>.  It is likely to cause enqueued\ndata to be lost, and you almost certainly will not need to use it.\nIt is really only there if you need the current process to exit\nimmediately without waiting to flush enqueued data to the\nunderlying pipe, and you don’t care about lost data.</p>\n</dd></dl>\n\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>This class’s functionality requires a functioning shared semaphore\nimplementation on the host operating system. Without one, the\nfunctionality in this class will be disabled, and attempts to\ninstantiate a <a class=\"reference internal\" href=\"#multiprocessing.Queue\" title=\"multiprocessing.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Queue</span></code></a> will result in an <a class=\"reference internal\" href=\"exceptions.html#ImportError\" title=\"ImportError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ImportError</span></code></a>. See\n<a class=\"reference external\" href=\"https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=3770\">bpo-3770</a> for additional information.  The same holds true for any\nof the specialized queue types listed below.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.SimpleQueue\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SimpleQueue</span></span><a class=\"headerlink\" href=\"#multiprocessing.SimpleQueue\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>It is a simplified <a class=\"reference internal\" href=\"#multiprocessing.Queue\" title=\"multiprocessing.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Queue</span></code></a> type, very close to a locked <a class=\"reference internal\" href=\"#multiprocessing.Pipe\" title=\"multiprocessing.Pipe\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pipe</span></code></a>.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.SimpleQueue.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.SimpleQueue.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Close the queue: release internal resources.</p>\n<p>A queue must not be used anymore after it is closed. For example,\n<a class=\"reference internal\" href=\"#multiprocessing.SimpleQueue.get\" title=\"multiprocessing.SimpleQueue.get\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get()</span></code></a>, <a class=\"reference internal\" href=\"#multiprocessing.SimpleQueue.put\" title=\"multiprocessing.SimpleQueue.put\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">put()</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.SimpleQueue.empty\" title=\"multiprocessing.SimpleQueue.empty\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">empty()</span></code></a> methods must no longer be\ncalled.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.9.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.SimpleQueue.empty\">\n<span class=\"sig-name descname\"><span class=\"pre\">empty</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.SimpleQueue.empty\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if the queue is empty, <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> otherwise.</p>\n<p>Always raises an <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a> if the SimpleQueue is closed.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.SimpleQueue.get\">\n<span class=\"sig-name descname\"><span class=\"pre\">get</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.SimpleQueue.get\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Remove and return an item from the queue.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.SimpleQueue.put\">\n<span class=\"sig-name descname\"><span class=\"pre\">put</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">item</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.SimpleQueue.put\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Put <em>item</em> into the queue.</p>\n</dd></dl>\n\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.JoinableQueue\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">JoinableQueue</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">maxsize</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.JoinableQueue\" title=\"Link to this definition\">¶</a></dt>\n<dd><p><a class=\"reference internal\" href=\"#multiprocessing.JoinableQueue\" title=\"multiprocessing.JoinableQueue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">JoinableQueue</span></code></a>, a <a class=\"reference internal\" href=\"#multiprocessing.Queue\" title=\"multiprocessing.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Queue</span></code></a> subclass, is a queue which\nadditionally has <a class=\"reference internal\" href=\"#multiprocessing.JoinableQueue.task_done\" title=\"multiprocessing.JoinableQueue.task_done\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">task_done()</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.JoinableQueue.join\" title=\"multiprocessing.JoinableQueue.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> methods.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.JoinableQueue.task_done\">\n<span class=\"sig-name descname\"><span class=\"pre\">task_done</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.JoinableQueue.task_done\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Indicate that a formerly enqueued task is complete. Used by queue\nconsumers.  For each <a class=\"reference internal\" href=\"#multiprocessing.Queue.get\" title=\"multiprocessing.Queue.get\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get()</span></code></a> used to fetch a task, a subsequent\ncall to <a class=\"reference internal\" href=\"#multiprocessing.JoinableQueue.task_done\" title=\"multiprocessing.JoinableQueue.task_done\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">task_done()</span></code></a> tells the queue that the processing on the task\nis complete.</p>\n<p>If a <a class=\"reference internal\" href=\"queue.html#queue.Queue.join\" title=\"queue.Queue.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> is currently blocking, it will resume when all\nitems have been processed (meaning that a <a class=\"reference internal\" href=\"#multiprocessing.JoinableQueue.task_done\" title=\"multiprocessing.JoinableQueue.task_done\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">task_done()</span></code></a> call was\nreceived for every item that had been <a class=\"reference internal\" href=\"#multiprocessing.Queue.put\" title=\"multiprocessing.Queue.put\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">put()</span></code></a> into the queue).</p>\n<p>Raises a <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> if called more times than there were items\nplaced in the queue.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.JoinableQueue.join\">\n<span class=\"sig-name descname\"><span class=\"pre\">join</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.JoinableQueue.join\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Block until all items in the queue have been gotten and processed.</p>\n<p>The count of unfinished tasks goes up whenever an item is added to the\nqueue.  The count goes down whenever a consumer calls\n<a class=\"reference internal\" href=\"#multiprocessing.JoinableQueue.task_done\" title=\"multiprocessing.JoinableQueue.task_done\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">task_done()</span></code></a> to indicate that the item was retrieved and all work on\nit is complete.  When the count of unfinished tasks drops to zero,\n<a class=\"reference internal\" href=\"queue.html#queue.Queue.join\" title=\"queue.Queue.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> unblocks.</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"miscellaneous\">\n<h3>Miscellaneous<a class=\"headerlink\" href=\"#miscellaneous\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.active_children\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">active_children</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.active_children\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return list of all live children of the current process.</p>\n<p>Calling this has the side effect of “joining” any processes which have\nalready finished.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.cpu_count\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">cpu_count</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.cpu_count\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the number of CPUs in the system.</p>\n<p>This number is not equivalent to the number of CPUs the current process can\nuse.  The number of usable CPUs can be obtained with\n<a class=\"reference internal\" href=\"os.html#os.process_cpu_count\" title=\"os.process_cpu_count\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.process_cpu_count()</span></code></a> (or <code class=\"docutils literal notranslate\"><span class=\"pre\">len(os.sched_getaffinity(0))</span></code>).</p>\n<p>When the number of CPUs cannot be determined a <a class=\"reference internal\" href=\"exceptions.html#NotImplementedError\" title=\"NotImplementedError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code></a>\nis raised.</p>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<p><a class=\"reference internal\" href=\"os.html#os.cpu_count\" title=\"os.cpu_count\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.cpu_count()</span></code></a>\n<a class=\"reference internal\" href=\"os.html#os.process_cpu_count\" title=\"os.process_cpu_count\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.process_cpu_count()</span></code></a></p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>The return value can also be overridden using the\n<a class=\"reference internal\" href=\"../using/cmdline.html#cmdoption-X\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">-X</span> <span class=\"pre\">cpu_count</span></code></a> flag or <span class=\"target\" id=\"index-0\"></span><a class=\"reference internal\" href=\"../using/cmdline.html#envvar-PYTHON_CPU_COUNT\"><code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">PYTHON_CPU_COUNT</span></code></a> as this is\nmerely a wrapper around the <a class=\"reference internal\" href=\"os.html#module-os\" title=\"os: Miscellaneous operating system interfaces.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">os</span></code></a> cpu count APIs.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.current_process\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">current_process</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.current_process\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> object corresponding to the current process.</p>\n<p>An analogue of <a class=\"reference internal\" href=\"threading.html#threading.current_thread\" title=\"threading.current_thread\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">threading.current_thread()</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.parent_process\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">parent_process</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.parent_process\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> object corresponding to the parent process of\nthe <a class=\"reference internal\" href=\"#multiprocessing.current_process\" title=\"multiprocessing.current_process\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">current_process()</span></code></a>. For the main process, <code class=\"docutils literal notranslate\"><span class=\"pre\">parent_process</span></code> will\nbe <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.8.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.freeze_support\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">freeze_support</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.freeze_support\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Add support for when a program which uses <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> has been\nfrozen to produce an executable.  (Has been tested with <strong>py2exe</strong>,\n<strong>PyInstaller</strong> and <strong>cx_Freeze</strong>.)</p>\n<p>One needs to call this function straight after the <code class=\"docutils literal notranslate\"><span class=\"pre\">if</span> <span class=\"pre\">__name__</span> <span class=\"pre\">==</span>\n<span class=\"pre\">'__main__'</span></code> line of the main module.  For example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">freeze_support</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">():</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;hello world!&#39;</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">freeze_support</span><span class=\"p\">()</span>\n    <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>If the <code class=\"docutils literal notranslate\"><span class=\"pre\">freeze_support()</span></code> line is omitted then trying to run the frozen\nexecutable will raise <a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a>.</p>\n<p>Calling <code class=\"docutils literal notranslate\"><span class=\"pre\">freeze_support()</span></code> has no effect when the start method is not\n<em>spawn</em>. In addition, if the module is being run normally by the Python\ninterpreter (the program has not been frozen), then <code class=\"docutils literal notranslate\"><span class=\"pre\">freeze_support()</span></code>\nhas no effect.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.get_all_start_methods\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">get_all_start_methods</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.get_all_start_methods\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns a list of the supported start methods, the first of which\nis the default.  The possible start methods are <code class=\"docutils literal notranslate\"><span class=\"pre\">'fork'</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'spawn'</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">'forkserver'</span></code>.  Not all platforms support all\nmethods.  See <a class=\"reference internal\" href=\"#multiprocessing-start-methods\"><span class=\"std std-ref\">Contexts and start methods</span></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.4.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.get_context\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">get_context</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">method</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.get_context\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a context object which has the same attributes as the\n<a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> module.</p>\n<p>If <em>method</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then the default context is returned. Note that if\nthe global start method has not been set, this will set it to the\ndefault method.\nOtherwise <em>method</em> should be <code class=\"docutils literal notranslate\"><span class=\"pre\">'fork'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'spawn'</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'forkserver'</span></code>.  <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised if the specified\nstart method is not available.  See <a class=\"reference internal\" href=\"#multiprocessing-start-methods\"><span class=\"std std-ref\">Contexts and start methods</span></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.4.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.get_start_method\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">get_start_method</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">allow_none</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.get_start_method\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the name of start method used for starting processes.</p>\n<p>If the global start method has not been set and <em>allow_none</em> is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, then the start method is set to the default and the name\nis returned. If the start method has not been set and <em>allow_none</em> is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> then <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> is returned.</p>\n<p>The return value can be <code class=\"docutils literal notranslate\"><span class=\"pre\">'fork'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'spawn'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'forkserver'</span></code>\nor <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.  See <a class=\"reference internal\" href=\"#multiprocessing-start-methods\"><span class=\"std std-ref\">Contexts and start methods</span></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.4.</span></p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.8: </span>On macOS, the <em>spawn</em> start method is now the default.  The <em>fork</em> start\nmethod should be considered unsafe as it can lead to crashes of the\nsubprocess. See <a class=\"reference external\" href=\"https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33725\">bpo-33725</a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.set_executable\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">set_executable</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">executable</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.set_executable\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the path of the Python interpreter to use when starting a child process.\n(By default <a class=\"reference internal\" href=\"sys.html#sys.executable\" title=\"sys.executable\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.executable</span></code></a> is used).  Embedders will probably need to\ndo some thing like</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">set_executable</span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">exec_prefix</span><span class=\"p\">,</span> <span class=\"s1\">&#39;pythonw.exe&#39;</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>before they can create child processes.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.4: </span>Now supported on POSIX when the <code class=\"docutils literal notranslate\"><span class=\"pre\">'spawn'</span></code> start method is used.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.11: </span>Accepts a <a class=\"reference internal\" href=\"../glossary.html#term-path-like-object\"><span class=\"xref std std-term\">path-like object</span></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.set_forkserver_preload\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">set_forkserver_preload</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">module_names</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.set_forkserver_preload\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set a list of module names for the forkserver main process to attempt to\nimport so that their already imported state is inherited by forked\nprocesses. Any <a class=\"reference internal\" href=\"exceptions.html#ImportError\" title=\"ImportError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ImportError</span></code></a> when doing so is silently ignored.\nThis can be used as a performance enhancement to avoid repeated work\nin every process.</p>\n<p>For this to work, it must be called before the forkserver process has been\nlaunched (before creating a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code> or starting a <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a>).</p>\n<p>Only meaningful when using the <code class=\"docutils literal notranslate\"><span class=\"pre\">'forkserver'</span></code> start method.\nSee <a class=\"reference internal\" href=\"#multiprocessing-start-methods\"><span class=\"std std-ref\">Contexts and start methods</span></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.4.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.set_start_method\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">set_start_method</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">method</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">force</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.set_start_method\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the method which should be used to start child processes.\nThe <em>method</em> argument can be <code class=\"docutils literal notranslate\"><span class=\"pre\">'fork'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'spawn'</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">'forkserver'</span></code>.\nRaises <a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> if the start method has already been set and <em>force</em>\nis not <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.  If <em>method</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> and <em>force</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> then the start\nmethod is set to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.  If <em>method</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> and <em>force</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>\nthen the context is set to the default context.</p>\n<p>Note that this should be called at most once, and it should be\nprotected inside the <code class=\"docutils literal notranslate\"><span class=\"pre\">if</span> <span class=\"pre\">__name__</span> <span class=\"pre\">==</span> <span class=\"pre\">'__main__'</span></code> clause of the\nmain module.</p>\n<p>See <a class=\"reference internal\" href=\"#multiprocessing-start-methods\"><span class=\"std std-ref\">Contexts and start methods</span></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.4.</span></p>\n</div>\n</dd></dl>\n\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p><a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> contains no analogues of\n<a class=\"reference internal\" href=\"threading.html#threading.active_count\" title=\"threading.active_count\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">threading.active_count()</span></code></a>, <a class=\"reference internal\" href=\"threading.html#threading.enumerate\" title=\"threading.enumerate\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">threading.enumerate()</span></code></a>,\n<a class=\"reference internal\" href=\"threading.html#threading.settrace\" title=\"threading.settrace\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">threading.settrace()</span></code></a>, <a class=\"reference internal\" href=\"threading.html#threading.setprofile\" title=\"threading.setprofile\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">threading.setprofile()</span></code></a>,\n<a class=\"reference internal\" href=\"threading.html#threading.Timer\" title=\"threading.Timer\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Timer</span></code></a>, or <a class=\"reference internal\" href=\"threading.html#threading.local\" title=\"threading.local\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.local</span></code></a>.</p>\n</div>\n</section>\n<section id=\"connection-objects\">\n<h3>Connection Objects<a class=\"headerlink\" href=\"#connection-objects\" title=\"Link to this heading\">¶</a></h3>\n<p>Connection objects allow the sending and receiving of picklable objects or\nstrings.  They can be thought of as message oriented connected sockets.</p>\n<p>Connection objects are usually created using\n<a class=\"reference internal\" href=\"#multiprocessing.Pipe\" title=\"multiprocessing.Pipe\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Pipe</span></code></a> – see also\n<a class=\"reference internal\" href=\"#multiprocessing-listeners-clients\"><span class=\"std std-ref\">Listeners and Clients</span></a>.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Connection\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.connection.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Connection</span></span><a class=\"headerlink\" href=\"#multiprocessing.connection.Connection\" title=\"Link to this definition\">¶</a></dt>\n<dd><dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Connection.send\">\n<span class=\"sig-name descname\"><span class=\"pre\">send</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Connection.send\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Send an object to the other end of the connection which should be read\nusing <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection.recv\" title=\"multiprocessing.connection.Connection.recv\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">recv()</span></code></a>.</p>\n<p>The object must be picklable.  Very large pickles (approximately 32 MiB+,\nthough it depends on the OS) may raise a <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> exception.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Connection.recv\">\n<span class=\"sig-name descname\"><span class=\"pre\">recv</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Connection.recv\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return an object sent from the other end of the connection using\n<a class=\"reference internal\" href=\"#multiprocessing.connection.Connection.send\" title=\"multiprocessing.connection.Connection.send\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">send()</span></code></a>.  Blocks until there is something to receive.  Raises\n<a class=\"reference internal\" href=\"exceptions.html#EOFError\" title=\"EOFError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">EOFError</span></code></a> if there is nothing left to receive\nand the other end was closed.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Connection.fileno\">\n<span class=\"sig-name descname\"><span class=\"pre\">fileno</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Connection.fileno\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the file descriptor or handle used by the connection.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Connection.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Connection.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Close the connection.</p>\n<p>This is called automatically when the connection is garbage collected.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Connection.poll\">\n<span class=\"sig-name descname\"><span class=\"pre\">poll</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Connection.poll\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return whether there is any data available to be read.</p>\n<p>If <em>timeout</em> is not specified then it will return immediately.  If\n<em>timeout</em> is a number then this specifies the maximum time in seconds to\nblock.  If <em>timeout</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then an infinite timeout is used.</p>\n<p>Note that multiple connection objects may be polled at once by\nusing <a class=\"reference internal\" href=\"#multiprocessing.connection.wait\" title=\"multiprocessing.connection.wait\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">multiprocessing.connection.wait()</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Connection.send_bytes\">\n<span class=\"sig-name descname\"><span class=\"pre\">send_bytes</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">buffer</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">offset</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Connection.send_bytes\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Send byte data from a <a class=\"reference internal\" href=\"../glossary.html#term-bytes-like-object\"><span class=\"xref std std-term\">bytes-like object</span></a> as a complete message.</p>\n<p>If <em>offset</em> is given then data is read from that position in <em>buffer</em>.  If\n<em>size</em> is given then that many bytes will be read from buffer.  Very large\nbuffers (approximately 32 MiB+, though it depends on the OS) may raise a\n<a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> exception</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Connection.recv_bytes\">\n<span class=\"sig-name descname\"><span class=\"pre\">recv_bytes</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">maxlength</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Connection.recv_bytes\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a complete message of byte data sent from the other end of the\nconnection as a string.  Blocks until there is something to receive.\nRaises <a class=\"reference internal\" href=\"exceptions.html#EOFError\" title=\"EOFError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">EOFError</span></code></a> if there is nothing left\nto receive and the other end has closed.</p>\n<p>If <em>maxlength</em> is specified and the message is longer than <em>maxlength</em>\nthen <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a> is raised and the connection will no longer be\nreadable.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>This function used to raise <a class=\"reference internal\" href=\"exceptions.html#IOError\" title=\"IOError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">IOError</span></code></a>, which is now an\nalias of <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Connection.recv_bytes_into\">\n<span class=\"sig-name descname\"><span class=\"pre\">recv_bytes_into</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">buffer</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">offset</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Connection.recv_bytes_into\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Read into <em>buffer</em> a complete message of byte data sent from the other end\nof the connection and return the number of bytes in the message.  Blocks\nuntil there is something to receive.  Raises\n<a class=\"reference internal\" href=\"exceptions.html#EOFError\" title=\"EOFError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">EOFError</span></code></a> if there is nothing left to receive and the other end was\nclosed.</p>\n<p><em>buffer</em> must be a writable <a class=\"reference internal\" href=\"../glossary.html#term-bytes-like-object\"><span class=\"xref std std-term\">bytes-like object</span></a>.  If\n<em>offset</em> is given then the message will be written into the buffer from\nthat position.  Offset must be a non-negative integer less than the\nlength of <em>buffer</em> (in bytes).</p>\n<p>If the buffer is too short then a <code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">BufferTooShort</span></code> exception is\nraised and the complete message is available as <code class=\"docutils literal notranslate\"><span class=\"pre\">e.args[0]</span></code> where <code class=\"docutils literal notranslate\"><span class=\"pre\">e</span></code>\nis the exception instance.</p>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>Connection objects themselves can now be transferred between processes\nusing <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection.send\" title=\"multiprocessing.connection.Connection.send\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.send()</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection.recv\" title=\"multiprocessing.connection.Connection.recv\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.recv()</span></code></a>.</p>\n<p>Connection objects also now support the context management protocol – see\n<a class=\"reference internal\" href=\"stdtypes.html#typecontextmanager\"><span class=\"std std-ref\">Context Manager Types</span></a>.  <a class=\"reference internal\" href=\"stdtypes.html#contextmanager.__enter__\" title=\"contextmanager.__enter__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__enter__()</span></code></a> returns the\nconnection object, and <a class=\"reference internal\" href=\"stdtypes.html#contextmanager.__exit__\" title=\"contextmanager.__exit__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__exit__()</span></code></a> calls <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection.close\" title=\"multiprocessing.connection.Connection.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<p>For example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Pipe</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">Pipe</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">recv</span><span class=\"p\">()</span>\n<span class=\"go\">[1, &#39;hello&#39;, None]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">send_bytes</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s1\">&#39;thank you&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">recv_bytes</span><span class=\"p\">()</span>\n<span class=\"go\">b&#39;thank you&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">array</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">arr1</span> <span class=\"o\">=</span> <span class=\"n\">array</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;i&#39;</span><span class=\"p\">,</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">arr2</span> <span class=\"o\">=</span> <span class=\"n\">array</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;i&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">send_bytes</span><span class=\"p\">(</span><span class=\"n\">arr1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">recv_bytes_into</span><span class=\"p\">(</span><span class=\"n\">arr2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">assert</span> <span class=\"n\">count</span> <span class=\"o\">==</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">arr1</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"n\">arr1</span><span class=\"o\">.</span><span class=\"n\">itemsize</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">arr2</span>\n<span class=\"go\">array(&#39;i&#39;, [0, 1, 2, 3, 4, 0, 0, 0, 0, 0])</span>\n</pre></div>\n</div>\n<div class=\"admonition warning\" id=\"multiprocessing-recv-pickle-security\">\n<p class=\"admonition-title\">Warning</p>\n<p>The <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection.recv\" title=\"multiprocessing.connection.Connection.recv\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.recv()</span></code></a> method automatically unpickles the data it\nreceives, which can be a security risk unless you can trust the process\nwhich sent the message.</p>\n<p>Therefore, unless the connection object was produced using <code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Pipe()</span></code> you\nshould only use the <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection.recv\" title=\"multiprocessing.connection.Connection.recv\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">recv()</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection.send\" title=\"multiprocessing.connection.Connection.send\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">send()</span></code></a>\nmethods after performing some sort of authentication.  See\n<a class=\"reference internal\" href=\"#multiprocessing-auth-keys\"><span class=\"std std-ref\">Authentication keys</span></a>.</p>\n</div>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>If a process is killed while it is trying to read or write to a pipe then\nthe data in the pipe is likely to become corrupted, because it may become\nimpossible to be sure where the message boundaries lie.</p>\n</div>\n</section>\n<section id=\"synchronization-primitives\">\n<h3>Synchronization primitives<a class=\"headerlink\" href=\"#synchronization-primitives\" title=\"Link to this heading\">¶</a></h3>\n<p>Generally synchronization primitives are not as necessary in a multiprocess\nprogram as they are in a multithreaded program.  See the documentation for\n<a class=\"reference internal\" href=\"threading.html#module-threading\" title=\"threading: Thread-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code></a> module.</p>\n<p>Note that one can also create synchronization primitives by using a manager\nobject – see <a class=\"reference internal\" href=\"#multiprocessing-managers\"><span class=\"std std-ref\">Managers</span></a>.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Barrier\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Barrier</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">parties</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">action</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Barrier\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A barrier object: a clone of <a class=\"reference internal\" href=\"threading.html#threading.Barrier\" title=\"threading.Barrier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Barrier</span></code></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.BoundedSemaphore\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">BoundedSemaphore</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.BoundedSemaphore\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A bounded semaphore object: a close analog of\n<a class=\"reference internal\" href=\"threading.html#threading.BoundedSemaphore\" title=\"threading.BoundedSemaphore\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.BoundedSemaphore</span></code></a>.</p>\n<p>A solitary difference from its close analog exists: its <code class=\"docutils literal notranslate\"><span class=\"pre\">acquire</span></code> method’s\nfirst argument is named <em>block</em>, as is consistent with <a class=\"reference internal\" href=\"#multiprocessing.Lock.acquire\" title=\"multiprocessing.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Lock.acquire()</span></code></a>.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>On macOS, this is indistinguishable from <a class=\"reference internal\" href=\"#multiprocessing.Semaphore\" title=\"multiprocessing.Semaphore\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Semaphore</span></code></a> because\n<code class=\"docutils literal notranslate\"><span class=\"pre\">sem_getvalue()</span></code> is not implemented on that platform.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Condition\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Condition</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">lock</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Condition\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A condition variable: an alias for <a class=\"reference internal\" href=\"threading.html#threading.Condition\" title=\"threading.Condition\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Condition</span></code></a>.</p>\n<p>If <em>lock</em> is specified then it should be a <a class=\"reference internal\" href=\"#multiprocessing.Lock\" title=\"multiprocessing.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a> or <a class=\"reference internal\" href=\"#multiprocessing.RLock\" title=\"multiprocessing.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a>\nobject from <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a>.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>The <a class=\"reference internal\" href=\"threading.html#threading.Condition.wait_for\" title=\"threading.Condition.wait_for\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait_for()</span></code></a> method was added.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Event\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Event</span></span><a class=\"headerlink\" href=\"#multiprocessing.Event\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A clone of <a class=\"reference internal\" href=\"threading.html#threading.Event\" title=\"threading.Event\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Event</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Lock\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Lock</span></span><a class=\"headerlink\" href=\"#multiprocessing.Lock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A non-recursive lock object: a close analog of <a class=\"reference internal\" href=\"threading.html#threading.Lock\" title=\"threading.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Lock</span></code></a>.\nOnce a process or thread has acquired a lock, subsequent attempts to\nacquire it from any process or thread will block until it is released;\nany process or thread may release it.  The concepts and behaviors of\n<a class=\"reference internal\" href=\"threading.html#threading.Lock\" title=\"threading.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Lock</span></code></a> as it applies to threads are replicated here in\n<a class=\"reference internal\" href=\"#multiprocessing.Lock\" title=\"multiprocessing.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">multiprocessing.Lock</span></code></a> as it applies to either processes or threads,\nexcept as noted.</p>\n<p>Note that <a class=\"reference internal\" href=\"#multiprocessing.Lock\" title=\"multiprocessing.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a> is actually a factory function which returns an\ninstance of <code class=\"docutils literal notranslate\"><span class=\"pre\">multiprocessing.synchronize.Lock</span></code> initialized with a\ndefault context.</p>\n<p><a class=\"reference internal\" href=\"#multiprocessing.Lock\" title=\"multiprocessing.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a> supports the <a class=\"reference internal\" href=\"../glossary.html#term-context-manager\"><span class=\"xref std std-term\">context manager</span></a> protocol and thus may be\nused in <a class=\"reference internal\" href=\"../reference/compound_stmts.html#with\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code></a> statements.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Lock.acquire\">\n<span class=\"sig-name descname\"><span class=\"pre\">acquire</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">block</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Lock.acquire\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Acquire a lock, blocking or non-blocking.</p>\n<p>With the <em>block</em> argument set to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (the default), the method call\nwill block until the lock is in an unlocked state, then set it to locked\nand return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.  Note that the name of this first argument differs\nfrom that in <a class=\"reference internal\" href=\"threading.html#threading.Lock.acquire\" title=\"threading.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">threading.Lock.acquire()</span></code></a>.</p>\n<p>With the <em>block</em> argument set to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, the method call does not\nblock.  If the lock is currently in a locked state, return <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>;\notherwise set the lock to a locked state and return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</p>\n<p>When invoked with a positive, floating-point value for <em>timeout</em>, block\nfor at most the number of seconds specified by <em>timeout</em> as long as\nthe lock can not be acquired.  Invocations with a negative value for\n<em>timeout</em> are equivalent to a <em>timeout</em> of zero.  Invocations with a\n<em>timeout</em> value of <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default) set the timeout period to\ninfinite.  Note that the treatment of negative or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> values for\n<em>timeout</em> differs from the implemented behavior in\n<a class=\"reference internal\" href=\"threading.html#threading.Lock.acquire\" title=\"threading.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">threading.Lock.acquire()</span></code></a>.  The <em>timeout</em> argument has no practical\nimplications if the <em>block</em> argument is set to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> and is thus\nignored.  Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if the lock has been acquired or <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> if\nthe timeout period has elapsed.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Lock.release\">\n<span class=\"sig-name descname\"><span class=\"pre\">release</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Lock.release\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Release a lock.  This can be called from any process or thread, not only\nthe process or thread which originally acquired the lock.</p>\n<p>Behavior is the same as in <a class=\"reference internal\" href=\"threading.html#threading.Lock.release\" title=\"threading.Lock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">threading.Lock.release()</span></code></a> except that\nwhen invoked on an unlocked lock, a <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Lock.locked\">\n<span class=\"sig-name descname\"><span class=\"pre\">locked</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Lock.locked\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a boolean indicating whether this object is locked right now.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.RLock\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">RLock</span></span><a class=\"headerlink\" href=\"#multiprocessing.RLock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A recursive lock object: a close analog of <a class=\"reference internal\" href=\"threading.html#threading.RLock\" title=\"threading.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.RLock</span></code></a>.  A\nrecursive lock must be released by the process or thread that acquired it.\nOnce a process or thread has acquired a recursive lock, the same process\nor thread may acquire it again without blocking; that process or thread\nmust release it once for each time it has been acquired.</p>\n<p>Note that <a class=\"reference internal\" href=\"#multiprocessing.RLock\" title=\"multiprocessing.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a> is actually a factory function which returns an\ninstance of <code class=\"docutils literal notranslate\"><span class=\"pre\">multiprocessing.synchronize.RLock</span></code> initialized with a\ndefault context.</p>\n<p><a class=\"reference internal\" href=\"#multiprocessing.RLock\" title=\"multiprocessing.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a> supports the <a class=\"reference internal\" href=\"../glossary.html#term-context-manager\"><span class=\"xref std std-term\">context manager</span></a> protocol and thus may be\nused in <a class=\"reference internal\" href=\"../reference/compound_stmts.html#with\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code></a> statements.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.RLock.acquire\">\n<span class=\"sig-name descname\"><span class=\"pre\">acquire</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">block</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.RLock.acquire\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Acquire a lock, blocking or non-blocking.</p>\n<p>When invoked with the <em>block</em> argument set to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, block until the\nlock is in an unlocked state (not owned by any process or thread) unless\nthe lock is already owned by the current process or thread.  The current\nprocess or thread then takes ownership of the lock (if it does not\nalready have ownership) and the recursion level inside the lock increments\nby one, resulting in a return value of <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.  Note that there are\nseveral differences in this first argument’s behavior compared to the\nimplementation of <a class=\"reference internal\" href=\"threading.html#threading.RLock.acquire\" title=\"threading.RLock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">threading.RLock.acquire()</span></code></a>, starting with the name\nof the argument itself.</p>\n<p>When invoked with the <em>block</em> argument set to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, do not block.\nIf the lock has already been acquired (and thus is owned) by another\nprocess or thread, the current process or thread does not take ownership\nand the recursion level within the lock is not changed, resulting in\na return value of <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.  If the lock is in an unlocked state, the\ncurrent process or thread takes ownership and the recursion level is\nincremented, resulting in a return value of <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</p>\n<p>Use and behaviors of the <em>timeout</em> argument are the same as in\n<a class=\"reference internal\" href=\"#multiprocessing.Lock.acquire\" title=\"multiprocessing.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Lock.acquire()</span></code></a>.  Note that some of these behaviors of <em>timeout</em>\ndiffer from the implemented behaviors in <a class=\"reference internal\" href=\"threading.html#threading.RLock.acquire\" title=\"threading.RLock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">threading.RLock.acquire()</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.RLock.release\">\n<span class=\"sig-name descname\"><span class=\"pre\">release</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.RLock.release\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Release a lock, decrementing the recursion level.  If after the\ndecrement the recursion level is zero, reset the lock to unlocked (not\nowned by any process or thread) and if any other processes or threads\nare blocked waiting for the lock to become unlocked, allow exactly one\nof them to proceed.  If after the decrement the recursion level is still\nnonzero, the lock remains locked and owned by the calling process or\nthread.</p>\n<p>Only call this method when the calling process or thread owns the lock.\nAn <a class=\"reference internal\" href=\"exceptions.html#AssertionError\" title=\"AssertionError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AssertionError</span></code></a> is raised if this method is called by a process\nor thread other than the owner or if the lock is in an unlocked (unowned)\nstate.  Note that the type of exception raised in this situation\ndiffers from the implemented behavior in <a class=\"reference internal\" href=\"threading.html#threading.RLock.release\" title=\"threading.RLock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">threading.RLock.release()</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.RLock.locked\">\n<span class=\"sig-name descname\"><span class=\"pre\">locked</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.RLock.locked\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a boolean indicating whether this object is locked right now.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Semaphore\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Semaphore</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Semaphore\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A semaphore object: a close analog of <a class=\"reference internal\" href=\"threading.html#threading.Semaphore\" title=\"threading.Semaphore\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Semaphore</span></code></a>.</p>\n<p>A solitary difference from its close analog exists: its <code class=\"docutils literal notranslate\"><span class=\"pre\">acquire</span></code> method’s\nfirst argument is named <em>block</em>, as is consistent with <a class=\"reference internal\" href=\"#multiprocessing.Lock.acquire\" title=\"multiprocessing.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Lock.acquire()</span></code></a>.</p>\n</dd></dl>\n\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>On macOS, <code class=\"docutils literal notranslate\"><span class=\"pre\">sem_timedwait</span></code> is unsupported, so calling <code class=\"docutils literal notranslate\"><span class=\"pre\">acquire()</span></code> with\na timeout will emulate that function’s behavior using a sleeping loop.</p>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Some of this package’s functionality requires a functioning shared semaphore\nimplementation on the host operating system. Without one, the\n<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.synchronize</span></code> module will be disabled, and attempts to\nimport it will result in an <a class=\"reference internal\" href=\"exceptions.html#ImportError\" title=\"ImportError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ImportError</span></code></a>. See\n<a class=\"reference external\" href=\"https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=3770\">bpo-3770</a> for additional information.</p>\n</div>\n</section>\n<section id=\"shared-ctypes-objects\">\n<h3>Shared <a class=\"reference internal\" href=\"ctypes.html#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> Objects<a class=\"headerlink\" href=\"#shared-ctypes-objects\" title=\"Link to this heading\">¶</a></h3>\n<p>It is possible to create shared objects using shared memory which can be\ninherited by child processes.</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Value\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Value</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typecode_or_type</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">lock</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Value\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a <a class=\"reference internal\" href=\"ctypes.html#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> object allocated from shared memory.  By default the\nreturn value is actually a synchronized wrapper for the object.  The object\nitself can be accessed via the <em>value</em> attribute of a <a class=\"reference internal\" href=\"#multiprocessing.Value\" title=\"multiprocessing.Value\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Value</span></code></a>.</p>\n<p><em>typecode_or_type</em> determines the type of the returned object: it is either a\nctypes type or a one character typecode of the kind used by the <a class=\"reference internal\" href=\"array.html#module-array\" title=\"array: Space efficient arrays of uniformly typed numeric values.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">array</span></code></a>\nmodule.  <em>*args</em> is passed on to the constructor for the type.</p>\n<p>If <em>lock</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (the default) then a new recursive lock\nobject is created to synchronize access to the value.  If <em>lock</em> is\na <a class=\"reference internal\" href=\"#multiprocessing.Lock\" title=\"multiprocessing.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a> or <a class=\"reference internal\" href=\"#multiprocessing.RLock\" title=\"multiprocessing.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a> object then that will be used to\nsynchronize access to the value.  If <em>lock</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> then\naccess to the returned object will not be automatically protected\nby a lock, so it will not necessarily be “process-safe”.</p>\n<p>Operations like <code class=\"docutils literal notranslate\"><span class=\"pre\">+=</span></code> which involve a read and write are not\natomic.  So if, for instance, you want to atomically increment a\nshared value it is insufficient to just do</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">counter</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n</pre></div>\n</div>\n<p>Assuming the associated lock is recursive (which it is by default)\nyou can instead do</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">with</span> <span class=\"n\">counter</span><span class=\"o\">.</span><span class=\"n\">get_lock</span><span class=\"p\">():</span>\n    <span class=\"n\">counter</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n</pre></div>\n</div>\n<p>Note that <em>lock</em> is a keyword-only argument.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Array\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Array</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typecode_or_type</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size_or_initializer</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">lock</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Array\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a ctypes array allocated from shared memory.  By default the return\nvalue is actually a synchronized wrapper for the array.</p>\n<p><em>typecode_or_type</em> determines the type of the elements of the returned array:\nit is either a ctypes type or a one character typecode of the kind used by\nthe <a class=\"reference internal\" href=\"array.html#module-array\" title=\"array: Space efficient arrays of uniformly typed numeric values.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">array</span></code></a> module.  If <em>size_or_initializer</em> is an integer, then it\ndetermines the length of the array, and the array will be initially zeroed.\nOtherwise, <em>size_or_initializer</em> is a sequence which is used to initialize\nthe array and whose length determines the length of the array.</p>\n<p>If <em>lock</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (the default) then a new lock object is created to\nsynchronize access to the value.  If <em>lock</em> is a <a class=\"reference internal\" href=\"#multiprocessing.Lock\" title=\"multiprocessing.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a> or\n<a class=\"reference internal\" href=\"#multiprocessing.RLock\" title=\"multiprocessing.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a> object then that will be used to synchronize access to the\nvalue.  If <em>lock</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> then access to the returned object will not be\nautomatically protected by a lock, so it will not necessarily be\n“process-safe”.</p>\n<p>Note that <em>lock</em> is a keyword only argument.</p>\n<p>Note that an array of <a class=\"reference internal\" href=\"ctypes.html#ctypes.c_char\" title=\"ctypes.c_char\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">ctypes.c_char</span></code></a> has <em>value</em> and <em>raw</em>\nattributes which allow one to use it to store and retrieve strings.</p>\n</dd></dl>\n\n<section id=\"module-multiprocessing.sharedctypes\">\n<span id=\"the-multiprocessing-sharedctypes-module\"></span><h4>The <a class=\"reference internal\" href=\"#module-multiprocessing.sharedctypes\" title=\"multiprocessing.sharedctypes: Allocate ctypes objects from shared memory.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.sharedctypes</span></code></a> module<a class=\"headerlink\" href=\"#module-multiprocessing.sharedctypes\" title=\"Link to this heading\">¶</a></h4>\n<p>The <a class=\"reference internal\" href=\"#module-multiprocessing.sharedctypes\" title=\"multiprocessing.sharedctypes: Allocate ctypes objects from shared memory.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.sharedctypes</span></code></a> module provides functions for allocating\n<a class=\"reference internal\" href=\"ctypes.html#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> objects from shared memory which can be inherited by child\nprocesses.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Although it is possible to store a pointer in shared memory remember that\nthis will refer to a location in the address space of a specific process.\nHowever, the pointer is quite likely to be invalid in the context of a second\nprocess and trying to dereference the pointer from the second process may\ncause a crash.</p>\n</div>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.sharedctypes.RawArray\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.sharedctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">RawArray</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typecode_or_type</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size_or_initializer</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.sharedctypes.RawArray\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a ctypes array allocated from shared memory.</p>\n<p><em>typecode_or_type</em> determines the type of the elements of the returned array:\nit is either a ctypes type or a one character typecode of the kind used by\nthe <a class=\"reference internal\" href=\"array.html#module-array\" title=\"array: Space efficient arrays of uniformly typed numeric values.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">array</span></code></a> module.  If <em>size_or_initializer</em> is an integer then it\ndetermines the length of the array, and the array will be initially zeroed.\nOtherwise <em>size_or_initializer</em> is a sequence which is used to initialize the\narray and whose length determines the length of the array.</p>\n<p>Note that setting and getting an element is potentially non-atomic – use\n<a class=\"reference internal\" href=\"#multiprocessing.sharedctypes.Array\" title=\"multiprocessing.sharedctypes.Array\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Array()</span></code></a> instead to make sure that access is automatically synchronized\nusing a lock.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.sharedctypes.RawValue\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.sharedctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">RawValue</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typecode_or_type</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.sharedctypes.RawValue\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a ctypes object allocated from shared memory.</p>\n<p><em>typecode_or_type</em> determines the type of the returned object: it is either a\nctypes type or a one character typecode of the kind used by the <a class=\"reference internal\" href=\"array.html#module-array\" title=\"array: Space efficient arrays of uniformly typed numeric values.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">array</span></code></a>\nmodule.  <em>*args</em> is passed on to the constructor for the type.</p>\n<p>Note that setting and getting the value is potentially non-atomic – use\n<a class=\"reference internal\" href=\"#multiprocessing.sharedctypes.Value\" title=\"multiprocessing.sharedctypes.Value\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Value()</span></code></a> instead to make sure that access is automatically synchronized\nusing a lock.</p>\n<p>Note that an array of <a class=\"reference internal\" href=\"ctypes.html#ctypes.c_char\" title=\"ctypes.c_char\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">ctypes.c_char</span></code></a> has <code class=\"docutils literal notranslate\"><span class=\"pre\">value</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">raw</span></code>\nattributes which allow one to use it to store and retrieve strings – see\ndocumentation for <a class=\"reference internal\" href=\"ctypes.html#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.sharedctypes.Array\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.sharedctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Array</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typecode_or_type</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size_or_initializer</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">lock</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.sharedctypes.Array\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The same as <a class=\"reference internal\" href=\"#multiprocessing.sharedctypes.RawArray\" title=\"multiprocessing.sharedctypes.RawArray\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">RawArray()</span></code></a> except that depending on the value of <em>lock</em> a\nprocess-safe synchronization wrapper may be returned instead of a raw ctypes\narray.</p>\n<p>If <em>lock</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (the default) then a new lock object is created to\nsynchronize access to the value.  If <em>lock</em> is a\n<a class=\"reference internal\" href=\"#multiprocessing.Lock\" title=\"multiprocessing.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a> or <a class=\"reference internal\" href=\"#multiprocessing.RLock\" title=\"multiprocessing.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a> object\nthen that will be used to synchronize access to the\nvalue.  If <em>lock</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> then access to the returned object will not be\nautomatically protected by a lock, so it will not necessarily be\n“process-safe”.</p>\n<p>Note that <em>lock</em> is a keyword-only argument.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.sharedctypes.Value\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.sharedctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Value</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typecode_or_type</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">lock</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.sharedctypes.Value\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The same as <a class=\"reference internal\" href=\"#multiprocessing.sharedctypes.RawValue\" title=\"multiprocessing.sharedctypes.RawValue\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">RawValue()</span></code></a> except that depending on the value of <em>lock</em> a\nprocess-safe synchronization wrapper may be returned instead of a raw ctypes\nobject.</p>\n<p>If <em>lock</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (the default) then a new lock object is created to\nsynchronize access to the value.  If <em>lock</em> is a <a class=\"reference internal\" href=\"#multiprocessing.Lock\" title=\"multiprocessing.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a> or\n<a class=\"reference internal\" href=\"#multiprocessing.RLock\" title=\"multiprocessing.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a> object then that will be used to synchronize access to the\nvalue.  If <em>lock</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> then access to the returned object will not be\nautomatically protected by a lock, so it will not necessarily be\n“process-safe”.</p>\n<p>Note that <em>lock</em> is a keyword-only argument.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.sharedctypes.copy\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.sharedctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">copy</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.sharedctypes.copy\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a ctypes object allocated from shared memory which is a copy of the\nctypes object <em>obj</em>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.sharedctypes.synchronized\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.sharedctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">synchronized</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">lock</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.sharedctypes.synchronized\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a process-safe wrapper object for a ctypes object which uses <em>lock</em> to\nsynchronize access.  If <em>lock</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default) then a\n<a class=\"reference internal\" href=\"#multiprocessing.RLock\" title=\"multiprocessing.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">multiprocessing.RLock</span></code></a> object is created automatically.</p>\n<p>A synchronized wrapper will have two methods in addition to those of the\nobject it wraps: <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_obj()</span></code> returns the wrapped object and\n<code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_lock()</span></code> returns the lock object used for synchronization.</p>\n<p>Note that accessing the ctypes object through the wrapper can be a lot slower\nthan accessing the raw ctypes object.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.5: </span>Synchronized objects support the <a class=\"reference internal\" href=\"../glossary.html#term-context-manager\"><span class=\"xref std std-term\">context manager</span></a> protocol.</p>\n</div>\n</dd></dl>\n\n<p>The table below compares the syntax for creating shared ctypes objects from\nshared memory with the normal ctypes syntax.  (In the table <code class=\"docutils literal notranslate\"><span class=\"pre\">MyStruct</span></code> is some\nsubclass of <a class=\"reference internal\" href=\"ctypes.html#ctypes.Structure\" title=\"ctypes.Structure\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ctypes.Structure</span></code></a>.)</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>ctypes</p></th>\n<th class=\"head\"><p>sharedctypes using type</p></th>\n<th class=\"head\"><p>sharedctypes using typecode</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>c_double(2.4)</p></td>\n<td><p>RawValue(c_double, 2.4)</p></td>\n<td><p>RawValue(‘d’, 2.4)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>MyStruct(4, 6)</p></td>\n<td><p>RawValue(MyStruct, 4, 6)</p></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><p>(c_short * 7)()</p></td>\n<td><p>RawArray(c_short, 7)</p></td>\n<td><p>RawArray(‘h’, 7)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>(c_int * 3)(9, 2, 8)</p></td>\n<td><p>RawArray(c_int, (9, 2, 8))</p></td>\n<td><p>RawArray(‘i’, (9, 2, 8))</p></td>\n</tr>\n</tbody>\n</table>\n<p>Below is an example where a number of ctypes objects are modified by a child\nprocess:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Lock</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.sharedctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Value</span><span class=\"p\">,</span> <span class=\"n\">Array</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Structure</span><span class=\"p\">,</span> <span class=\"n\">c_double</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Point</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">,</span> <span class=\"n\">c_double</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;y&#39;</span><span class=\"p\">,</span> <span class=\"n\">c_double</span><span class=\"p\">)]</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">modify</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">A</span><span class=\"p\">):</span>\n    <span class=\"n\">n</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"o\">**=</span> <span class=\"mi\">2</span>\n    <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"o\">**=</span> <span class=\"mi\">2</span>\n    <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">upper</span><span class=\"p\">()</span>\n    <span class=\"k\">for</span> <span class=\"n\">a</span> <span class=\"ow\">in</span> <span class=\"n\">A</span><span class=\"p\">:</span>\n        <span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">x</span> <span class=\"o\">**=</span> <span class=\"mi\">2</span>\n        <span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">y</span> <span class=\"o\">**=</span> <span class=\"mi\">2</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">lock</span> <span class=\"o\">=</span> <span class=\"n\">Lock</span><span class=\"p\">()</span>\n\n    <span class=\"n\">n</span> <span class=\"o\">=</span> <span class=\"n\">Value</span><span class=\"p\">(</span><span class=\"s1\">&#39;i&#39;</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">)</span>\n    <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">Value</span><span class=\"p\">(</span><span class=\"n\">c_double</span><span class=\"p\">,</span> <span class=\"mf\">1.0</span><span class=\"o\">/</span><span class=\"mf\">3.0</span><span class=\"p\">,</span> <span class=\"n\">lock</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n    <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">Array</span><span class=\"p\">(</span><span class=\"s1\">&#39;c&#39;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s1\">&#39;hello world&#39;</span><span class=\"p\">,</span> <span class=\"n\">lock</span><span class=\"o\">=</span><span class=\"n\">lock</span><span class=\"p\">)</span>\n    <span class=\"n\">A</span> <span class=\"o\">=</span> <span class=\"n\">Array</span><span class=\"p\">(</span><span class=\"n\">Point</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"mf\">1.875</span><span class=\"p\">,</span><span class=\"o\">-</span><span class=\"mf\">6.25</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mf\">5.75</span><span class=\"p\">,</span><span class=\"mf\">2.0</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mf\">2.375</span><span class=\"p\">,</span><span class=\"mf\">9.5</span><span class=\"p\">)],</span> <span class=\"n\">lock</span><span class=\"o\">=</span><span class=\"n\">lock</span><span class=\"p\">)</span>\n\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">modify</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">A</span><span class=\"p\">))</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">([(</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">a</span> <span class=\"ow\">in</span> <span class=\"n\">A</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n<p>The results printed are</p>\n<div class=\"highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>49\n0.1111111111111111\nHELLO WORLD\n[(3.515625, 39.0625), (33.0625, 4.0), (5.640625, 90.25)]\n</pre></div>\n</div>\n</section>\n</section>\n<section id=\"managers\">\n<span id=\"multiprocessing-managers\"></span><h3>Managers<a class=\"headerlink\" href=\"#managers\" title=\"Link to this heading\">¶</a></h3>\n<p>Managers provide a way to create data which can be shared between different\nprocesses, including sharing over a network between processes running on\ndifferent machines. A manager object controls a server process which manages\n<em>shared objects</em>.  Other processes can access the shared objects by using\nproxies.</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.Manager\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Manager</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.Manager\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns a started <a class=\"reference internal\" href=\"#multiprocessing.managers.SyncManager\" title=\"multiprocessing.managers.SyncManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SyncManager</span></code></a> object which\ncan be used for sharing objects between processes.  The returned manager\nobject corresponds to a spawned child process and has methods which will\ncreate shared objects and return corresponding proxies.</p>\n</dd></dl>\n\n<p id=\"module-multiprocessing.managers\">Manager processes will be shutdown as soon as they are garbage collected or\ntheir parent process exits.  The manager classes are defined in the\n<a class=\"reference internal\" href=\"#module-multiprocessing.managers\" title=\"multiprocessing.managers: Share data between process with shared objects.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.managers</span></code></a> module:</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseManager\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.managers.</span></span><span class=\"sig-name descname\"><span class=\"pre\">BaseManager</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">address</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">authkey</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">serializer</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'pickle'</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ctx</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">shutdown_timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">1.0</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseManager\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a BaseManager object.</p>\n<p>Once created one should call <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager.start\" title=\"multiprocessing.managers.BaseManager.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">start()</span></code></a> or <code class=\"docutils literal notranslate\"><span class=\"pre\">get_server().serve_forever()</span></code> to ensure\nthat the manager object refers to a started manager process.</p>\n<p><em>address</em> is the address on which the manager process listens for new\nconnections.  If <em>address</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then an arbitrary one is chosen.</p>\n<p><em>authkey</em> is the authentication key which will be used to check the\nvalidity of incoming connections to the server process.  If\n<em>authkey</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then <code class=\"docutils literal notranslate\"><span class=\"pre\">current_process().authkey</span></code> is used.\nOtherwise <em>authkey</em> is used and it must be a byte string.</p>\n<p><em>serializer</em> must be <code class=\"docutils literal notranslate\"><span class=\"pre\">'pickle'</span></code> (use <a class=\"reference internal\" href=\"pickle.html#module-pickle\" title=\"pickle: Convert Python objects to streams of bytes and back.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">pickle</span></code></a> serialization) or\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'xmlrpclib'</span></code> (use <a class=\"reference internal\" href=\"xmlrpc.client.html#module-xmlrpc.client\" title=\"xmlrpc.client: XML-RPC client access.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">xmlrpc.client</span></code></a> serialization).</p>\n<p><em>ctx</em> is a context object, or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (use the current context). See the\n<code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">get_context()</span></code> function.</p>\n<p><em>shutdown_timeout</em> is a timeout in seconds used to wait until the process\nused by the manager completes in the <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager.shutdown\" title=\"multiprocessing.managers.BaseManager.shutdown\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">shutdown()</span></code></a> method. If the\nshutdown times out, the process is terminated. If terminating the process\nalso times out, the process is killed.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.11: </span>Added the <em>shutdown_timeout</em> parameter.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseManager.start\">\n<span class=\"sig-name descname\"><span class=\"pre\">start</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">initializer</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">initargs</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseManager.start\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Start a subprocess to start the manager.  If <em>initializer</em> is not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>\nthen the subprocess will call <code class=\"docutils literal notranslate\"><span class=\"pre\">initializer(*initargs)</span></code> when it starts.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseManager.get_server\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_server</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseManager.get_server\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Server</span></code> object which represents the actual server under\nthe control of the Manager. The <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Server</span></code> object supports the\n<code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">serve_forever()</span></code> method:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.managers</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">BaseManager</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">manager</span> <span class=\"o\">=</span> <span class=\"n\">BaseManager</span><span class=\"p\">(</span><span class=\"n\">address</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;&#39;</span><span class=\"p\">,</span> <span class=\"mi\">50000</span><span class=\"p\">),</span> <span class=\"n\">authkey</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">&#39;abc&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">server</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">get_server</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">server</span><span class=\"o\">.</span><span class=\"n\">serve_forever</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Server</span></code> additionally has an <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager.address\" title=\"multiprocessing.managers.BaseManager.address\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">address</span></code></a> attribute.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseManager.connect\">\n<span class=\"sig-name descname\"><span class=\"pre\">connect</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseManager.connect\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Connect a local manager object to a remote manager process:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.managers</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">BaseManager</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span> <span class=\"o\">=</span> <span class=\"n\">BaseManager</span><span class=\"p\">(</span><span class=\"n\">address</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;127.0.0.1&#39;</span><span class=\"p\">,</span> <span class=\"mi\">50000</span><span class=\"p\">),</span> <span class=\"n\">authkey</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">&#39;abc&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseManager.shutdown\">\n<span class=\"sig-name descname\"><span class=\"pre\">shutdown</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseManager.shutdown\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Stop the process used by the manager.  This is only available if\n<a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager.start\" title=\"multiprocessing.managers.BaseManager.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">start()</span></code></a> has been used to start the server process.</p>\n<p>This can be called multiple times.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseManager.register\">\n<span class=\"sig-name descname\"><span class=\"pre\">register</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typeid</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">callable</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">proxytype</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">exposed</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">method_to_typeid</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">create_method</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseManager.register\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A classmethod which can be used for registering a type or callable with\nthe manager class.</p>\n<p><em>typeid</em> is a “type identifier” which is used to identify a particular\ntype of shared object.  This must be a string.</p>\n<p><em>callable</em> is a callable used for creating objects for this type\nidentifier.  If a manager instance will be connected to the\nserver using the <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager.connect\" title=\"multiprocessing.managers.BaseManager.connect\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">connect()</span></code></a> method, or if the\n<em>create_method</em> argument is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> then this can be left as\n<code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n<p><em>proxytype</em> is a subclass of <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseProxy\" title=\"multiprocessing.managers.BaseProxy\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseProxy</span></code></a> which is used to create\nproxies for shared objects with this <em>typeid</em>.  If <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then a proxy\nclass is created automatically.</p>\n<p><em>exposed</em> is used to specify a sequence of method names which proxies for\nthis typeid should be allowed to access using\n<a class=\"reference internal\" href=\"#multiprocessing.managers.BaseProxy._callmethod\" title=\"multiprocessing.managers.BaseProxy._callmethod\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">BaseProxy._callmethod()</span></code></a>.  (If <em>exposed</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then\n<code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">proxytype._exposed_</span></code> is used instead if it exists.)  In the case\nwhere no exposed list is specified, all “public methods” of the shared\nobject will be accessible.  (Here a “public method” means any attribute\nwhich has a <a class=\"reference internal\" href=\"../reference/datamodel.html#object.__call__\" title=\"object.__call__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__call__()</span></code></a> method and whose name does not begin\nwith <code class=\"docutils literal notranslate\"><span class=\"pre\">'_'</span></code>.)</p>\n<p><em>method_to_typeid</em> is a mapping used to specify the return type of those\nexposed methods which should return a proxy.  It maps method names to\ntypeid strings.  (If <em>method_to_typeid</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then\n<code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">proxytype._method_to_typeid_</span></code> is used instead if it exists.)  If a\nmethod’s name is not a key of this mapping or if the mapping is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>\nthen the object returned by the method will be copied by value.</p>\n<p><em>create_method</em> determines whether a method should be created with name\n<em>typeid</em> which can be used to tell the server process to create a new\nshared object and return a proxy for it.  By default it is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</p>\n</dd></dl>\n\n<p><a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager\" title=\"multiprocessing.managers.BaseManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseManager</span></code></a> instances also have one read-only property:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseManager.address\">\n<span class=\"sig-name descname\"><span class=\"pre\">address</span></span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseManager.address\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The address used by the manager.</p>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>Manager objects support the context management protocol – see\n<a class=\"reference internal\" href=\"stdtypes.html#typecontextmanager\"><span class=\"std std-ref\">Context Manager Types</span></a>.  <a class=\"reference internal\" href=\"stdtypes.html#contextmanager.__enter__\" title=\"contextmanager.__enter__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__enter__()</span></code></a> starts the\nserver process (if it has not already started) and then returns the\nmanager object.  <a class=\"reference internal\" href=\"stdtypes.html#contextmanager.__exit__\" title=\"contextmanager.__exit__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__exit__()</span></code></a> calls <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager.shutdown\" title=\"multiprocessing.managers.BaseManager.shutdown\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">shutdown()</span></code></a>.</p>\n<p>In previous versions <a class=\"reference internal\" href=\"stdtypes.html#contextmanager.__enter__\" title=\"contextmanager.__enter__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__enter__()</span></code></a> did not start the\nmanager’s server process if it was not already started.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.managers.</span></span><span class=\"sig-name descname\"><span class=\"pre\">SyncManager</span></span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A subclass of <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager\" title=\"multiprocessing.managers.BaseManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseManager</span></code></a> which can be used for the synchronization\nof processes.  Objects of this type are returned by\n<a class=\"reference internal\" href=\"#multiprocessing.Manager\" title=\"multiprocessing.Manager\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">multiprocessing.Manager()</span></code></a>.</p>\n<p>Its methods create and return <a class=\"reference internal\" href=\"#multiprocessing-proxy-objects\"><span class=\"std std-ref\">Proxy Objects</span></a> for a\nnumber of commonly used data types to be synchronized across processes.\nThis notably includes shared lists and dictionaries.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.Barrier\">\n<span class=\"sig-name descname\"><span class=\"pre\">Barrier</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">parties</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">action</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.Barrier\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"threading.html#threading.Barrier\" title=\"threading.Barrier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Barrier</span></code></a> object and return a\nproxy for it.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.BoundedSemaphore\">\n<span class=\"sig-name descname\"><span class=\"pre\">BoundedSemaphore</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.BoundedSemaphore\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"threading.html#threading.BoundedSemaphore\" title=\"threading.BoundedSemaphore\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.BoundedSemaphore</span></code></a> object and return a\nproxy for it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.Condition\">\n<span class=\"sig-name descname\"><span class=\"pre\">Condition</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">lock</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.Condition\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"threading.html#threading.Condition\" title=\"threading.Condition\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Condition</span></code></a> object and return a proxy for\nit.</p>\n<p>If <em>lock</em> is supplied then it should be a proxy for a\n<a class=\"reference internal\" href=\"threading.html#threading.Lock\" title=\"threading.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Lock</span></code></a> or <a class=\"reference internal\" href=\"threading.html#threading.RLock\" title=\"threading.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.RLock</span></code></a> object.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>The <a class=\"reference internal\" href=\"threading.html#threading.Condition.wait_for\" title=\"threading.Condition.wait_for\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait_for()</span></code></a> method was added.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.Event\">\n<span class=\"sig-name descname\"><span class=\"pre\">Event</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.Event\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"threading.html#threading.Event\" title=\"threading.Event\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Event</span></code></a> object and return a proxy for it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.Lock\">\n<span class=\"sig-name descname\"><span class=\"pre\">Lock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.Lock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"threading.html#threading.Lock\" title=\"threading.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Lock</span></code></a> object and return a proxy for it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.Namespace\">\n<span class=\"sig-name descname\"><span class=\"pre\">Namespace</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.Namespace\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"#multiprocessing.managers.Namespace\" title=\"multiprocessing.managers.Namespace\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Namespace</span></code></a> object and return a proxy for it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.Queue\">\n<span class=\"sig-name descname\"><span class=\"pre\">Queue</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">maxsize</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.Queue\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"queue.html#queue.Queue\" title=\"queue.Queue\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">queue.Queue</span></code></a> object and return a proxy for it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.RLock\">\n<span class=\"sig-name descname\"><span class=\"pre\">RLock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.RLock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"threading.html#threading.RLock\" title=\"threading.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.RLock</span></code></a> object and return a proxy for it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.Semaphore\">\n<span class=\"sig-name descname\"><span class=\"pre\">Semaphore</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.Semaphore\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"threading.html#threading.Semaphore\" title=\"threading.Semaphore\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Semaphore</span></code></a> object and return a proxy for\nit.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.Array\">\n<span class=\"sig-name descname\"><span class=\"pre\">Array</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typecode</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sequence</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.Array\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create an array and return a proxy for it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.Value\">\n<span class=\"sig-name descname\"><span class=\"pre\">Value</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">typecode</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.Value\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create an object with a writable <code class=\"docutils literal notranslate\"><span class=\"pre\">value</span></code> attribute and return a proxy\nfor it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.dict\">\n<span class=\"sig-name descname\"><span class=\"pre\">dict</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.dict\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\">\n<span class=\"sig-name descname\"><span class=\"pre\">dict</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">mapping</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dt class=\"sig sig-object py\">\n<span class=\"sig-name descname\"><span class=\"pre\">dict</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sequence</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> object and return a proxy for it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.list\">\n<span class=\"sig-name descname\"><span class=\"pre\">list</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.list\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\">\n<span class=\"sig-name descname\"><span class=\"pre\">list</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sequence</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> object and return a proxy for it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.SyncManager.set\">\n<span class=\"sig-name descname\"><span class=\"pre\">set</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.SyncManager.set\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\">\n<span class=\"sig-name descname\"><span class=\"pre\">set</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sequence</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dt class=\"sig sig-object py\">\n<span class=\"sig-name descname\"><span class=\"pre\">set</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">mapping</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dd><p>Create a shared <a class=\"reference internal\" href=\"stdtypes.html#set\" title=\"set\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">set</span></code></a> object and return a proxy for it.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14: </span><a class=\"reference internal\" href=\"stdtypes.html#set\" title=\"set\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">set</span></code></a> support was added.</p>\n</div>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span>Shared objects are capable of being nested.  For example, a shared\ncontainer object such as a shared list can contain other shared objects\nwhich will all be managed and synchronized by the <a class=\"reference internal\" href=\"#multiprocessing.managers.SyncManager\" title=\"multiprocessing.managers.SyncManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SyncManager</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.Namespace\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.managers.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Namespace</span></span><a class=\"headerlink\" href=\"#multiprocessing.managers.Namespace\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A type that can register with <a class=\"reference internal\" href=\"#multiprocessing.managers.SyncManager\" title=\"multiprocessing.managers.SyncManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SyncManager</span></code></a>.</p>\n<p>A namespace object has no public methods, but does have writable attributes.\nIts representation shows the values of its attributes.</p>\n<p>However, when using a proxy for a namespace object, an attribute beginning\nwith <code class=\"docutils literal notranslate\"><span class=\"pre\">'_'</span></code> will be an attribute of the proxy and not an attribute of the\nreferent:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mp_context</span> <span class=\"o\">=</span> <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">get_context</span><span class=\"p\">(</span><span class=\"s1\">&#39;spawn&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">manager</span> <span class=\"o\">=</span> <span class=\"n\">mp_context</span><span class=\"o\">.</span><span class=\"n\">Manager</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Global</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">Namespace</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Global</span><span class=\"o\">.</span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Global</span><span class=\"o\">.</span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;hello&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Global</span><span class=\"o\">.</span><span class=\"n\">_z</span> <span class=\"o\">=</span> <span class=\"mf\">12.3</span>    <span class=\"c1\"># this is an attribute of the proxy</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">Global</span><span class=\"p\">)</span>\n<span class=\"go\">Namespace(x=10, y=&#39;hello&#39;)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<section id=\"customized-managers\">\n<h4>Customized managers<a class=\"headerlink\" href=\"#customized-managers\" title=\"Link to this heading\">¶</a></h4>\n<p>To create one’s own manager, one creates a subclass of <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager\" title=\"multiprocessing.managers.BaseManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseManager</span></code></a> and\nuses the <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager.register\" title=\"multiprocessing.managers.BaseManager.register\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">register()</span></code></a> classmethod to register new types or\ncallables with the manager class.  For example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.managers</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">BaseManager</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MathsClass</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">add</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"n\">y</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">mul</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">x</span> <span class=\"o\">*</span> <span class=\"n\">y</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MyManager</span><span class=\"p\">(</span><span class=\"n\">BaseManager</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n<span class=\"n\">MyManager</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"s1\">&#39;Maths&#39;</span><span class=\"p\">,</span> <span class=\"n\">MathsClass</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"k\">with</span> <span class=\"n\">MyManager</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">manager</span><span class=\"p\">:</span>\n        <span class=\"n\">maths</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">Maths</span><span class=\"p\">()</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">maths</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">))</span>         <span class=\"c1\"># prints 7</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">maths</span><span class=\"o\">.</span><span class=\"n\">mul</span><span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">))</span>         <span class=\"c1\"># prints 56</span>\n</pre></div>\n</div>\n</section>\n<section id=\"using-a-remote-manager\">\n<h4>Using a remote manager<a class=\"headerlink\" href=\"#using-a-remote-manager\" title=\"Link to this heading\">¶</a></h4>\n<p>It is possible to run a manager server on one machine and have clients use it\nfrom other machines (assuming that the firewalls involved allow it).</p>\n<p>Running the following commands creates a server for a single shared queue which\nremote clients can access:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.managers</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">BaseManager</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">queue</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Queue</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">queue</span> <span class=\"o\">=</span> <span class=\"n\">Queue</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">QueueManager</span><span class=\"p\">(</span><span class=\"n\">BaseManager</span><span class=\"p\">):</span> <span class=\"k\">pass</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">QueueManager</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"s1\">&#39;get_queue&#39;</span><span class=\"p\">,</span> <span class=\"nb\">callable</span><span class=\"o\">=</span><span class=\"k\">lambda</span><span class=\"p\">:</span><span class=\"n\">queue</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span> <span class=\"o\">=</span> <span class=\"n\">QueueManager</span><span class=\"p\">(</span><span class=\"n\">address</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;&#39;</span><span class=\"p\">,</span> <span class=\"mi\">50000</span><span class=\"p\">),</span> <span class=\"n\">authkey</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">&#39;abracadabra&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">get_server</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">serve_forever</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>One client can access the server as follows:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.managers</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">BaseManager</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">QueueManager</span><span class=\"p\">(</span><span class=\"n\">BaseManager</span><span class=\"p\">):</span> <span class=\"k\">pass</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">QueueManager</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"s1\">&#39;get_queue&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span> <span class=\"o\">=</span> <span class=\"n\">QueueManager</span><span class=\"p\">(</span><span class=\"n\">address</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;foo.bar.org&#39;</span><span class=\"p\">,</span> <span class=\"mi\">50000</span><span class=\"p\">),</span> <span class=\"n\">authkey</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">&#39;abracadabra&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">queue</span> <span class=\"o\">=</span> <span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">get_queue</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">queue</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Another client can also use it:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.managers</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">BaseManager</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">QueueManager</span><span class=\"p\">(</span><span class=\"n\">BaseManager</span><span class=\"p\">):</span> <span class=\"k\">pass</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">QueueManager</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"s1\">&#39;get_queue&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span> <span class=\"o\">=</span> <span class=\"n\">QueueManager</span><span class=\"p\">(</span><span class=\"n\">address</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;foo.bar.org&#39;</span><span class=\"p\">,</span> <span class=\"mi\">50000</span><span class=\"p\">),</span> <span class=\"n\">authkey</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">&#39;abracadabra&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">queue</span> <span class=\"o\">=</span> <span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">get_queue</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">queue</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">()</span>\n<span class=\"go\">&#39;hello&#39;</span>\n</pre></div>\n</div>\n<p>Local processes can also access that queue, using the code from above on the\nclient to access it remotely:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Queue</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.managers</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">BaseManager</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Worker</span><span class=\"p\">(</span><span class=\"n\">Process</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">q</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">q</span> <span class=\"o\">=</span> <span class=\"n\">q</span>\n<span class=\"gp\">... </span>        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">()</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">run</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">q</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"s1\">&#39;local hello&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">queue</span> <span class=\"o\">=</span> <span class=\"n\">Queue</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">w</span> <span class=\"o\">=</span> <span class=\"n\">Worker</span><span class=\"p\">(</span><span class=\"n\">queue</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">w</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">QueueManager</span><span class=\"p\">(</span><span class=\"n\">BaseManager</span><span class=\"p\">):</span> <span class=\"k\">pass</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">QueueManager</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"s1\">&#39;get_queue&#39;</span><span class=\"p\">,</span> <span class=\"nb\">callable</span><span class=\"o\">=</span><span class=\"k\">lambda</span><span class=\"p\">:</span> <span class=\"n\">queue</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span> <span class=\"o\">=</span> <span class=\"n\">QueueManager</span><span class=\"p\">(</span><span class=\"n\">address</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;&#39;</span><span class=\"p\">,</span> <span class=\"mi\">50000</span><span class=\"p\">),</span> <span class=\"n\">authkey</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">&#39;abracadabra&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">get_server</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">serve_forever</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n</section>\n<section id=\"proxy-objects\">\n<span id=\"multiprocessing-proxy-objects\"></span><h3>Proxy Objects<a class=\"headerlink\" href=\"#proxy-objects\" title=\"Link to this heading\">¶</a></h3>\n<p>A proxy is an object which <em>refers</em> to a shared object which lives (presumably)\nin a different process.  The shared object is said to be the <em>referent</em> of the\nproxy.  Multiple proxy objects may have the same referent.</p>\n<p>A proxy object has methods which invoke corresponding methods of its referent\n(although not every method of the referent will necessarily be available through\nthe proxy).  In this way, a proxy can be used just like its referent can:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mp_context</span> <span class=\"o\">=</span> <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">get_context</span><span class=\"p\">(</span><span class=\"s1\">&#39;spawn&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">manager</span> <span class=\"o\">=</span> <span class=\"n\">mp_context</span><span class=\"o\">.</span><span class=\"n\">Manager</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">([</span><span class=\"n\">i</span><span class=\"o\">*</span><span class=\"n\">i</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">l</span><span class=\"p\">)</span>\n<span class=\"go\">[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">repr</span><span class=\"p\">(</span><span class=\"n\">l</span><span class=\"p\">))</span>\n<span class=\"go\">&lt;ListProxy object, typeid &#39;list&#39; at 0x...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]</span>\n<span class=\"go\">16</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">:</span><span class=\"mi\">5</span><span class=\"p\">]</span>\n<span class=\"go\">[4, 9, 16]</span>\n</pre></div>\n</div>\n<p>Notice that applying <a class=\"reference internal\" href=\"stdtypes.html#str\" title=\"str\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">str()</span></code></a> to a proxy will return the representation of\nthe referent, whereas applying <a class=\"reference internal\" href=\"functions.html#repr\" title=\"repr\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">repr()</span></code></a> will return the representation of\nthe proxy.</p>\n<p>An important feature of proxy objects is that they are picklable so they can be\npassed between processes.  As such, a referent can contain\n<a class=\"reference internal\" href=\"#multiprocessing-proxy-objects\"><span class=\"std std-ref\">Proxy Objects</span></a>.  This permits nesting of these managed\nlists, dicts, and other <a class=\"reference internal\" href=\"#multiprocessing-proxy-objects\"><span class=\"std std-ref\">Proxy Objects</span></a>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">)</span>         <span class=\"c1\"># referent of a now contains referent of b</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">)</span>\n<span class=\"go\">[&lt;ListProxy object, typeid &#39;list&#39; at ...&gt;] []</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">b</span><span class=\"p\">)</span>\n<span class=\"go\">[&#39;hello&#39;] [&#39;hello&#39;]</span>\n</pre></div>\n</div>\n<p>Similarly, dict and list proxies may be nested inside one another:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l_outer</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">([</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">dict</span><span class=\"p\">()</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d_first_inner</span> <span class=\"o\">=</span> <span class=\"n\">l_outer</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d_first_inner</span><span class=\"p\">[</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">d_first_inner</span><span class=\"p\">[</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l_outer</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">][</span><span class=\"s1\">&#39;c&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">3</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l_outer</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">][</span><span class=\"s1\">&#39;z&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">26</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">l_outer</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"go\">{&#39;a&#39;: 1, &#39;b&#39;: 2}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">l_outer</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"go\">{&#39;c&#39;: 3, &#39;z&#39;: 26}</span>\n</pre></div>\n</div>\n<p>If standard (non-proxy) <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> or <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a> objects are contained\nin a referent, modifications to those mutable values will not be propagated\nthrough the manager because the proxy has no way of knowing when the values\ncontained within are modified.  However, storing a value in a container proxy\n(which triggers a <code class=\"docutils literal notranslate\"><span class=\"pre\">__setitem__</span></code> on the proxy object) does propagate through\nthe manager and so to effectively modify such an item, one could re-assign the\nmodified value to the container proxy:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># create a list proxy and append a mutable object (a dictionary)</span>\n<span class=\"n\">lproxy</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">()</span>\n<span class=\"n\">lproxy</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">({})</span>\n<span class=\"c1\"># now mutate the dictionary</span>\n<span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">lproxy</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">2</span>\n<span class=\"c1\"># at this point, the changes to d are not yet synced, but by</span>\n<span class=\"c1\"># updating the dictionary, the proxy is notified of the change</span>\n<span class=\"n\">lproxy</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">d</span>\n</pre></div>\n</div>\n<p>This approach is perhaps less convenient than employing nested\n<a class=\"reference internal\" href=\"#multiprocessing-proxy-objects\"><span class=\"std std-ref\">Proxy Objects</span></a> for most use cases but also\ndemonstrates a level of control over the synchronization.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The proxy types in <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> do nothing to support comparisons\nby value.  So, for instance, we have:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">])</span> <span class=\"o\">==</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]</span>\n<span class=\"go\">False</span>\n</pre></div>\n</div>\n<p>One should just use a copy of the referent instead when making comparisons.</p>\n</div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseProxy\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.managers.</span></span><span class=\"sig-name descname\"><span class=\"pre\">BaseProxy</span></span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseProxy\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Proxy objects are instances of subclasses of <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseProxy\" title=\"multiprocessing.managers.BaseProxy\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseProxy</span></code></a>.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseProxy._callmethod\">\n<span class=\"sig-name descname\"><span class=\"pre\">_callmethod</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">methodname</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">args</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">kwds</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseProxy._callmethod\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Call and return the result of a method of the proxy’s referent.</p>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">proxy</span></code> is a proxy whose referent is <code class=\"docutils literal notranslate\"><span class=\"pre\">obj</span></code> then the expression</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">proxy</span><span class=\"o\">.</span><span class=\"n\">_callmethod</span><span class=\"p\">(</span><span class=\"n\">methodname</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"n\">kwds</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>will evaluate the expression</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">obj</span><span class=\"p\">,</span> <span class=\"n\">methodname</span><span class=\"p\">)(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwds</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>in the manager’s process.</p>\n<p>The returned value will be a copy of the result of the call or a proxy to\na new shared object – see documentation for the <em>method_to_typeid</em>\nargument of <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseManager.register\" title=\"multiprocessing.managers.BaseManager.register\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">BaseManager.register()</span></code></a>.</p>\n<p>If an exception is raised by the call, then is re-raised by\n<a class=\"reference internal\" href=\"#multiprocessing.managers.BaseProxy._callmethod\" title=\"multiprocessing.managers.BaseProxy._callmethod\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">_callmethod()</span></code></a>.  If some other exception is raised in the manager’s\nprocess then this is converted into a <code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RemoteError</span></code> exception and is\nraised by <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseProxy._callmethod\" title=\"multiprocessing.managers.BaseProxy._callmethod\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">_callmethod()</span></code></a>.</p>\n<p>Note in particular that an exception will be raised if <em>methodname</em> has\nnot been <em>exposed</em>.</p>\n<p>An example of the usage of <a class=\"reference internal\" href=\"#multiprocessing.managers.BaseProxy._callmethod\" title=\"multiprocessing.managers.BaseProxy._callmethod\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">_callmethod()</span></code></a>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l</span><span class=\"o\">.</span><span class=\"n\">_callmethod</span><span class=\"p\">(</span><span class=\"s1\">&#39;__len__&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l</span><span class=\"o\">.</span><span class=\"n\">_callmethod</span><span class=\"p\">(</span><span class=\"s1\">&#39;__getitem__&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nb\">slice</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">),))</span> <span class=\"c1\"># equivalent to l[2:7]</span>\n<span class=\"go\">[2, 3, 4, 5, 6]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l</span><span class=\"o\">.</span><span class=\"n\">_callmethod</span><span class=\"p\">(</span><span class=\"s1\">&#39;__getitem__&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">,))</span>          <span class=\"c1\"># equivalent to l[20]</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"c\">...</span>\n<span class=\"gr\">IndexError</span>: <span class=\"n\">list index out of range</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseProxy._getvalue\">\n<span class=\"sig-name descname\"><span class=\"pre\">_getvalue</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseProxy._getvalue\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a copy of the referent.</p>\n<p>If the referent is unpicklable then this will raise an exception.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseProxy.__repr__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__repr__</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseProxy.__repr__\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a representation of the proxy object.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.managers.BaseProxy.__str__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__str__</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.managers.BaseProxy.__str__\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the representation of the referent.</p>\n</dd></dl>\n\n</dd></dl>\n\n<section id=\"cleanup\">\n<h4>Cleanup<a class=\"headerlink\" href=\"#cleanup\" title=\"Link to this heading\">¶</a></h4>\n<p>A proxy object uses a weakref callback so that when it gets garbage collected it\nderegisters itself from the manager which owns its referent.</p>\n<p>A shared object gets deleted from the manager process when there are no longer\nany proxies referring to it.</p>\n</section>\n</section>\n<section id=\"module-multiprocessing.pool\">\n<span id=\"process-pools\"></span><h3>Process Pools<a class=\"headerlink\" href=\"#module-multiprocessing.pool\" title=\"Link to this heading\">¶</a></h3>\n<p>One can create a pool of processes which will carry out tasks submitted to it\nwith the <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a> class.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.pool.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Pool</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">processes</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">initializer</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">initargs</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">maxtasksperchild</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">context</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A process pool object which controls a pool of worker processes to which jobs\ncan be submitted.  It supports asynchronous results with timeouts and\ncallbacks and has a parallel map implementation.</p>\n<p><em>processes</em> is the number of worker processes to use.  If <em>processes</em> is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then the number returned by <a class=\"reference internal\" href=\"os.html#os.process_cpu_count\" title=\"os.process_cpu_count\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.process_cpu_count()</span></code></a> is used.</p>\n<p>If <em>initializer</em> is not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then each worker process will call\n<code class=\"docutils literal notranslate\"><span class=\"pre\">initializer(*initargs)</span></code> when it starts.</p>\n<p><em>maxtasksperchild</em> is the number of tasks a worker process can complete\nbefore it will exit and be replaced with a fresh worker process, to enable\nunused resources to be freed. The default <em>maxtasksperchild</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, which\nmeans worker processes will live as long as the pool.</p>\n<p><em>context</em> can be used to specify the context used for starting\nthe worker processes.  Usually a pool is created using the\nfunction <code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">multiprocessing.Pool()</span></code> or the <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Pool()</span></code></a> method\nof a context object.  In both cases <em>context</em> is set\nappropriately.</p>\n<p>Note that the methods of the pool object should only be called by\nthe process which created the pool.</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p><a class=\"reference internal\" href=\"#module-multiprocessing.pool\" title=\"multiprocessing.pool: Create pools of processes.\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">multiprocessing.pool</span></code></a> objects have internal resources that need to be\nproperly managed (like any other resource) by using the pool as a context manager\nor by calling <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.close\" title=\"multiprocessing.pool.Pool.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.terminate\" title=\"multiprocessing.pool.Pool.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">terminate()</span></code></a> manually. Failure to do this\ncan lead to the process hanging on finalization.</p>\n<p>Note that it is <strong>not correct</strong> to rely on the garbage collector to destroy the pool\nas CPython does not assure that the finalizer of the pool will be called\n(see <a class=\"reference internal\" href=\"../reference/datamodel.html#object.__del__\" title=\"object.__del__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">object.__del__()</span></code></a> for more information).</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.2: </span>Added the <em>maxtasksperchild</em> parameter.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.4: </span>Added the <em>context</em> parameter.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span><em>processes</em> uses <a class=\"reference internal\" href=\"os.html#os.process_cpu_count\" title=\"os.process_cpu_count\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.process_cpu_count()</span></code></a> by default, instead of\n<a class=\"reference internal\" href=\"os.html#os.cpu_count\" title=\"os.cpu_count\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.cpu_count()</span></code></a>.</p>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Worker processes within a <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a> typically live for the complete\nduration of the Pool’s work queue. A frequent pattern found in other\nsystems (such as Apache, mod_wsgi, etc) to free resources held by\nworkers is to allow a worker within a pool to complete only a set\namount of work before being exiting, being cleaned up and a new\nprocess spawned to replace the old one. The <em>maxtasksperchild</em>\nargument to the <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a> exposes this ability to the end user.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.apply\">\n<span class=\"sig-name descname\"><span class=\"pre\">apply</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">args</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">kwds</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.apply\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Call <em>func</em> with arguments <em>args</em> and keyword arguments <em>kwds</em>.  It blocks\nuntil the result is ready. Given this blocks, <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.apply_async\" title=\"multiprocessing.pool.Pool.apply_async\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">apply_async()</span></code></a> is\nbetter suited for performing work in parallel. Additionally, <em>func</em>\nis only executed in one of the workers of the pool.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.apply_async\">\n<span class=\"sig-name descname\"><span class=\"pre\">apply_async</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">args</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">kwds</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">callback</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">error_callback</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.apply_async\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A variant of the <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.apply\" title=\"multiprocessing.pool.Pool.apply\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">apply()</span></code></a> method which returns a\n<a class=\"reference internal\" href=\"#multiprocessing.pool.AsyncResult\" title=\"multiprocessing.pool.AsyncResult\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsyncResult</span></code></a> object.</p>\n<p>If <em>callback</em> is specified then it should be a callable which accepts a\nsingle argument.  When the result becomes ready <em>callback</em> is applied to\nit, that is unless the call failed, in which case the <em>error_callback</em>\nis applied instead.</p>\n<p>If <em>error_callback</em> is specified then it should be a callable which\naccepts a single argument.  If the target function fails, then\nthe <em>error_callback</em> is called with the exception instance.</p>\n<p>Callbacks should complete immediately since otherwise the thread which\nhandles the results will get blocked.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.map\">\n<span class=\"sig-name descname\"><span class=\"pre\">map</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">chunksize</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.map\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A parallel equivalent of the <a class=\"reference internal\" href=\"functions.html#map\" title=\"map\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">map()</span></code></a> built-in function (it supports only\none <em>iterable</em> argument though, for multiple iterables see <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.starmap\" title=\"multiprocessing.pool.Pool.starmap\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">starmap()</span></code></a>).\nIt blocks until the result is ready.</p>\n<p>This method chops the iterable into a number of chunks which it submits to\nthe process pool as separate tasks.  The (approximate) size of these\nchunks can be specified by setting <em>chunksize</em> to a positive integer.</p>\n<p>Note that it may cause high memory usage for very long iterables. Consider\nusing <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.imap\" title=\"multiprocessing.pool.Pool.imap\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">imap()</span></code></a> or <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.imap_unordered\" title=\"multiprocessing.pool.Pool.imap_unordered\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">imap_unordered()</span></code></a> with explicit <em>chunksize</em>\noption for better efficiency.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.map_async\">\n<span class=\"sig-name descname\"><span class=\"pre\">map_async</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">chunksize</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">callback</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">error_callback</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.map_async\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A variant of the <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.map\" title=\"multiprocessing.pool.Pool.map\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">map()</span></code></a> method which returns a\n<a class=\"reference internal\" href=\"#multiprocessing.pool.AsyncResult\" title=\"multiprocessing.pool.AsyncResult\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsyncResult</span></code></a> object.</p>\n<p>If <em>callback</em> is specified then it should be a callable which accepts a\nsingle argument.  When the result becomes ready <em>callback</em> is applied to\nit, that is unless the call failed, in which case the <em>error_callback</em>\nis applied instead.</p>\n<p>If <em>error_callback</em> is specified then it should be a callable which\naccepts a single argument.  If the target function fails, then\nthe <em>error_callback</em> is called with the exception instance.</p>\n<p>Callbacks should complete immediately since otherwise the thread which\nhandles the results will get blocked.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.imap\">\n<span class=\"sig-name descname\"><span class=\"pre\">imap</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">chunksize</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.imap\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A lazier version of <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.map\" title=\"multiprocessing.pool.Pool.map\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">map()</span></code></a>.</p>\n<p>The <em>chunksize</em> argument is the same as the one used by the <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.map\" title=\"multiprocessing.pool.Pool.map\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">map()</span></code></a>\nmethod.  For very long iterables using a large value for <em>chunksize</em> can\nmake the job complete <strong>much</strong> faster than using the default value of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>.</p>\n<p>Also if <em>chunksize</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code> then the <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">next()</span></code> method of the iterator\nreturned by the <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.imap\" title=\"multiprocessing.pool.Pool.imap\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">imap()</span></code></a> method has an optional <em>timeout</em> parameter:\n<code class=\"docutils literal notranslate\"><span class=\"pre\">next(timeout)</span></code> will raise <a class=\"reference internal\" href=\"#multiprocessing.TimeoutError\" title=\"multiprocessing.TimeoutError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">multiprocessing.TimeoutError</span></code></a> if the\nresult cannot be returned within <em>timeout</em> seconds.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.imap_unordered\">\n<span class=\"sig-name descname\"><span class=\"pre\">imap_unordered</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">chunksize</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.imap_unordered\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The same as <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.imap\" title=\"multiprocessing.pool.Pool.imap\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">imap()</span></code></a> except that the ordering of the results from the\nreturned iterator should be considered arbitrary.  (Only when there is\nonly one worker process is the order guaranteed to be “correct”.)</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.starmap\">\n<span class=\"sig-name descname\"><span class=\"pre\">starmap</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">chunksize</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.starmap\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Like <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.map\" title=\"multiprocessing.pool.Pool.map\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">map()</span></code></a> except that the\nelements of the <em>iterable</em> are expected to be iterables that are\nunpacked as arguments.</p>\n<p>Hence an <em>iterable</em> of <code class=\"docutils literal notranslate\"><span class=\"pre\">[(1,2),</span> <span class=\"pre\">(3,</span> <span class=\"pre\">4)]</span></code> results in <code class=\"docutils literal notranslate\"><span class=\"pre\">[func(1,2),</span>\n<span class=\"pre\">func(3,4)]</span></code>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.starmap_async\">\n<span class=\"sig-name descname\"><span class=\"pre\">starmap_async</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iterable</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">chunksize</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">callback</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">error_callback</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.starmap_async\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A combination of <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.starmap\" title=\"multiprocessing.pool.Pool.starmap\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">starmap()</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.map_async\" title=\"multiprocessing.pool.Pool.map_async\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">map_async()</span></code></a> that iterates over\n<em>iterable</em> of iterables and calls <em>func</em> with the iterables unpacked.\nReturns a result object.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Prevents any more tasks from being submitted to the pool.  Once all the\ntasks have been completed the worker processes will exit.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.terminate\">\n<span class=\"sig-name descname\"><span class=\"pre\">terminate</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.terminate\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Stops the worker processes immediately without completing outstanding\nwork.  When the pool object is garbage collected <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.terminate\" title=\"multiprocessing.pool.Pool.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">terminate()</span></code></a> will be\ncalled immediately.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.Pool.join\">\n<span class=\"sig-name descname\"><span class=\"pre\">join</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.Pool.join\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Wait for the worker processes to exit.  One must call <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.close\" title=\"multiprocessing.pool.Pool.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> or\n<a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.terminate\" title=\"multiprocessing.pool.Pool.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">terminate()</span></code></a> before using <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.join\" title=\"multiprocessing.pool.Pool.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a>.</p>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>Pool objects now support the context management protocol – see\n<a class=\"reference internal\" href=\"stdtypes.html#typecontextmanager\"><span class=\"std std-ref\">Context Manager Types</span></a>.  <a class=\"reference internal\" href=\"stdtypes.html#contextmanager.__enter__\" title=\"contextmanager.__enter__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__enter__()</span></code></a> returns the\npool object, and <a class=\"reference internal\" href=\"stdtypes.html#contextmanager.__exit__\" title=\"contextmanager.__exit__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__exit__()</span></code></a> calls <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.terminate\" title=\"multiprocessing.pool.Pool.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">terminate()</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.AsyncResult\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.pool.</span></span><span class=\"sig-name descname\"><span class=\"pre\">AsyncResult</span></span><a class=\"headerlink\" href=\"#multiprocessing.pool.AsyncResult\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The class of the result returned by <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.apply_async\" title=\"multiprocessing.pool.Pool.apply_async\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Pool.apply_async()</span></code></a> and\n<a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.map_async\" title=\"multiprocessing.pool.Pool.map_async\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Pool.map_async()</span></code></a>.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.AsyncResult.get\">\n<span class=\"sig-name descname\"><span class=\"pre\">get</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.AsyncResult.get\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the result when it arrives.  If <em>timeout</em> is not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> and the\nresult does not arrive within <em>timeout</em> seconds then\n<a class=\"reference internal\" href=\"#multiprocessing.TimeoutError\" title=\"multiprocessing.TimeoutError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">multiprocessing.TimeoutError</span></code></a> is raised.  If the remote call raised\nan exception then that exception will be reraised by <a class=\"reference internal\" href=\"#multiprocessing.pool.AsyncResult.get\" title=\"multiprocessing.pool.AsyncResult.get\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get()</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.AsyncResult.wait\">\n<span class=\"sig-name descname\"><span class=\"pre\">wait</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.AsyncResult.wait\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Wait until the result is available or until <em>timeout</em> seconds pass.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.AsyncResult.ready\">\n<span class=\"sig-name descname\"><span class=\"pre\">ready</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.AsyncResult.ready\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return whether the call has completed.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.AsyncResult.successful\">\n<span class=\"sig-name descname\"><span class=\"pre\">successful</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.AsyncResult.successful\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return whether the call completed without raising an exception.  Will\nraise <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> if the result is not ready.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.7: </span>If the result is not ready, <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised instead of\n<a class=\"reference internal\" href=\"exceptions.html#AssertionError\" title=\"AssertionError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AssertionError</span></code></a>.</p>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n<p>The following example demonstrates the use of a pool:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Pool</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">time</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">x</span><span class=\"o\">*</span><span class=\"n\">x</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"k\">with</span> <span class=\"n\">Pool</span><span class=\"p\">(</span><span class=\"n\">processes</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">pool</span><span class=\"p\">:</span>         <span class=\"c1\"># start 4 worker processes</span>\n        <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">apply_async</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,))</span> <span class=\"c1\"># evaluate &quot;f(10)&quot; asynchronously in a single process</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">))</span>        <span class=\"c1\"># prints &quot;100&quot; unless your computer is *very* slow</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)))</span>       <span class=\"c1\"># prints &quot;[0, 1, 4,..., 81]&quot;</span>\n\n        <span class=\"n\">it</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">imap</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">))</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">next</span><span class=\"p\">(</span><span class=\"n\">it</span><span class=\"p\">))</span>                     <span class=\"c1\"># prints &quot;0&quot;</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">next</span><span class=\"p\">(</span><span class=\"n\">it</span><span class=\"p\">))</span>                     <span class=\"c1\"># prints &quot;1&quot;</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">it</span><span class=\"o\">.</span><span class=\"n\">next</span><span class=\"p\">(</span><span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">))</span>           <span class=\"c1\"># prints &quot;4&quot; unless your computer is *very* slow</span>\n\n        <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">apply_async</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,))</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">))</span>        <span class=\"c1\"># raises multiprocessing.TimeoutError</span>\n</pre></div>\n</div>\n</section>\n<section id=\"module-multiprocessing.connection\">\n<span id=\"listeners-and-clients\"></span><span id=\"multiprocessing-listeners-clients\"></span><h3>Listeners and Clients<a class=\"headerlink\" href=\"#module-multiprocessing.connection\" title=\"Link to this heading\">¶</a></h3>\n<p>Usually message passing between processes is done using queues or by using\n<a class=\"reference internal\" href=\"#multiprocessing.connection.Connection\" title=\"multiprocessing.connection.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> objects returned by\n<a class=\"reference internal\" href=\"#multiprocessing.Pipe\" title=\"multiprocessing.Pipe\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Pipe()</span></code></a>.</p>\n<p>However, the <a class=\"reference internal\" href=\"#module-multiprocessing.connection\" title=\"multiprocessing.connection: API for dealing with sockets.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.connection</span></code></a> module allows some extra\nflexibility.  It basically gives a high level message oriented API for dealing\nwith sockets or Windows named pipes.  It also has support for <em>digest\nauthentication</em> using the <a class=\"reference internal\" href=\"hmac.html#module-hmac\" title=\"hmac: Keyed-Hashing for Message Authentication (HMAC) implementation\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">hmac</span></code></a> module, and for polling\nmultiple connections at the same time.</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.deliver_challenge\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.connection.</span></span><span class=\"sig-name descname\"><span class=\"pre\">deliver_challenge</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">connection</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">authkey</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.deliver_challenge\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Send a randomly generated message to the other end of the connection and wait\nfor a reply.</p>\n<p>If the reply matches the digest of the message using <em>authkey</em> as the key\nthen a welcome message is sent to the other end of the connection.  Otherwise\n<a class=\"reference internal\" href=\"#multiprocessing.AuthenticationError\" title=\"multiprocessing.AuthenticationError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AuthenticationError</span></code></a> is raised.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.answer_challenge\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.connection.</span></span><span class=\"sig-name descname\"><span class=\"pre\">answer_challenge</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">connection</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">authkey</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.answer_challenge\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Receive a message, calculate the digest of the message using <em>authkey</em> as the\nkey, and then send the digest back.</p>\n<p>If a welcome message is not received, then\n<a class=\"reference internal\" href=\"#multiprocessing.AuthenticationError\" title=\"multiprocessing.AuthenticationError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AuthenticationError</span></code></a> is raised.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Client\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.connection.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Client</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">address</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">family</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">authkey</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Client\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Attempt to set up a connection to the listener which is using address\n<em>address</em>, returning a <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection\" title=\"multiprocessing.connection.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a>.</p>\n<p>The type of the connection is determined by <em>family</em> argument, but this can\ngenerally be omitted since it can usually be inferred from the format of\n<em>address</em>. (See <a class=\"reference internal\" href=\"#multiprocessing-address-formats\"><span class=\"std std-ref\">Address Formats</span></a>)</p>\n<p>If <em>authkey</em> is given and not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, it should be a byte string and will be\nused as the secret key for an HMAC-based authentication challenge. No\nauthentication is done if <em>authkey</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.\n<a class=\"reference internal\" href=\"#multiprocessing.AuthenticationError\" title=\"multiprocessing.AuthenticationError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AuthenticationError</span></code></a> is raised if authentication fails.\nSee <a class=\"reference internal\" href=\"#multiprocessing-auth-keys\"><span class=\"std std-ref\">Authentication keys</span></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Listener\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.connection.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Listener</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">address</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">family</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">backlog</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">authkey</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Listener\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A wrapper for a bound socket or Windows named pipe which is ‘listening’ for\nconnections.</p>\n<p><em>address</em> is the address to be used by the bound socket or named pipe of the\nlistener object.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>If an address of ‘0.0.0.0’ is used, the address will not be a connectable\nend point on Windows. If you require a connectable end-point,\nyou should use ‘127.0.0.1’.</p>\n</div>\n<p><em>family</em> is the type of socket (or named pipe) to use.  This can be one of\nthe strings <code class=\"docutils literal notranslate\"><span class=\"pre\">'AF_INET'</span></code> (for a TCP socket), <code class=\"docutils literal notranslate\"><span class=\"pre\">'AF_UNIX'</span></code> (for a Unix\ndomain socket) or <code class=\"docutils literal notranslate\"><span class=\"pre\">'AF_PIPE'</span></code> (for a Windows named pipe).  Of these only\nthe first is guaranteed to be available.  If <em>family</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then the\nfamily is inferred from the format of <em>address</em>.  If <em>address</em> is also\n<code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then a default is chosen.  This default is the family which is\nassumed to be the fastest available.  See\n<a class=\"reference internal\" href=\"#multiprocessing-address-formats\"><span class=\"std std-ref\">Address Formats</span></a>.  Note that if <em>family</em> is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'AF_UNIX'</span></code> and address is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then the socket will be created in a\nprivate temporary directory created using <a class=\"reference internal\" href=\"tempfile.html#tempfile.mkstemp\" title=\"tempfile.mkstemp\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">tempfile.mkstemp()</span></code></a>.</p>\n<p>If the listener object uses a socket then <em>backlog</em> (1 by default) is passed\nto the <a class=\"reference internal\" href=\"socket.html#socket.socket.listen\" title=\"socket.socket.listen\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">listen()</span></code></a> method of the socket once it has been\nbound.</p>\n<p>If <em>authkey</em> is given and not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, it should be a byte string and will be\nused as the secret key for an HMAC-based authentication challenge. No\nauthentication is done if <em>authkey</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.\n<a class=\"reference internal\" href=\"#multiprocessing.AuthenticationError\" title=\"multiprocessing.AuthenticationError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AuthenticationError</span></code></a> is raised if authentication fails.\nSee <a class=\"reference internal\" href=\"#multiprocessing-auth-keys\"><span class=\"std std-ref\">Authentication keys</span></a>.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Listener.accept\">\n<span class=\"sig-name descname\"><span class=\"pre\">accept</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Listener.accept\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Accept a connection on the bound socket or named pipe of the listener\nobject and return a <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection\" title=\"multiprocessing.connection.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> object.\nIf authentication is attempted and fails, then\n<a class=\"reference internal\" href=\"#multiprocessing.AuthenticationError\" title=\"multiprocessing.AuthenticationError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AuthenticationError</span></code></a> is raised.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Listener.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.Listener.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Close the bound socket or named pipe of the listener object.  This is\ncalled automatically when the listener is garbage collected.  However it\nis advisable to call it explicitly.</p>\n</dd></dl>\n\n<p>Listener objects have the following read-only properties:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Listener.address\">\n<span class=\"sig-name descname\"><span class=\"pre\">address</span></span><a class=\"headerlink\" href=\"#multiprocessing.connection.Listener.address\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The address which is being used by the Listener object.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.Listener.last_accepted\">\n<span class=\"sig-name descname\"><span class=\"pre\">last_accepted</span></span><a class=\"headerlink\" href=\"#multiprocessing.connection.Listener.last_accepted\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The address from which the last accepted connection came.  If this is\nunavailable then it is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>Listener objects now support the context management protocol – see\n<a class=\"reference internal\" href=\"stdtypes.html#typecontextmanager\"><span class=\"std std-ref\">Context Manager Types</span></a>.  <a class=\"reference internal\" href=\"stdtypes.html#contextmanager.__enter__\" title=\"contextmanager.__enter__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__enter__()</span></code></a> returns the\nlistener object, and <a class=\"reference internal\" href=\"stdtypes.html#contextmanager.__exit__\" title=\"contextmanager.__exit__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__exit__()</span></code></a> calls <a class=\"reference internal\" href=\"#multiprocessing.connection.Listener.close\" title=\"multiprocessing.connection.Listener.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.connection.wait\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.connection.</span></span><span class=\"sig-name descname\"><span class=\"pre\">wait</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">object_list</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.connection.wait\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Wait till an object in <em>object_list</em> is ready.  Returns the list of\nthose objects in <em>object_list</em> which are ready.  If <em>timeout</em> is a\nfloat then the call blocks for at most that many seconds.  If\n<em>timeout</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then it will block for an unlimited period.\nA negative timeout is equivalent to a zero timeout.</p>\n<p>For both POSIX and Windows, an object can appear in <em>object_list</em> if\nit is</p>\n<ul class=\"simple\">\n<li><p>a readable <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection\" title=\"multiprocessing.connection.Connection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Connection</span></code></a> object;</p></li>\n<li><p>a connected and readable <a class=\"reference internal\" href=\"socket.html#socket.socket\" title=\"socket.socket\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">socket.socket</span></code></a> object; or</p></li>\n<li><p>the <a class=\"reference internal\" href=\"#multiprocessing.Process.sentinel\" title=\"multiprocessing.Process.sentinel\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">sentinel</span></code></a> attribute of a\n<a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> object.</p></li>\n</ul>\n<p>A connection or socket object is ready when there is data available\nto be read from it, or the other end has been closed.</p>\n<p><strong>POSIX</strong>: <code class=\"docutils literal notranslate\"><span class=\"pre\">wait(object_list,</span> <span class=\"pre\">timeout)</span></code> almost equivalent\n<code class=\"docutils literal notranslate\"><span class=\"pre\">select.select(object_list,</span> <span class=\"pre\">[],</span> <span class=\"pre\">[],</span> <span class=\"pre\">timeout)</span></code>.  The difference is\nthat, if <a class=\"reference internal\" href=\"select.html#select.select\" title=\"select.select\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">select.select()</span></code></a> is interrupted by a signal, it can\nraise <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a> with an error number of <code class=\"docutils literal notranslate\"><span class=\"pre\">EINTR</span></code>, whereas\n<a class=\"reference internal\" href=\"#multiprocessing.connection.wait\" title=\"multiprocessing.connection.wait\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> will not.</p>\n<p><strong>Windows</strong>: An item in <em>object_list</em> must either be an integer\nhandle which is waitable (according to the definition used by the\ndocumentation of the Win32 function <code class=\"docutils literal notranslate\"><span class=\"pre\">WaitForMultipleObjects()</span></code>)\nor it can be an object with a <a class=\"reference internal\" href=\"io.html#io.IOBase.fileno\" title=\"io.IOBase.fileno\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">fileno()</span></code></a> method which returns a\nsocket handle or pipe handle.  (Note that pipe handles and socket\nhandles are <strong>not</strong> waitable handles.)</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n</dd></dl>\n\n<p><strong>Examples</strong></p>\n<p>The following server code creates a listener which uses <code class=\"docutils literal notranslate\"><span class=\"pre\">'secret</span> <span class=\"pre\">password'</span></code> as\nan authentication key.  It then waits for a connection and sends some data to\nthe client:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.connection</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Listener</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">array</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">array</span>\n\n<span class=\"n\">address</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">&#39;localhost&#39;</span><span class=\"p\">,</span> <span class=\"mi\">6000</span><span class=\"p\">)</span>     <span class=\"c1\"># family is deduced to be &#39;AF_INET&#39;</span>\n\n<span class=\"k\">with</span> <span class=\"n\">Listener</span><span class=\"p\">(</span><span class=\"n\">address</span><span class=\"p\">,</span> <span class=\"n\">authkey</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">&#39;secret password&#39;</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">listener</span><span class=\"p\">:</span>\n    <span class=\"k\">with</span> <span class=\"n\">listener</span><span class=\"o\">.</span><span class=\"n\">accept</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">conn</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;connection accepted from&#39;</span><span class=\"p\">,</span> <span class=\"n\">listener</span><span class=\"o\">.</span><span class=\"n\">last_accepted</span><span class=\"p\">)</span>\n\n        <span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">([</span><span class=\"mf\">2.25</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"s1\">&#39;junk&#39;</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">])</span>\n\n        <span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">send_bytes</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">)</span>\n\n        <span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">send_bytes</span><span class=\"p\">(</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;i&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">42</span><span class=\"p\">,</span> <span class=\"mi\">1729</span><span class=\"p\">]))</span>\n</pre></div>\n</div>\n<p>The following code connects to the server and receives some data from the\nserver:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.connection</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Client</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">array</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">array</span>\n\n<span class=\"n\">address</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">&#39;localhost&#39;</span><span class=\"p\">,</span> <span class=\"mi\">6000</span><span class=\"p\">)</span>\n\n<span class=\"k\">with</span> <span class=\"n\">Client</span><span class=\"p\">(</span><span class=\"n\">address</span><span class=\"p\">,</span> <span class=\"n\">authkey</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">&#39;secret password&#39;</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">conn</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">recv</span><span class=\"p\">())</span>                  <span class=\"c1\"># =&gt; [2.25, None, &#39;junk&#39;, float]</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">recv_bytes</span><span class=\"p\">())</span>            <span class=\"c1\"># =&gt; &#39;hello&#39;</span>\n\n    <span class=\"n\">arr</span> <span class=\"o\">=</span> <span class=\"n\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;i&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">])</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">recv_bytes_into</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">))</span>    <span class=\"c1\"># =&gt; 8</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">)</span>                          <span class=\"c1\"># =&gt; array(&#39;i&#39;, [42, 1729, 0, 0, 0])</span>\n</pre></div>\n</div>\n<p>The following code uses <a class=\"reference internal\" href=\"#multiprocessing.connection.wait\" title=\"multiprocessing.connection.wait\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> to\nwait for messages from multiple processes at once:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Pipe</span><span class=\"p\">,</span> <span class=\"n\">current_process</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.connection</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">wait</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">foo</span><span class=\"p\">(</span><span class=\"n\">w</span><span class=\"p\">):</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n        <span class=\"n\">w</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">((</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">current_process</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">))</span>\n    <span class=\"n\">w</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">readers</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">):</span>\n        <span class=\"n\">r</span><span class=\"p\">,</span> <span class=\"n\">w</span> <span class=\"o\">=</span> <span class=\"n\">Pipe</span><span class=\"p\">(</span><span class=\"n\">duplex</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n        <span class=\"n\">readers</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">)</span>\n        <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">foo</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">w</span><span class=\"p\">,))</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n        <span class=\"c1\"># We close the writable end of the pipe now to be sure that</span>\n        <span class=\"c1\"># p is the only process which owns a handle for it.  This</span>\n        <span class=\"c1\"># ensures that when p closes its handle for the writable end,</span>\n        <span class=\"c1\"># wait() will promptly report the readable end as being ready.</span>\n        <span class=\"n\">w</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n\n    <span class=\"k\">while</span> <span class=\"n\">readers</span><span class=\"p\">:</span>\n        <span class=\"k\">for</span> <span class=\"n\">r</span> <span class=\"ow\">in</span> <span class=\"n\">wait</span><span class=\"p\">(</span><span class=\"n\">readers</span><span class=\"p\">):</span>\n            <span class=\"k\">try</span><span class=\"p\">:</span>\n                <span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">recv</span><span class=\"p\">()</span>\n            <span class=\"k\">except</span> <span class=\"ne\">EOFError</span><span class=\"p\">:</span>\n                <span class=\"n\">readers</span><span class=\"o\">.</span><span class=\"n\">remove</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<section id=\"address-formats\">\n<span id=\"multiprocessing-address-formats\"></span><h4>Address Formats<a class=\"headerlink\" href=\"#address-formats\" title=\"Link to this heading\">¶</a></h4>\n<ul class=\"simple\">\n<li><p>An <code class=\"docutils literal notranslate\"><span class=\"pre\">'AF_INET'</span></code> address is a tuple of the form <code class=\"docutils literal notranslate\"><span class=\"pre\">(hostname,</span> <span class=\"pre\">port)</span></code> where\n<em>hostname</em> is a string and <em>port</em> is an integer.</p></li>\n<li><p>An <code class=\"docutils literal notranslate\"><span class=\"pre\">'AF_UNIX'</span></code> address is a string representing a filename on the\nfilesystem.</p></li>\n<li><p>An <code class=\"docutils literal notranslate\"><span class=\"pre\">'AF_PIPE'</span></code> address is a string of the form\n<code class=\"samp docutils literal notranslate\"><span class=\"pre\">r'\\\\.\\pipe\\</span><em><span class=\"pre\">PipeName</span></em><span class=\"pre\">'</span></code>.  To use <a class=\"reference internal\" href=\"#multiprocessing.connection.Client\" title=\"multiprocessing.connection.Client\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Client()</span></code></a> to connect to a named\npipe on a remote computer called <em>ServerName</em> one should use an address of the\nform <code class=\"samp docutils literal notranslate\"><span class=\"pre\">r'\\\\</span><em><span class=\"pre\">ServerName</span></em><span class=\"pre\">\\pipe\\</span><em><span class=\"pre\">PipeName</span></em><span class=\"pre\">'</span></code> instead.</p></li>\n</ul>\n<p>Note that any string beginning with two backslashes is assumed by default to be\nan <code class=\"docutils literal notranslate\"><span class=\"pre\">'AF_PIPE'</span></code> address rather than an <code class=\"docutils literal notranslate\"><span class=\"pre\">'AF_UNIX'</span></code> address.</p>\n</section>\n</section>\n<section id=\"authentication-keys\">\n<span id=\"multiprocessing-auth-keys\"></span><h3>Authentication keys<a class=\"headerlink\" href=\"#authentication-keys\" title=\"Link to this heading\">¶</a></h3>\n<p>When one uses <a class=\"reference internal\" href=\"#multiprocessing.connection.Connection.recv\" title=\"multiprocessing.connection.Connection.recv\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Connection.recv</span></code></a>, the\ndata received is automatically\nunpickled. Unfortunately unpickling data from an untrusted source is a security\nrisk. Therefore <a class=\"reference internal\" href=\"#multiprocessing.connection.Listener\" title=\"multiprocessing.connection.Listener\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Listener</span></code></a> and <a class=\"reference internal\" href=\"#multiprocessing.connection.Client\" title=\"multiprocessing.connection.Client\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Client()</span></code></a> use the <a class=\"reference internal\" href=\"hmac.html#module-hmac\" title=\"hmac: Keyed-Hashing for Message Authentication (HMAC) implementation\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">hmac</span></code></a> module\nto provide digest authentication.</p>\n<p>An authentication key is a byte string which can be thought of as a\npassword: once a connection is established both ends will demand proof\nthat the other knows the authentication key.  (Demonstrating that both\nends are using the same key does <strong>not</strong> involve sending the key over\nthe connection.)</p>\n<p>If authentication is requested but no authentication key is specified then the\nreturn value of <code class=\"docutils literal notranslate\"><span class=\"pre\">current_process().authkey</span></code> is used (see\n<a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a>).  This value will be automatically inherited by\nany <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> object that the current process creates.\nThis means that (by default) all processes of a multi-process program will share\na single authentication key which can be used when setting up connections\nbetween themselves.</p>\n<p>Suitable authentication keys can also be generated by using <a class=\"reference internal\" href=\"os.html#os.urandom\" title=\"os.urandom\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.urandom()</span></code></a>.</p>\n</section>\n<section id=\"logging\">\n<h3>Logging<a class=\"headerlink\" href=\"#logging\" title=\"Link to this heading\">¶</a></h3>\n<p>Some support for logging is available.  Note, however, that the <a class=\"reference internal\" href=\"logging.html#module-logging\" title=\"logging: Flexible event logging system for applications.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">logging</span></code></a>\npackage does not use process shared locks so it is possible (depending on the\nhandler type) for messages from different processes to get mixed up.</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.get_logger\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">get_logger</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.get_logger\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns the logger used by <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a>.  If necessary, a new one\nwill be created.</p>\n<p>When first created the logger has level <a class=\"reference internal\" href=\"logging.html#logging.NOTSET\" title=\"logging.NOTSET\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">logging.NOTSET</span></code></a> and no\ndefault handler. Messages sent to this logger will not by default propagate\nto the root logger.</p>\n<p>Note that on Windows child processes will only inherit the level of the\nparent process’s logger – any other customization of the logger will not be\ninherited.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.log_to_stderr\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.</span></span><span class=\"sig-name descname\"><span class=\"pre\">log_to_stderr</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">level</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.log_to_stderr\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This function performs a call to <a class=\"reference internal\" href=\"#multiprocessing.get_logger\" title=\"multiprocessing.get_logger\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">get_logger()</span></code></a> but in addition to\nreturning the logger created by get_logger, it adds a handler which sends\noutput to <a class=\"reference internal\" href=\"sys.html#sys.stderr\" title=\"sys.stderr\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.stderr</span></code></a> using format\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'[%(levelname)s/%(processName)s]</span> <span class=\"pre\">%(message)s'</span></code>.\nYou can modify <code class=\"docutils literal notranslate\"><span class=\"pre\">levelname</span></code> of the logger by passing a <code class=\"docutils literal notranslate\"><span class=\"pre\">level</span></code> argument.</p>\n</dd></dl>\n\n<p>Below is an example session with logging turned on:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"nn\">logging</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">log_to_stderr</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">setLevel</span><span class=\"p\">(</span><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">INFO</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">warning</span><span class=\"p\">(</span><span class=\"s1\">&#39;doomed&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">[WARNING/MainProcess] doomed</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span> <span class=\"o\">=</span> <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">Manager</span><span class=\"p\">()</span>\n<span class=\"go\">[INFO/SyncManager-...] child process calling self.run()</span>\n<span class=\"go\">[INFO/SyncManager-...] created temp directory /.../pymp-...</span>\n<span class=\"go\">[INFO/SyncManager-...] manager serving at &#39;/.../listener-...&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">del</span> <span class=\"n\">m</span>\n<span class=\"go\">[INFO/MainProcess] sending shutdown message to manager</span>\n<span class=\"go\">[INFO/SyncManager-...] manager exiting with exitcode 0</span>\n</pre></div>\n</div>\n<p>For a full table of logging levels, see the <a class=\"reference internal\" href=\"logging.html#module-logging\" title=\"logging: Flexible event logging system for applications.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">logging</span></code></a> module.</p>\n</section>\n<section id=\"module-multiprocessing.dummy\">\n<span id=\"the-multiprocessing-dummy-module\"></span><h3>The <a class=\"reference internal\" href=\"#module-multiprocessing.dummy\" title=\"multiprocessing.dummy: Dumb wrapper around threading.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.dummy</span></code></a> module<a class=\"headerlink\" href=\"#module-multiprocessing.dummy\" title=\"Link to this heading\">¶</a></h3>\n<p><a class=\"reference internal\" href=\"#module-multiprocessing.dummy\" title=\"multiprocessing.dummy: Dumb wrapper around threading.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.dummy</span></code></a> replicates the API of <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> but is\nno more than a wrapper around the <a class=\"reference internal\" href=\"threading.html#module-threading\" title=\"threading: Thread-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code></a> module.</p>\n<p>In particular, the <code class=\"docutils literal notranslate\"><span class=\"pre\">Pool</span></code> function provided by <a class=\"reference internal\" href=\"#module-multiprocessing.dummy\" title=\"multiprocessing.dummy: Dumb wrapper around threading.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.dummy</span></code></a>\nreturns an instance of <a class=\"reference internal\" href=\"#multiprocessing.pool.ThreadPool\" title=\"multiprocessing.pool.ThreadPool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ThreadPool</span></code></a>, which is a subclass of\n<a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a> that supports all the same method calls but uses a pool of\nworker threads rather than worker processes.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"multiprocessing.pool.ThreadPool\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">multiprocessing.pool.</span></span><span class=\"sig-name descname\"><span class=\"pre\">ThreadPool</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">processes</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">initializer</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">initargs</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#multiprocessing.pool.ThreadPool\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A thread pool object which controls a pool of worker threads to which jobs\ncan be submitted.  <a class=\"reference internal\" href=\"#multiprocessing.pool.ThreadPool\" title=\"multiprocessing.pool.ThreadPool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ThreadPool</span></code></a> instances are fully interface\ncompatible with <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a> instances, and their resources must also be\nproperly managed, either by using the pool as a context manager or by\ncalling <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.close\" title=\"multiprocessing.pool.Pool.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> and\n<a class=\"reference internal\" href=\"#multiprocessing.pool.Pool.terminate\" title=\"multiprocessing.pool.Pool.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">terminate()</span></code></a> manually.</p>\n<p><em>processes</em> is the number of worker threads to use.  If <em>processes</em> is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then the number returned by <a class=\"reference internal\" href=\"os.html#os.process_cpu_count\" title=\"os.process_cpu_count\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.process_cpu_count()</span></code></a> is used.</p>\n<p>If <em>initializer</em> is not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> then each worker process will call\n<code class=\"docutils literal notranslate\"><span class=\"pre\">initializer(*initargs)</span></code> when it starts.</p>\n<p>Unlike <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a>, <em>maxtasksperchild</em> and <em>context</em> cannot be provided.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>A <a class=\"reference internal\" href=\"#multiprocessing.pool.ThreadPool\" title=\"multiprocessing.pool.ThreadPool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ThreadPool</span></code></a> shares the same interface as <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a>, which\nis designed around a pool of processes and predates the introduction of\nthe <a class=\"reference internal\" href=\"concurrent.futures.html#module-concurrent.futures\" title=\"concurrent.futures: Execute computations concurrently using threads or processes.\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">concurrent.futures</span></code></a> module.  As such, it inherits some\noperations that don’t make sense for a pool backed by threads, and it\nhas its own type for representing the status of asynchronous jobs,\n<a class=\"reference internal\" href=\"#multiprocessing.pool.AsyncResult\" title=\"multiprocessing.pool.AsyncResult\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsyncResult</span></code></a>, that is not understood by any other libraries.</p>\n<p>Users should generally prefer to use\n<a class=\"reference internal\" href=\"concurrent.futures.html#concurrent.futures.ThreadPoolExecutor\" title=\"concurrent.futures.ThreadPoolExecutor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">concurrent.futures.ThreadPoolExecutor</span></code></a>, which has a simpler\ninterface that was designed around threads from the start, and which\nreturns <a class=\"reference internal\" href=\"concurrent.futures.html#concurrent.futures.Future\" title=\"concurrent.futures.Future\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">concurrent.futures.Future</span></code></a> instances that are\ncompatible with many other libraries, including <a class=\"reference internal\" href=\"asyncio.html#module-asyncio\" title=\"asyncio: Asynchronous I/O.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">asyncio</span></code></a>.</p>\n</div>\n</dd></dl>\n\n</section>\n</section>\n<section id=\"programming-guidelines\">\n<span id=\"multiprocessing-programming\"></span><h2>Programming guidelines<a class=\"headerlink\" href=\"#programming-guidelines\" title=\"Link to this heading\">¶</a></h2>\n<p>There are certain guidelines and idioms which should be adhered to when using\n<a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a>.</p>\n<section id=\"all-start-methods\">\n<h3>All start methods<a class=\"headerlink\" href=\"#all-start-methods\" title=\"Link to this heading\">¶</a></h3>\n<p>The following applies to all start methods.</p>\n<p>Avoid shared state</p>\n<blockquote>\n<div><p>As far as possible one should try to avoid shifting large amounts of data\nbetween processes.</p>\n<p>It is probably best to stick to using queues or pipes for communication\nbetween processes rather than using the lower level synchronization\nprimitives.</p>\n</div></blockquote>\n<p>Picklability</p>\n<blockquote>\n<div><p>Ensure that the arguments to the methods of proxies are picklable.</p>\n</div></blockquote>\n<p>Thread safety of proxies</p>\n<blockquote>\n<div><p>Do not use a proxy object from more than one thread unless you protect it\nwith a lock.</p>\n<p>(There is never a problem with different processes using the <em>same</em> proxy.)</p>\n</div></blockquote>\n<p>Joining zombie processes</p>\n<blockquote>\n<div><p>On POSIX when a process finishes but has not been joined it becomes a zombie.\nThere should never be very many because each time a new process starts (or\n<a class=\"reference internal\" href=\"#multiprocessing.active_children\" title=\"multiprocessing.active_children\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">active_children()</span></code></a> is called) all completed processes\nwhich have not yet been joined will be joined.  Also calling a finished\nprocess’s <a class=\"reference internal\" href=\"#multiprocessing.Process.is_alive\" title=\"multiprocessing.Process.is_alive\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Process.is_alive</span></code></a> will\njoin the process.  Even so it is probably good\npractice to explicitly join all the processes that you start.</p>\n</div></blockquote>\n<p>Better to inherit than pickle/unpickle</p>\n<blockquote>\n<div><p>When using the <em>spawn</em> or <em>forkserver</em> start methods many types\nfrom <a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> need to be picklable so that child\nprocesses can use them.  However, one should generally avoid\nsending shared objects to other processes using pipes or queues.\nInstead you should arrange the program so that a process which\nneeds access to a shared resource created elsewhere can inherit it\nfrom an ancestor process.</p>\n</div></blockquote>\n<p>Avoid terminating processes</p>\n<blockquote>\n<div><p>Using the <a class=\"reference internal\" href=\"#multiprocessing.Process.terminate\" title=\"multiprocessing.Process.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Process.terminate</span></code></a>\nmethod to stop a process is liable to\ncause any shared resources (such as locks, semaphores, pipes and queues)\ncurrently being used by the process to become broken or unavailable to other\nprocesses.</p>\n<p>Therefore it is probably best to only consider using\n<a class=\"reference internal\" href=\"#multiprocessing.Process.terminate\" title=\"multiprocessing.Process.terminate\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Process.terminate</span></code></a> on processes\nwhich never use any shared resources.</p>\n</div></blockquote>\n<p>Joining processes that use queues</p>\n<blockquote>\n<div><p>Bear in mind that a process that has put items in a queue will wait before\nterminating until all the buffered items are fed by the “feeder” thread to\nthe underlying pipe.  (The child process can call the\n<a class=\"reference internal\" href=\"#multiprocessing.Queue.cancel_join_thread\" title=\"multiprocessing.Queue.cancel_join_thread\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Queue.cancel_join_thread</span></code></a>\nmethod of the queue to avoid this behaviour.)</p>\n<p>This means that whenever you use a queue you need to make sure that all\nitems which have been put on the queue will eventually be removed before the\nprocess is joined.  Otherwise you cannot be sure that processes which have\nput items on the queue will terminate.  Remember also that non-daemonic\nprocesses will be joined automatically.</p>\n<p>An example which will deadlock is the following:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Queue</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">):</span>\n    <span class=\"n\">q</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"s1\">&#39;X&#39;</span> <span class=\"o\">*</span> <span class=\"mi\">1000000</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">queue</span> <span class=\"o\">=</span> <span class=\"n\">Queue</span><span class=\"p\">()</span>\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">queue</span><span class=\"p\">,))</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>                    <span class=\"c1\"># this deadlocks</span>\n    <span class=\"n\">obj</span> <span class=\"o\">=</span> <span class=\"n\">queue</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>A fix here would be to swap the last two lines (or simply remove the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">p.join()</span></code> line).</p>\n</div></blockquote>\n<p>Explicitly pass resources to child processes</p>\n<blockquote>\n<div><p>On POSIX using the <em>fork</em> start method, a child process can make\nuse of a shared resource created in a parent process using a\nglobal resource.  However, it is better to pass the object as an\nargument to the constructor for the child process.</p>\n<p>Apart from making the code (potentially) compatible with Windows\nand the other start methods this also ensures that as long as the\nchild process is still alive the object will not be garbage\ncollected in the parent process.  This might be important if some\nresource is freed when the object is garbage collected in the\nparent process.</p>\n<p>So for instance</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Lock</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">():</span>\n    <span class=\"o\">...</span> <span class=\"n\">do</span> <span class=\"n\">something</span> <span class=\"n\">using</span> <span class=\"s2\">&quot;lock&quot;</span> <span class=\"o\">...</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">lock</span> <span class=\"o\">=</span> <span class=\"n\">Lock</span><span class=\"p\">()</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n        <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>should be rewritten as</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Lock</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">l</span><span class=\"p\">):</span>\n    <span class=\"o\">...</span> <span class=\"n\">do</span> <span class=\"n\">something</span> <span class=\"n\">using</span> <span class=\"s2\">&quot;l&quot;</span> <span class=\"o\">...</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">lock</span> <span class=\"o\">=</span> <span class=\"n\">Lock</span><span class=\"p\">()</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n        <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">lock</span><span class=\"p\">,))</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</div></blockquote>\n<p>Beware of replacing <a class=\"reference internal\" href=\"sys.html#sys.stdin\" title=\"sys.stdin\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.stdin</span></code></a> with a “file like object”</p>\n<blockquote>\n<div><p><a class=\"reference internal\" href=\"#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> originally unconditionally called:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">(</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdin</span><span class=\"o\">.</span><span class=\"n\">fileno</span><span class=\"p\">())</span>\n</pre></div>\n</div>\n<p>in the <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">multiprocessing.Process._bootstrap()</span></code> method — this resulted\nin issues with processes-in-processes. This has been changed to:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdin</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdin</span> <span class=\"o\">=</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">open</span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">devnull</span><span class=\"p\">,</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">O_RDONLY</span><span class=\"p\">),</span> <span class=\"n\">closefd</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Which solves the fundamental issue of processes colliding with each other\nresulting in a bad file descriptor error, but introduces a potential danger\nto applications which replace <a class=\"reference internal\" href=\"sys.html#sys.stdin\" title=\"sys.stdin\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sys.stdin()</span></code></a> with a “file-like object”\nwith output buffering.  This danger is that if multiple processes call\n<a class=\"reference internal\" href=\"io.html#io.IOBase.close\" title=\"io.IOBase.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> on this file-like object, it could result in the same\ndata being flushed to the object multiple times, resulting in corruption.</p>\n<p>If you write a file-like object and implement your own caching, you can\nmake it fork-safe by storing the pid whenever you append to the cache,\nand discarding the cache when the pid changes. For example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nd\">@property</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">cache</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n    <span class=\"n\">pid</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getpid</span><span class=\"p\">()</span>\n    <span class=\"k\">if</span> <span class=\"n\">pid</span> <span class=\"o\">!=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pid</span><span class=\"p\">:</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pid</span> <span class=\"o\">=</span> <span class=\"n\">pid</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_cache</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_cache</span>\n</pre></div>\n</div>\n<p>For more information, see <a class=\"reference external\" href=\"https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=5155\">bpo-5155</a>, <a class=\"reference external\" href=\"https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=5313\">bpo-5313</a> and <a class=\"reference external\" href=\"https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=5331\">bpo-5331</a></p>\n</div></blockquote>\n</section>\n<section id=\"the-spawn-and-forkserver-start-methods\">\n<span id=\"multiprocessing-programming-forkserver\"></span><span id=\"multiprocessing-programming-spawn\"></span><h3>The <em>spawn</em> and <em>forkserver</em> start methods<a class=\"headerlink\" href=\"#the-spawn-and-forkserver-start-methods\" title=\"Link to this heading\">¶</a></h3>\n<p>There are a few extra restrictions which don’t apply to the <em>fork</em>\nstart method.</p>\n<p>More picklability</p>\n<blockquote>\n<div><p>Ensure that all arguments to <a class=\"reference internal\" href=\"#multiprocessing.Process\" title=\"multiprocessing.Process\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code></a> are\npicklable.  Also, if you subclass <code class=\"docutils literal notranslate\"><span class=\"pre\">Process.__init__</span></code>, you must make sure\nthat instances will be picklable when the\n<a class=\"reference internal\" href=\"#multiprocessing.Process.start\" title=\"multiprocessing.Process.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Process.start</span></code></a> method is called.</p>\n</div></blockquote>\n<p>Global variables</p>\n<blockquote>\n<div><p>Bear in mind that if code run in a child process tries to access a global\nvariable, then the value it sees (if any) may not be the same as the value\nin the parent process at the time that <a class=\"reference internal\" href=\"#multiprocessing.Process.start\" title=\"multiprocessing.Process.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Process.start</span></code></a> was called.</p>\n<p>However, global variables which are just module level constants cause no\nproblems.</p>\n</div></blockquote>\n<p id=\"multiprocessing-safe-main-import\">Safe importing of main module</p>\n<blockquote>\n<div><p>Make sure that the main module can be safely imported by a new Python\ninterpreter without causing unintended side effects (such as starting a new\nprocess).</p>\n<p>For example, using the <em>spawn</em> or <em>forkserver</em> start method\nrunning the following module would fail with a\n<a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">foo</span><span class=\"p\">():</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">foo</span><span class=\"p\">)</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Instead one should protect the “entry point” of the program by using <code class=\"docutils literal notranslate\"><span class=\"pre\">if</span>\n<span class=\"pre\">__name__</span> <span class=\"pre\">==</span> <span class=\"pre\">'__main__':</span></code> as follows:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">freeze_support</span><span class=\"p\">,</span> <span class=\"n\">set_start_method</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">foo</span><span class=\"p\">():</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">freeze_support</span><span class=\"p\">()</span>\n    <span class=\"n\">set_start_method</span><span class=\"p\">(</span><span class=\"s1\">&#39;spawn&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">foo</span><span class=\"p\">)</span>\n    <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>(The <code class=\"docutils literal notranslate\"><span class=\"pre\">freeze_support()</span></code> line can be omitted if the program will be run\nnormally instead of frozen.)</p>\n<p>This allows the newly spawned Python interpreter to safely import the module\nand then run the module’s <code class=\"docutils literal notranslate\"><span class=\"pre\">foo()</span></code> function.</p>\n<p>Similar restrictions apply if a pool or manager is created in the main\nmodule.</p>\n</div></blockquote>\n</section>\n</section>\n<section id=\"examples\">\n<span id=\"multiprocessing-examples\"></span><h2>Examples<a class=\"headerlink\" href=\"#examples\" title=\"Link to this heading\">¶</a></h2>\n<p>Demonstration of how to create and use customized managers and proxies:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">freeze_support</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing.managers</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">BaseManager</span><span class=\"p\">,</span> <span class=\"n\">BaseProxy</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">operator</span>\n\n<span class=\"c1\">##</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Foo</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;you called Foo.f()&#39;</span><span class=\"p\">)</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">g</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;you called Foo.g()&#39;</span><span class=\"p\">)</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">_h</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;you called Foo._h()&#39;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># A simple generator function</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">baz</span><span class=\"p\">():</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n        <span class=\"k\">yield</span> <span class=\"n\">i</span><span class=\"o\">*</span><span class=\"n\">i</span>\n\n<span class=\"c1\"># Proxy type for generator objects</span>\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">GeneratorProxy</span><span class=\"p\">(</span><span class=\"n\">BaseProxy</span><span class=\"p\">):</span>\n    <span class=\"n\">_exposed_</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">&#39;__next__&#39;</span><span class=\"p\">]</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__iter__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__next__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_callmethod</span><span class=\"p\">(</span><span class=\"s1\">&#39;__next__&#39;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Function to return the operator module</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">get_operator_module</span><span class=\"p\">():</span>\n    <span class=\"k\">return</span> <span class=\"n\">operator</span>\n\n<span class=\"c1\">##</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MyManager</span><span class=\"p\">(</span><span class=\"n\">BaseManager</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n<span class=\"c1\"># register the Foo class; make `f()` and `g()` accessible via proxy</span>\n<span class=\"n\">MyManager</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"s1\">&#39;Foo1&#39;</span><span class=\"p\">,</span> <span class=\"n\">Foo</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># register the Foo class; make `g()` and `_h()` accessible via proxy</span>\n<span class=\"n\">MyManager</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"s1\">&#39;Foo2&#39;</span><span class=\"p\">,</span> <span class=\"n\">Foo</span><span class=\"p\">,</span> <span class=\"n\">exposed</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;g&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;_h&#39;</span><span class=\"p\">))</span>\n\n<span class=\"c1\"># register the generator function baz; use `GeneratorProxy` to make proxies</span>\n<span class=\"n\">MyManager</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"s1\">&#39;baz&#39;</span><span class=\"p\">,</span> <span class=\"n\">baz</span><span class=\"p\">,</span> <span class=\"n\">proxytype</span><span class=\"o\">=</span><span class=\"n\">GeneratorProxy</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># register get_operator_module(); make public functions accessible via proxy</span>\n<span class=\"n\">MyManager</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"s1\">&#39;operator&#39;</span><span class=\"p\">,</span> <span class=\"n\">get_operator_module</span><span class=\"p\">)</span>\n\n<span class=\"c1\">##</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">test</span><span class=\"p\">():</span>\n    <span class=\"n\">manager</span> <span class=\"o\">=</span> <span class=\"n\">MyManager</span><span class=\"p\">()</span>\n    <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;-&#39;</span> <span class=\"o\">*</span> <span class=\"mi\">20</span><span class=\"p\">)</span>\n\n    <span class=\"n\">f1</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">Foo1</span><span class=\"p\">()</span>\n    <span class=\"n\">f1</span><span class=\"o\">.</span><span class=\"n\">f</span><span class=\"p\">()</span>\n    <span class=\"n\">f1</span><span class=\"o\">.</span><span class=\"n\">g</span><span class=\"p\">()</span>\n    <span class=\"k\">assert</span> <span class=\"ow\">not</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">f1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;_h&#39;</span><span class=\"p\">)</span>\n    <span class=\"k\">assert</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">f1</span><span class=\"o\">.</span><span class=\"n\">_exposed_</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"nb\">sorted</span><span class=\"p\">([</span><span class=\"s1\">&#39;f&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;g&#39;</span><span class=\"p\">])</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;-&#39;</span> <span class=\"o\">*</span> <span class=\"mi\">20</span><span class=\"p\">)</span>\n\n    <span class=\"n\">f2</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">Foo2</span><span class=\"p\">()</span>\n    <span class=\"n\">f2</span><span class=\"o\">.</span><span class=\"n\">g</span><span class=\"p\">()</span>\n    <span class=\"n\">f2</span><span class=\"o\">.</span><span class=\"n\">_h</span><span class=\"p\">()</span>\n    <span class=\"k\">assert</span> <span class=\"ow\">not</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">f2</span><span class=\"p\">,</span> <span class=\"s1\">&#39;f&#39;</span><span class=\"p\">)</span>\n    <span class=\"k\">assert</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">f2</span><span class=\"o\">.</span><span class=\"n\">_exposed_</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"nb\">sorted</span><span class=\"p\">([</span><span class=\"s1\">&#39;g&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;_h&#39;</span><span class=\"p\">])</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;-&#39;</span> <span class=\"o\">*</span> <span class=\"mi\">20</span><span class=\"p\">)</span>\n\n    <span class=\"n\">it</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">baz</span><span class=\"p\">()</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">it</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;&lt;</span><span class=\"si\">%d</span><span class=\"s1\">&gt;&#39;</span> <span class=\"o\">%</span> <span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"o\">=</span><span class=\"s1\">&#39; &#39;</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">()</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;-&#39;</span> <span class=\"o\">*</span> <span class=\"mi\">20</span><span class=\"p\">)</span>\n\n    <span class=\"n\">op</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">operator</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;op.add(23, 45) =&#39;</span><span class=\"p\">,</span> <span class=\"n\">op</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"mi\">23</span><span class=\"p\">,</span> <span class=\"mi\">45</span><span class=\"p\">))</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;op.pow(2, 94) =&#39;</span><span class=\"p\">,</span> <span class=\"n\">op</span><span class=\"o\">.</span><span class=\"n\">pow</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">94</span><span class=\"p\">))</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;op._exposed_ =&#39;</span><span class=\"p\">,</span> <span class=\"n\">op</span><span class=\"o\">.</span><span class=\"n\">_exposed_</span><span class=\"p\">)</span>\n\n<span class=\"c1\">##</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">freeze_support</span><span class=\"p\">()</span>\n    <span class=\"n\">test</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Using <a class=\"reference internal\" href=\"#multiprocessing.pool.Pool\" title=\"multiprocessing.pool.Pool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Pool</span></code></a>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">time</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">random</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">sys</span>\n\n<span class=\"c1\">#</span>\n<span class=\"c1\"># Functions used by test code</span>\n<span class=\"c1\">#</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">calculate</span><span class=\"p\">(</span><span class=\"n\">func</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"p\">):</span>\n    <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">func</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"s1\">&#39;</span><span class=\"si\">%s</span><span class=\"s1\"> says that </span><span class=\"si\">%s%s</span><span class=\"s1\"> = </span><span class=\"si\">%s</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"p\">(</span>\n        <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">current_process</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span>\n        <span class=\"n\">func</span><span class=\"o\">.</span><span class=\"vm\">__name__</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"n\">result</span>\n        <span class=\"p\">)</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">calculatestar</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">calculate</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">mul</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">):</span>\n    <span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mf\">0.5</span> <span class=\"o\">*</span> <span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">())</span>\n    <span class=\"k\">return</span> <span class=\"n\">a</span> <span class=\"o\">*</span> <span class=\"n\">b</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">plus</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">):</span>\n    <span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mf\">0.5</span> <span class=\"o\">*</span> <span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">())</span>\n    <span class=\"k\">return</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"mf\">1.0</span> <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"o\">-</span> <span class=\"mf\">5.0</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">pow3</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">x</span> <span class=\"o\">**</span> <span class=\"mi\">3</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">noop</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n<span class=\"c1\">#</span>\n<span class=\"c1\"># Test code</span>\n<span class=\"c1\">#</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">test</span><span class=\"p\">():</span>\n    <span class=\"n\">PROCESSES</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Creating pool with </span><span class=\"si\">%d</span><span class=\"s1\"> processes</span><span class=\"se\">\\n</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">PROCESSES</span><span class=\"p\">)</span>\n\n    <span class=\"k\">with</span> <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">Pool</span><span class=\"p\">(</span><span class=\"n\">PROCESSES</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">pool</span><span class=\"p\">:</span>\n        <span class=\"c1\">#</span>\n        <span class=\"c1\"># Tests</span>\n        <span class=\"c1\">#</span>\n\n        <span class=\"n\">TASKS</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"n\">mul</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">))</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)]</span> <span class=\"o\">+</span> \\\n                <span class=\"p\">[(</span><span class=\"n\">plus</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">))</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)]</span>\n\n        <span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">apply_async</span><span class=\"p\">(</span><span class=\"n\">calculate</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">t</span> <span class=\"ow\">in</span> <span class=\"n\">TASKS</span><span class=\"p\">]</span>\n        <span class=\"n\">imap_it</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">imap</span><span class=\"p\">(</span><span class=\"n\">calculatestar</span><span class=\"p\">,</span> <span class=\"n\">TASKS</span><span class=\"p\">)</span>\n        <span class=\"n\">imap_unordered_it</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">imap_unordered</span><span class=\"p\">(</span><span class=\"n\">calculatestar</span><span class=\"p\">,</span> <span class=\"n\">TASKS</span><span class=\"p\">)</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Ordered results using pool.apply_async():&#39;</span><span class=\"p\">)</span>\n        <span class=\"k\">for</span> <span class=\"n\">r</span> <span class=\"ow\">in</span> <span class=\"n\">results</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\t</span><span class=\"s1\">&#39;</span><span class=\"p\">,</span> <span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">())</span>\n        <span class=\"nb\">print</span><span class=\"p\">()</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Ordered results using pool.imap():&#39;</span><span class=\"p\">)</span>\n        <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"n\">imap_it</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\t</span><span class=\"s1\">&#39;</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">()</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Unordered results using pool.imap_unordered():&#39;</span><span class=\"p\">)</span>\n        <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"n\">imap_unordered_it</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\t</span><span class=\"s1\">&#39;</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">()</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Ordered results using pool.map() --- will block till complete:&#39;</span><span class=\"p\">)</span>\n        <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">calculatestar</span><span class=\"p\">,</span> <span class=\"n\">TASKS</span><span class=\"p\">):</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\t</span><span class=\"s1\">&#39;</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">()</span>\n\n        <span class=\"c1\">#</span>\n        <span class=\"c1\"># Test error handling</span>\n        <span class=\"c1\">#</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Testing error handling:&#39;</span><span class=\"p\">)</span>\n\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">apply</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,)))</span>\n        <span class=\"k\">except</span> <span class=\"ne\">ZeroDivisionError</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\t</span><span class=\"s1\">Got ZeroDivisionError as expected from pool.apply()&#39;</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"ne\">AssertionError</span><span class=\"p\">(</span><span class=\"s1\">&#39;expected ZeroDivisionError&#39;</span><span class=\"p\">)</span>\n\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">))))</span>\n        <span class=\"k\">except</span> <span class=\"ne\">ZeroDivisionError</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\t</span><span class=\"s1\">Got ZeroDivisionError as expected from pool.map()&#39;</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"ne\">AssertionError</span><span class=\"p\">(</span><span class=\"s1\">&#39;expected ZeroDivisionError&#39;</span><span class=\"p\">)</span>\n\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">imap</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)))))</span>\n        <span class=\"k\">except</span> <span class=\"ne\">ZeroDivisionError</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\t</span><span class=\"s1\">Got ZeroDivisionError as expected from list(pool.imap())&#39;</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"ne\">AssertionError</span><span class=\"p\">(</span><span class=\"s1\">&#39;expected ZeroDivisionError&#39;</span><span class=\"p\">)</span>\n\n        <span class=\"n\">it</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">imap</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)))</span>\n        <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n            <span class=\"k\">try</span><span class=\"p\">:</span>\n                <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"nb\">next</span><span class=\"p\">(</span><span class=\"n\">it</span><span class=\"p\">)</span>\n            <span class=\"k\">except</span> <span class=\"ne\">ZeroDivisionError</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"n\">i</span> <span class=\"o\">==</span> <span class=\"mi\">5</span><span class=\"p\">:</span>\n                    <span class=\"k\">pass</span>\n            <span class=\"k\">except</span> <span class=\"ne\">StopIteration</span><span class=\"p\">:</span>\n                <span class=\"k\">break</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"n\">i</span> <span class=\"o\">==</span> <span class=\"mi\">5</span><span class=\"p\">:</span>\n                    <span class=\"k\">raise</span> <span class=\"ne\">AssertionError</span><span class=\"p\">(</span><span class=\"s1\">&#39;expected ZeroDivisionError&#39;</span><span class=\"p\">)</span>\n\n        <span class=\"k\">assert</span> <span class=\"n\">i</span> <span class=\"o\">==</span> <span class=\"mi\">9</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\t</span><span class=\"s1\">Got ZeroDivisionError as expected from IMapIterator.next()&#39;</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">()</span>\n\n        <span class=\"c1\">#</span>\n        <span class=\"c1\"># Testing timeouts</span>\n        <span class=\"c1\">#</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Testing ApplyResult.get() with timeout:&#39;</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"o\">=</span><span class=\"s1\">&#39; &#39;</span><span class=\"p\">)</span>\n        <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">apply_async</span><span class=\"p\">(</span><span class=\"n\">calculate</span><span class=\"p\">,</span> <span class=\"n\">TASKS</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n        <span class=\"k\">while</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n            <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdout</span><span class=\"o\">.</span><span class=\"n\">flush</span><span class=\"p\">()</span>\n            <span class=\"k\">try</span><span class=\"p\">:</span>\n                <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdout</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\n\\t</span><span class=\"si\">%s</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"mf\">0.02</span><span class=\"p\">))</span>\n                <span class=\"k\">break</span>\n            <span class=\"k\">except</span> <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">TimeoutError</span><span class=\"p\">:</span>\n                <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdout</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">&#39;.&#39;</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">()</span>\n        <span class=\"nb\">print</span><span class=\"p\">()</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Testing IMapIterator.next() with timeout:&#39;</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"o\">=</span><span class=\"s1\">&#39; &#39;</span><span class=\"p\">)</span>\n        <span class=\"n\">it</span> <span class=\"o\">=</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">imap</span><span class=\"p\">(</span><span class=\"n\">calculatestar</span><span class=\"p\">,</span> <span class=\"n\">TASKS</span><span class=\"p\">)</span>\n        <span class=\"k\">while</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n            <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdout</span><span class=\"o\">.</span><span class=\"n\">flush</span><span class=\"p\">()</span>\n            <span class=\"k\">try</span><span class=\"p\">:</span>\n                <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdout</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\n\\t</span><span class=\"si\">%s</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">it</span><span class=\"o\">.</span><span class=\"n\">next</span><span class=\"p\">(</span><span class=\"mf\">0.02</span><span class=\"p\">))</span>\n            <span class=\"k\">except</span> <span class=\"ne\">StopIteration</span><span class=\"p\">:</span>\n                <span class=\"k\">break</span>\n            <span class=\"k\">except</span> <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">TimeoutError</span><span class=\"p\">:</span>\n                <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdout</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">&#39;.&#39;</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">()</span>\n        <span class=\"nb\">print</span><span class=\"p\">()</span>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">freeze_support</span><span class=\"p\">()</span>\n    <span class=\"n\">test</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>An example showing how to use queues to feed tasks to a collection of worker\nprocesses and collect the results:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">time</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">random</span>\n\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">multiprocessing</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Process</span><span class=\"p\">,</span> <span class=\"n\">Queue</span><span class=\"p\">,</span> <span class=\"n\">current_process</span><span class=\"p\">,</span> <span class=\"n\">freeze_support</span>\n\n<span class=\"c1\">#</span>\n<span class=\"c1\"># Function run by worker processes</span>\n<span class=\"c1\">#</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">worker</span><span class=\"p\">(</span><span class=\"nb\">input</span><span class=\"p\">,</span> <span class=\"n\">output</span><span class=\"p\">):</span>\n    <span class=\"k\">for</span> <span class=\"n\">func</span><span class=\"p\">,</span> <span class=\"n\">args</span> <span class=\"ow\">in</span> <span class=\"nb\">iter</span><span class=\"p\">(</span><span class=\"nb\">input</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">,</span> <span class=\"s1\">&#39;STOP&#39;</span><span class=\"p\">):</span>\n        <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">calculate</span><span class=\"p\">(</span><span class=\"n\">func</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"p\">)</span>\n        <span class=\"n\">output</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">)</span>\n\n<span class=\"c1\">#</span>\n<span class=\"c1\"># Function used to calculate result</span>\n<span class=\"c1\">#</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">calculate</span><span class=\"p\">(</span><span class=\"n\">func</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"p\">):</span>\n    <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">func</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"s1\">&#39;</span><span class=\"si\">%s</span><span class=\"s1\"> says that </span><span class=\"si\">%s%s</span><span class=\"s1\"> = </span><span class=\"si\">%s</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> \\\n        <span class=\"p\">(</span><span class=\"n\">current_process</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">func</span><span class=\"o\">.</span><span class=\"vm\">__name__</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"n\">result</span><span class=\"p\">)</span>\n\n<span class=\"c1\">#</span>\n<span class=\"c1\"># Functions referenced by tasks</span>\n<span class=\"c1\">#</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">mul</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">):</span>\n    <span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mf\">0.5</span><span class=\"o\">*</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">())</span>\n    <span class=\"k\">return</span> <span class=\"n\">a</span> <span class=\"o\">*</span> <span class=\"n\">b</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">plus</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">):</span>\n    <span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mf\">0.5</span><span class=\"o\">*</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">())</span>\n    <span class=\"k\">return</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span>\n\n<span class=\"c1\">#</span>\n<span class=\"c1\">#</span>\n<span class=\"c1\">#</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">test</span><span class=\"p\">():</span>\n    <span class=\"n\">NUMBER_OF_PROCESSES</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>\n    <span class=\"n\">TASKS1</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"n\">mul</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">))</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)]</span>\n    <span class=\"n\">TASKS2</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"n\">plus</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">))</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)]</span>\n\n    <span class=\"c1\"># Create queues</span>\n    <span class=\"n\">task_queue</span> <span class=\"o\">=</span> <span class=\"n\">Queue</span><span class=\"p\">()</span>\n    <span class=\"n\">done_queue</span> <span class=\"o\">=</span> <span class=\"n\">Queue</span><span class=\"p\">()</span>\n\n    <span class=\"c1\"># Submit tasks</span>\n    <span class=\"k\">for</span> <span class=\"n\">task</span> <span class=\"ow\">in</span> <span class=\"n\">TASKS1</span><span class=\"p\">:</span>\n        <span class=\"n\">task_queue</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"n\">task</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># Start worker processes</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">NUMBER_OF_PROCESSES</span><span class=\"p\">):</span>\n        <span class=\"n\">Process</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">worker</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">task_queue</span><span class=\"p\">,</span> <span class=\"n\">done_queue</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n\n    <span class=\"c1\"># Get and print results</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Unordered results:&#39;</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">TASKS1</span><span class=\"p\">)):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\t</span><span class=\"s1\">&#39;</span><span class=\"p\">,</span> <span class=\"n\">done_queue</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">())</span>\n\n    <span class=\"c1\"># Add more tasks using `put()`</span>\n    <span class=\"k\">for</span> <span class=\"n\">task</span> <span class=\"ow\">in</span> <span class=\"n\">TASKS2</span><span class=\"p\">:</span>\n        <span class=\"n\">task_queue</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"n\">task</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># Get and print some more results</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">TASKS2</span><span class=\"p\">)):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"se\">\\t</span><span class=\"s1\">&#39;</span><span class=\"p\">,</span> <span class=\"n\">done_queue</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">())</span>\n\n    <span class=\"c1\"># Tell child processes to stop</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">NUMBER_OF_PROCESSES</span><span class=\"p\">):</span>\n        <span class=\"n\">task_queue</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"s1\">&#39;STOP&#39;</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"n\">freeze_support</span><span class=\"p\">()</span>\n    <span class=\"n\">test</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n</section>\n\n\n            <div class=\"clearer\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"Main\">\n        <div class=\"sphinxsidebarwrapper\">\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code> — Process-based parallelism</a><ul>\n<li><a class=\"reference internal\" href=\"#introduction\">Introduction</a><ul>\n<li><a class=\"reference internal\" href=\"#the-process-class\">The <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code> class</a></li>\n<li><a class=\"reference internal\" href=\"#contexts-and-start-methods\">Contexts and start methods</a></li>\n<li><a class=\"reference internal\" href=\"#exchanging-objects-between-processes\">Exchanging objects between processes</a></li>\n<li><a class=\"reference internal\" href=\"#synchronization-between-processes\">Synchronization between processes</a></li>\n<li><a class=\"reference internal\" href=\"#sharing-state-between-processes\">Sharing state between processes</a></li>\n<li><a class=\"reference internal\" href=\"#using-a-pool-of-workers\">Using a pool of workers</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#reference\">Reference</a><ul>\n<li><a class=\"reference internal\" href=\"#process-and-exceptions\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Process</span></code> and exceptions</a></li>\n<li><a class=\"reference internal\" href=\"#pipes-and-queues\">Pipes and Queues</a></li>\n<li><a class=\"reference internal\" href=\"#miscellaneous\">Miscellaneous</a></li>\n<li><a class=\"reference internal\" href=\"#connection-objects\">Connection Objects</a></li>\n<li><a class=\"reference internal\" href=\"#synchronization-primitives\">Synchronization primitives</a></li>\n<li><a class=\"reference internal\" href=\"#shared-ctypes-objects\">Shared <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code> Objects</a><ul>\n<li><a class=\"reference internal\" href=\"#module-multiprocessing.sharedctypes\">The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.sharedctypes</span></code> module</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#managers\">Managers</a><ul>\n<li><a class=\"reference internal\" href=\"#customized-managers\">Customized managers</a></li>\n<li><a class=\"reference internal\" href=\"#using-a-remote-manager\">Using a remote manager</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#proxy-objects\">Proxy Objects</a><ul>\n<li><a class=\"reference internal\" href=\"#cleanup\">Cleanup</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#module-multiprocessing.pool\">Process Pools</a></li>\n<li><a class=\"reference internal\" href=\"#module-multiprocessing.connection\">Listeners and Clients</a><ul>\n<li><a class=\"reference internal\" href=\"#address-formats\">Address Formats</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#authentication-keys\">Authentication keys</a></li>\n<li><a class=\"reference internal\" href=\"#logging\">Logging</a></li>\n<li><a class=\"reference internal\" href=\"#module-multiprocessing.dummy\">The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.dummy</span></code> module</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#programming-guidelines\">Programming guidelines</a><ul>\n<li><a class=\"reference internal\" href=\"#all-start-methods\">All start methods</a></li>\n<li><a class=\"reference internal\" href=\"#the-spawn-and-forkserver-start-methods\">The <em>spawn</em> and <em>forkserver</em> start methods</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#examples\">Examples</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"threading.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> — Thread-based parallelism</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"multiprocessing.shared_memory.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing.shared_memory</span></code> — Shared memory for direct access across processes</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/multiprocessing.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </div>\n<div id=\"sidebarbutton\" title=\"Collapse sidebar\">\n<span>«</span>\n</div>\n\n      </div>\n      <div class=\"clearer\"></div>\n    </div>  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             >index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"multiprocessing.shared_memory.html\" title=\"multiprocessing.shared_memory — Shared memory for direct access across processes\"\n             >next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"threading.html\" title=\"threading — Thread-based parallelism\"\n             >previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"concurrency.html\" >Concurrent Execution</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code> — Process-based parallelism</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>  \n    <div class=\"footer\">\n    &copy; <a href=\"../copyright.html\">Copyright</a> 2001 Python Software Foundation.\n    <br>\n    This page is licensed under the Python Software Foundation License Version 2.\n    <br>\n    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.\n    <br>\n    \n      See <a href=\"/license.html\">History and License</a> for more information.<br>\n    \n    \n    <br>\n\n    The Python Software Foundation is a non-profit corporation.\n<a href=\"https://www.python.org/psf/donations/\">Please donate.</a>\n<br>\n    <br>\n      Last updated on Nov 25, 2025 (18:01 UTC).\n    \n      <a href=\"/bugs.html\">Found a bug</a>?\n    \n    <br>\n\n    Created using <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> 8.2.3.\n    </div>\n\n    <script type=\"text/javascript\" src=\"../_static/switchers.js\"></script>\n  </body>\n</html>",
  "metadata": {
    "title": "multiprocessing — Process-based parallelism — Python 3.14.0 documentation",
    "meta_description": "Source code: Lib/multiprocessing/ Availability: not Android, not iOS, not WASI. This module is not supported on mobile platforms or WebAssembly platforms. Introduction: multiprocessing is a package...",
    "h1": "— Process-based parallelism"
  },
  "request_headers": {
    "Referer": "https://docs.python.org/3/library/",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
    "Accept-Language": "en",
    "User-Agent": "DumbCrawler/1.0",
    "Accept-Encoding": "gzip, deflate"
  },
  "response_headers": {
    "Content-Length": "57107",
    "Server": "nginx",
    "Content-Type": "text/html",
    "Last-Modified": "Tue, 25 Nov 2025 18:03:26 GMT",
    "Etag": "\"6925ef6e-6db20\"",
    "X-Clacks-Overhead": "GNU Terry Pratchett",
    "Strict-Transport-Security": "max-age=315360000; includeSubDomains; preload",
    "Via": "1.1 varnish, 1.1 varnish",
    "Accept-Ranges": "bytes",
    "Age": "4818",
    "Date": "Wed, 26 Nov 2025 05:32:33 GMT",
    "X-Served-By": "cache-lga21960-LGA, cache-yul1970070-YUL",
    "X-Cache": "HIT, HIT",
    "X-Cache-Hits": "19, 0",
    "X-Timer": "S1764135153.344575,VS0,VE1",
    "Vary": "Accept-Encoding"
  },
  "crawled_at": "2025-11-26T05:32:33.998263+00:00",
  "crawler": {
    "name": "DumbCrawler",
    "version": "1.0",
    "mode": "crawl",
    "js_mode": "off",
    "scope": "subfolder"
  }
}