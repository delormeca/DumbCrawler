{
  "url": "https://docs.python.org/3/library/threading.html",
  "status_code": 200,
  "depth": 1,
  "referrer": "https://docs.python.org/3/library/",
  "raw_html": "<!DOCTYPE html>\n\n<html lang=\"en\" data-content_root=\"../\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<meta property=\"og:title\" content=\"threading — Thread-based parallelism\" />\n<meta property=\"og:type\" content=\"website\" />\n<meta property=\"og:url\" content=\"https://docs.python.org/3/library/threading.html\" />\n<meta property=\"og:site_name\" content=\"Python documentation\" />\n<meta property=\"og:description\" content=\"Source code: Lib/threading.py This module constructs higher-level threading interfaces on top of the lower level_thread module. Availability: not WASI. This module does not work or is not available...\" />\n<meta property=\"og:image:width\" content=\"1146\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://docs.python.org/3.14/_images/social_previews/summary_library_threading_d91eaec3.png\" />\n<meta property=\"og:image:alt\" content=\"Source code: Lib/threading.py This module constructs higher-level threading interfaces on top of the lower level_thread module. Availability: not WASI. This module does not work or is not available...\" />\n<meta name=\"description\" content=\"Source code: Lib/threading.py This module constructs higher-level threading interfaces on top of the lower level_thread module. Availability: not WASI. This module does not work or is not available...\" />\n<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"theme-color\" content=\"#3776ab\">\n\n    <title>threading — Thread-based parallelism &#8212; Python 3.14.0 documentation</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments.css?v=b86133f3\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/classic.css?v=234b1a7c\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pydoctheme.css?v=8cd84f99\" />\n    <link id=\"pygments_dark_css\" media=\"(prefers-color-scheme: dark)\" rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments_dark.css?v=5349f25f\" />\n    \n    <script src=\"../_static/documentation_options.js?v=e4f4b189\"></script>\n    <script src=\"../_static/doctools.js?v=9bcbadda\"></script>\n    <script src=\"../_static/sphinx_highlight.js?v=dc90522c\"></script>\n    \n    <script src=\"../_static/sidebar.js\"></script>\n    \n    <link rel=\"search\" type=\"application/opensearchdescription+xml\"\n          title=\"Search within Python 3.14.0 documentation\"\n          href=\"../_static/opensearch.xml\"/>\n    <link rel=\"author\" title=\"About these documents\" href=\"../about.html\" />\n    <link rel=\"index\" title=\"Index\" href=\"../genindex.html\" />\n    <link rel=\"search\" title=\"Search\" href=\"../search.html\" />\n    <link rel=\"copyright\" title=\"Copyright\" href=\"../copyright.html\" />\n    <link rel=\"next\" title=\"multiprocessing — Process-based parallelism\" href=\"multiprocessing.html\" />\n    <link rel=\"prev\" title=\"Concurrent Execution\" href=\"concurrency.html\" />\n    \n      \n      <script defer file-types=\"bz2,epub,zip\" data-domain=\"docs.python.org\" src=\"https://analytics.python.org/js/script.file-downloads.outbound-links.js\"></script>\n      \n      <link rel=\"canonical\" href=\"https://docs.python.org/3/library/threading.html\">\n      \n    \n\n    \n    <style>\n      @media only screen {\n        table.full-width-table {\n            width: 100%;\n        }\n      }\n    </style>\n<link rel=\"stylesheet\" href=\"../_static/pydoctheme_dark.css\" media=\"(prefers-color-scheme: dark)\" id=\"pydoctheme_dark_css\">\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"../_static/py.svg\">\n            <script type=\"text/javascript\" src=\"../_static/copybutton.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/menu.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/search-focus.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/themetoggle.js\"></script> \n            <script type=\"text/javascript\" src=\"../_static/rtd_switcher.js\"></script>\n            <meta name=\"readthedocs-addons-api-version\" content=\"1\">\n\n  </head>\n<body>\n<div class=\"mobile-nav\">\n    <input type=\"checkbox\" id=\"menuToggler\" class=\"toggler__input\" aria-controls=\"navigation\"\n           aria-pressed=\"false\" aria-expanded=\"false\" role=\"button\" aria-label=\"Menu\">\n    <nav class=\"nav-content\" role=\"navigation\">\n        <label for=\"menuToggler\" class=\"toggler__label\">\n            <span></span>\n        </label>\n        <span class=\"nav-items-wrapper\">\n            <a href=\"https://www.python.org/\" class=\"nav-logo\">\n                <img src=\"../_static/py.svg\" alt=\"Python logo\">\n            </a>\n            <span class=\"version_switcher_placeholder\"></span>\n            <form role=\"search\" class=\"search\" action=\"../search.html\" method=\"get\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" class=\"search-icon\">\n                    <path fill-rule=\"nonzero\" fill=\"currentColor\" d=\"M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n                </svg>\n                <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\">\n                <input type=\"submit\" value=\"Go\">\n            </form>\n        </span>\n    </nav>\n    <div class=\"menu-wrapper\">\n        <nav class=\"menu\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"language_switcher_placeholder\"></div>\n            \n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label>\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> — Thread-based parallelism</a><ul>\n<li><a class=\"reference internal\" href=\"#introduction\">Introduction</a></li>\n<li><a class=\"reference internal\" href=\"#gil-and-performance-considerations\">GIL and performance considerations</a></li>\n<li><a class=\"reference internal\" href=\"#reference\">Reference</a><ul>\n<li><a class=\"reference internal\" href=\"#thread-local-data\">Thread-local data</a></li>\n<li><a class=\"reference internal\" href=\"#thread-objects\">Thread objects</a></li>\n<li><a class=\"reference internal\" href=\"#lock-objects\">Lock objects</a></li>\n<li><a class=\"reference internal\" href=\"#rlock-objects\">RLock objects</a></li>\n<li><a class=\"reference internal\" href=\"#condition-objects\">Condition objects</a></li>\n<li><a class=\"reference internal\" href=\"#semaphore-objects\">Semaphore objects</a></li>\n<li><a class=\"reference internal\" href=\"#semaphore-example\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Semaphore</span></code> example</a></li>\n<li><a class=\"reference internal\" href=\"#event-objects\">Event objects</a></li>\n<li><a class=\"reference internal\" href=\"#timer-objects\">Timer objects</a></li>\n<li><a class=\"reference internal\" href=\"#barrier-objects\">Barrier objects</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#using-locks-conditions-and-semaphores-in-the-with-statement\">Using locks, conditions, and semaphores in the <code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code> statement</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"concurrency.html\"\n                          title=\"previous chapter\">Concurrent Execution</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"multiprocessing.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code> — Process-based parallelism</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/threading.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </nav>\n    </div>\n</div>\n\n  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             accesskey=\"I\">index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"multiprocessing.html\" title=\"multiprocessing — Process-based parallelism\"\n             accesskey=\"N\">next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"concurrency.html\" title=\"Concurrent Execution\"\n             accesskey=\"P\">previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"concurrency.html\" accesskey=\"U\">Concurrent Execution</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> — Thread-based parallelism</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>    \n\n    <div class=\"document\">\n      <div class=\"documentwrapper\">\n        <div class=\"bodywrapper\">\n          <div class=\"body\" role=\"main\">\n            \n  <section id=\"module-threading\">\n<span id=\"threading-thread-based-parallelism\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> — Thread-based parallelism<a class=\"headerlink\" href=\"#module-threading\" title=\"Link to this heading\">¶</a></h1>\n<p><strong>Source code:</strong> <a class=\"extlink-source reference external\" href=\"https://github.com/python/cpython/tree/3.14/Lib/threading.py\">Lib/threading.py</a></p>\n<hr class=\"docutils\" />\n<p>This module constructs higher-level threading interfaces on top of the lower\nlevel <a class=\"reference internal\" href=\"_thread.html#module-_thread\" title=\"_thread: Low-level threading API.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">_thread</span></code></a> module.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: not WASI.</p>\n<p>This module does not work or is not available on WebAssembly. See\n<a class=\"reference internal\" href=\"intro.html#wasm-availability\"><span class=\"std std-ref\">WebAssembly platforms</span></a> for more information.</p>\n</div>\n<section id=\"introduction\">\n<h2>Introduction<a class=\"headerlink\" href=\"#introduction\" title=\"Link to this heading\">¶</a></h2>\n<p>The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> module provides a way to run multiple <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Thread_(computing)\">threads</a> (smaller\nunits of a process) concurrently within a single process. It allows for the\ncreation and management of threads, making it possible to execute tasks in\nparallel, sharing memory space. Threads are particularly useful when tasks are\nI/O bound, such as file operations or making network requests,\nwhere much of the time is spent waiting for external resources.</p>\n<p>A typical use case for <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> includes managing a pool of worker\nthreads that can process multiple tasks concurrently.  Here’s a basic example of\ncreating and starting threads using <a class=\"reference internal\" href=\"#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Thread</span></code></a>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">threading</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">time</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">crawl</span><span class=\"p\">(</span><span class=\"n\">link</span><span class=\"p\">,</span> <span class=\"n\">delay</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;crawl started for </span><span class=\"si\">{</span><span class=\"n\">link</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n    <span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"n\">delay</span><span class=\"p\">)</span>  <span class=\"c1\"># Blocking I/O (simulating a network request)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;crawl ended for </span><span class=\"si\">{</span><span class=\"n\">link</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n\n<span class=\"n\">links</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"s2\">&quot;https://python.org&quot;</span><span class=\"p\">,</span>\n    <span class=\"s2\">&quot;https://docs.python.org&quot;</span><span class=\"p\">,</span>\n    <span class=\"s2\">&quot;https://peps.python.org&quot;</span><span class=\"p\">,</span>\n<span class=\"p\">]</span>\n\n<span class=\"c1\"># Start threads for each link</span>\n<span class=\"n\">threads</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"k\">for</span> <span class=\"n\">link</span> <span class=\"ow\">in</span> <span class=\"n\">links</span><span class=\"p\">:</span>\n    <span class=\"c1\"># Using `args` to pass positional arguments and `kwargs` for keyword arguments</span>\n    <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"n\">threading</span><span class=\"o\">.</span><span class=\"n\">Thread</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">crawl</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">link</span><span class=\"p\">,),</span> <span class=\"n\">kwargs</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;delay&quot;</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">})</span>\n    <span class=\"n\">threads</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Start each thread</span>\n<span class=\"k\">for</span> <span class=\"n\">t</span> <span class=\"ow\">in</span> <span class=\"n\">threads</span><span class=\"p\">:</span>\n    <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Wait for all threads to finish</span>\n<span class=\"k\">for</span> <span class=\"n\">t</span> <span class=\"ow\">in</span> <span class=\"n\">threads</span><span class=\"p\">:</span>\n    <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.7: </span>This module used to be optional, it is now always available.</p>\n</div>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<p><a class=\"reference internal\" href=\"concurrent.futures.html#concurrent.futures.ThreadPoolExecutor\" title=\"concurrent.futures.ThreadPoolExecutor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">concurrent.futures.ThreadPoolExecutor</span></code></a> offers a higher level interface\nto push tasks to a background thread without blocking execution of the\ncalling thread, while still being able to retrieve their results when needed.</p>\n<p><a class=\"reference internal\" href=\"queue.html#module-queue\" title=\"queue: A synchronized queue class.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">queue</span></code></a> provides a thread-safe interface for exchanging data between\nrunning threads.</p>\n<p><a class=\"reference internal\" href=\"asyncio.html#module-asyncio\" title=\"asyncio: Asynchronous I/O.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">asyncio</span></code></a> offers an alternative approach to achieving task level\nconcurrency without requiring the use of multiple operating system threads.</p>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>In the Python 2.x series, this module contained <code class=\"docutils literal notranslate\"><span class=\"pre\">camelCase</span></code> names\nfor some methods and functions. These are deprecated as of Python 3.10,\nbut they are still supported for compatibility with Python 2.5 and lower.</p>\n</div>\n<div class=\"impl-detail compound\">\n<p><strong>CPython implementation detail:</strong> In CPython, due to the <a class=\"reference internal\" href=\"../glossary.html#term-global-interpreter-lock\"><span class=\"xref std std-term\">Global Interpreter Lock</span></a>, only one thread\ncan execute Python code at once (even though certain performance-oriented\nlibraries might overcome this limitation).\nIf you want your application to make better use of the computational\nresources of multi-core machines, you are advised to use\n<a class=\"reference internal\" href=\"multiprocessing.html#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> or <a class=\"reference internal\" href=\"concurrent.futures.html#concurrent.futures.ProcessPoolExecutor\" title=\"concurrent.futures.ProcessPoolExecutor\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">concurrent.futures.ProcessPoolExecutor</span></code></a>.\nHowever, threading is still an appropriate model if you want to run\nmultiple I/O-bound tasks simultaneously.</p>\n</div>\n</section>\n<section id=\"gil-and-performance-considerations\">\n<h2>GIL and performance considerations<a class=\"headerlink\" href=\"#gil-and-performance-considerations\" title=\"Link to this heading\">¶</a></h2>\n<p>Unlike the <a class=\"reference internal\" href=\"multiprocessing.html#module-multiprocessing\" title=\"multiprocessing: Process-based parallelism.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code></a> module, which uses separate processes to\nbypass the <a class=\"reference internal\" href=\"../glossary.html#term-global-interpreter-lock\"><span class=\"xref std std-term\">global interpreter lock</span></a> (GIL), the threading module operates\nwithin a single process, meaning that all threads share the same memory space.\nHowever, the GIL limits the performance gains of threading when it comes to\nCPU-bound tasks, as only one thread can execute Python bytecode at a time.\nDespite this, threads remain a useful tool for achieving concurrency in many\nscenarios.</p>\n<p>As of Python 3.13, <a class=\"reference internal\" href=\"../glossary.html#term-free-threading\"><span class=\"xref std std-term\">free-threaded</span></a> builds\ncan disable the GIL, enabling true parallel execution of threads, but this\nfeature is not available by default (see <span class=\"target\" id=\"index-0\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0703/\"><strong>PEP 703</strong></a>).</p>\n</section>\n<section id=\"reference\">\n<h2>Reference<a class=\"headerlink\" href=\"#reference\" title=\"Link to this heading\">¶</a></h2>\n<p>This module defines the following functions:</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.active_count\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">active_count</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.active_count\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the number of <a class=\"reference internal\" href=\"#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Thread</span></code></a> objects currently alive.  The returned\ncount is equal to the length of the list returned by <a class=\"reference internal\" href=\"#threading.enumerate\" title=\"threading.enumerate\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">enumerate()</span></code></a>.</p>\n<p>The function <code class=\"docutils literal notranslate\"><span class=\"pre\">activeCount</span></code> is a deprecated alias for this function.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.current_thread\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">current_thread</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.current_thread\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the current <a class=\"reference internal\" href=\"#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Thread</span></code></a> object, corresponding to the caller’s thread\nof control.  If the caller’s thread of control was not created through the\n<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> module, a dummy thread object with limited functionality is\nreturned.</p>\n<p>The function <code class=\"docutils literal notranslate\"><span class=\"pre\">currentThread</span></code> is a deprecated alias for this function.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.excepthook\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">excepthook</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.excepthook\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Handle uncaught exception raised by <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Thread.run()</span></code></a>.</p>\n<p>The <em>args</em> argument has the following attributes:</p>\n<ul class=\"simple\">\n<li><p><em>exc_type</em>: Exception type.</p></li>\n<li><p><em>exc_value</em>: Exception value, can be <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p></li>\n<li><p><em>exc_traceback</em>: Exception traceback, can be <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p></li>\n<li><p><em>thread</em>: Thread which raised the exception, can be <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p></li>\n</ul>\n<p>If <em>exc_type</em> is <a class=\"reference internal\" href=\"exceptions.html#SystemExit\" title=\"SystemExit\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">SystemExit</span></code></a>, the exception is silently ignored.\nOtherwise, the exception is printed out on <a class=\"reference internal\" href=\"sys.html#sys.stderr\" title=\"sys.stderr\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.stderr</span></code></a>.</p>\n<p>If  this function raises an exception, <a class=\"reference internal\" href=\"sys.html#sys.excepthook\" title=\"sys.excepthook\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sys.excepthook()</span></code></a> is called to\nhandle it.</p>\n<p><a class=\"reference internal\" href=\"#threading.excepthook\" title=\"threading.excepthook\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">threading.excepthook()</span></code></a> can be overridden to control how uncaught\nexceptions raised by <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">Thread.run()</span></code></a> are handled.</p>\n<p>Storing <em>exc_value</em> using a custom hook can create a reference cycle. It\nshould be cleared explicitly to break the reference cycle when the\nexception is no longer needed.</p>\n<p>Storing <em>thread</em> using a custom hook can resurrect it if it is set to an\nobject which is being finalized. Avoid storing <em>thread</em> after the custom\nhook completes to avoid resurrecting objects.</p>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<p><a class=\"reference internal\" href=\"sys.html#sys.excepthook\" title=\"sys.excepthook\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sys.excepthook()</span></code></a> handles uncaught exceptions.</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.8.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"threading.__excepthook__\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">__excepthook__</span></span><a class=\"headerlink\" href=\"#threading.__excepthook__\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Holds the original value of <a class=\"reference internal\" href=\"#threading.excepthook\" title=\"threading.excepthook\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">threading.excepthook()</span></code></a>. It is saved so that the\noriginal value can be restored in case they happen to get replaced with\nbroken or alternative objects.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.10.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.get_ident\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">get_ident</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.get_ident\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the ‘thread identifier’ of the current thread.  This is a nonzero\ninteger.  Its value has no direct meaning; it is intended as a magic cookie\nto be used e.g. to index a dictionary of thread-specific data.  Thread\nidentifiers may be recycled when a thread exits and another thread is\ncreated.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.3.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.get_native_id\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">get_native_id</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.get_native_id\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the native integral Thread ID of the current thread assigned by the kernel.\nThis is a non-negative integer.\nIts value may be used to uniquely identify this particular thread system-wide\n(until the thread terminates, after which the value may be recycled by the OS).</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows, FreeBSD, Linux, macOS, OpenBSD, NetBSD, AIX, DragonFlyBSD, GNU/kFreeBSD.</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.8.</span></p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Added support for GNU/kFreeBSD.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.enumerate\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">enumerate</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.enumerate\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a list of all <a class=\"reference internal\" href=\"#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Thread</span></code></a> objects currently active.  The list\nincludes daemonic threads and dummy thread objects created by\n<a class=\"reference internal\" href=\"#threading.current_thread\" title=\"threading.current_thread\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">current_thread()</span></code></a>.  It excludes terminated threads and threads\nthat have not yet been started.  However, the main thread is always part\nof the result, even when terminated.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.main_thread\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">main_thread</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.main_thread\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the main <a class=\"reference internal\" href=\"#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Thread</span></code></a> object.  In normal conditions, the\nmain thread is the thread from which the Python interpreter was\nstarted.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.4.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.settrace\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">settrace</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.settrace\" title=\"Link to this definition\">¶</a></dt>\n<dd><p id=\"index-1\">Set a trace function for all threads started from the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> module.\nThe <em>func</em> will be passed to  <a class=\"reference internal\" href=\"sys.html#sys.settrace\" title=\"sys.settrace\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sys.settrace()</span></code></a> for each thread, before its\n<a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method is called.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.settrace_all_threads\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">settrace_all_threads</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.settrace_all_threads\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set a trace function for all threads started from the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> module\nand all Python threads that are currently executing.</p>\n<p>The <em>func</em> will be passed to  <a class=\"reference internal\" href=\"sys.html#sys.settrace\" title=\"sys.settrace\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sys.settrace()</span></code></a> for each thread, before its\n<a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method is called.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.12.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.gettrace\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">gettrace</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.gettrace\" title=\"Link to this definition\">¶</a></dt>\n<dd><p id=\"index-2\">Get the trace function as set by <a class=\"reference internal\" href=\"#threading.settrace\" title=\"threading.settrace\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">settrace()</span></code></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.10.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.setprofile\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">setprofile</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.setprofile\" title=\"Link to this definition\">¶</a></dt>\n<dd><p id=\"index-3\">Set a profile function for all threads started from the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> module.\nThe <em>func</em> will be passed to  <a class=\"reference internal\" href=\"sys.html#sys.setprofile\" title=\"sys.setprofile\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sys.setprofile()</span></code></a> for each thread, before its\n<a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method is called.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.setprofile_all_threads\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">setprofile_all_threads</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.setprofile_all_threads\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set a profile function for all threads started from the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> module\nand all Python threads that are currently executing.</p>\n<p>The <em>func</em> will be passed to  <a class=\"reference internal\" href=\"sys.html#sys.setprofile\" title=\"sys.setprofile\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sys.setprofile()</span></code></a> for each thread, before its\n<a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method is called.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.12.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.getprofile\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">getprofile</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.getprofile\" title=\"Link to this definition\">¶</a></dt>\n<dd><p id=\"index-4\">Get the profiler function as set by <a class=\"reference internal\" href=\"#threading.setprofile\" title=\"threading.setprofile\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">setprofile()</span></code></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.10.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"threading.stack_size\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">stack_size</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.stack_size\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the thread stack size used when creating new threads.  The optional\n<em>size</em> argument specifies the stack size to be used for subsequently created\nthreads, and must be 0 (use platform or configured default) or a positive\ninteger value of at least 32,768 (32 KiB). If <em>size</em> is not specified,\n0 is used.  If changing the thread stack size is\nunsupported, a <a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> is raised.  If the specified stack size is\ninvalid, a <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised and the stack size is unmodified.  32 KiB\nis currently the minimum supported stack size value to guarantee sufficient\nstack space for the interpreter itself.  Note that some platforms may have\nparticular restrictions on values for the stack size, such as requiring a\nminimum stack size &gt; 32 KiB or requiring allocation in multiples of the system\nmemory page size - platform documentation should be referred to for more\ninformation (4 KiB pages are common; using multiples of 4096 for the stack size is\nthe suggested approach in the absence of more specific information).</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows, pthreads.</p>\n<p>Unix platforms with POSIX threads support.</p>\n</div>\n</dd></dl>\n\n<p>This module also defines the following constant:</p>\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"threading.TIMEOUT_MAX\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">TIMEOUT_MAX</span></span><a class=\"headerlink\" href=\"#threading.TIMEOUT_MAX\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The maximum value allowed for the <em>timeout</em> parameter of blocking functions\n(<a class=\"reference internal\" href=\"#threading.Lock.acquire\" title=\"threading.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Lock.acquire()</span></code></a>, <a class=\"reference internal\" href=\"#threading.RLock.acquire\" title=\"threading.RLock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">RLock.acquire()</span></code></a>, <a class=\"reference internal\" href=\"#threading.Condition.wait\" title=\"threading.Condition.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Condition.wait()</span></code></a>, etc.).\nSpecifying a timeout greater than this value will raise an\n<a class=\"reference internal\" href=\"exceptions.html#OverflowError\" title=\"OverflowError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OverflowError</span></code></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n</dd></dl>\n\n<p>This module defines a number of classes, which are detailed in the sections\nbelow.</p>\n<p>The design of this module is loosely based on Java’s threading model. However,\nwhere Java makes locks and condition variables basic behavior of every object,\nthey are separate objects in Python.  Python’s <a class=\"reference internal\" href=\"#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Thread</span></code></a> class supports a\nsubset of the behavior of Java’s Thread class; currently, there are no\npriorities, no thread groups, and threads cannot be destroyed, stopped,\nsuspended, resumed, or interrupted.  The static methods of Java’s Thread class,\nwhen implemented, are mapped to module-level functions.</p>\n<p>All of the methods described below are executed atomically.</p>\n<section id=\"thread-local-data\">\n<h3>Thread-local data<a class=\"headerlink\" href=\"#thread-local-data\" title=\"Link to this heading\">¶</a></h3>\n<p>Thread-local data is data whose values are thread specific. If you\nhave data that you want to be local to a thread, create a\n<a class=\"reference internal\" href=\"#threading.local\" title=\"threading.local\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">local</span></code></a> object and use its attributes:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span> <span class=\"o\">=</span> <span class=\"n\">local</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">number</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">number</span>\n<span class=\"go\">42</span>\n</pre></div>\n</div>\n<p>You can also access the <a class=\"reference internal\" href=\"#threading.local\" title=\"threading.local\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">local</span></code></a>-object’s dictionary:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span>\n<span class=\"go\">{&#39;number&#39;: 42}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span><span class=\"o\">.</span><span class=\"n\">setdefault</span><span class=\"p\">(</span><span class=\"s1\">&#39;widgets&#39;</span><span class=\"p\">,</span> <span class=\"p\">[])</span>\n<span class=\"go\">[]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">widgets</span>\n<span class=\"go\">[]</span>\n</pre></div>\n</div>\n<p>If we access the data in a different thread:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">log</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">f</span><span class=\"p\">():</span>\n<span class=\"gp\">... </span>    <span class=\"n\">items</span> <span class=\"o\">=</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">())</span>\n<span class=\"gp\">... </span>    <span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">items</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>    <span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">number</span> <span class=\"o\">=</span> <span class=\"mi\">11</span>\n<span class=\"gp\">... </span>    <span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">number</span><span class=\"p\">)</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">threading</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">thread</span> <span class=\"o\">=</span> <span class=\"n\">threading</span><span class=\"o\">.</span><span class=\"n\">Thread</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">thread</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">thread</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">log</span>\n<span class=\"go\">[[], 11]</span>\n</pre></div>\n</div>\n<p>we get different data.  Furthermore, changes made in the other thread\ndon’t affect data seen in this thread:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">number</span>\n<span class=\"go\">42</span>\n</pre></div>\n</div>\n<p>Of course, values you get from a <a class=\"reference internal\" href=\"#threading.local\" title=\"threading.local\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">local</span></code></a> object, including their\n<a class=\"reference internal\" href=\"../reference/datamodel.html#object.__dict__\" title=\"object.__dict__\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">__dict__</span></code></a> attribute, are for whatever thread was current\nat the time the attribute was read.  For that reason, you generally\ndon’t want to save these values across threads, as they apply only to\nthe thread they came from.</p>\n<p>You can create custom <a class=\"reference internal\" href=\"#threading.local\" title=\"threading.local\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">local</span></code></a> objects by subclassing the\n<a class=\"reference internal\" href=\"#threading.local\" title=\"threading.local\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">local</span></code></a> class:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MyLocal</span><span class=\"p\">(</span><span class=\"n\">local</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">number</span> <span class=\"o\">=</span> <span class=\"mi\">2</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kw</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">(</span><span class=\"n\">kw</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">squared</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">number</span> <span class=\"o\">**</span> <span class=\"mi\">2</span>\n</pre></div>\n</div>\n<p>This can be useful to support default values, methods and\ninitialization.  Note that if you define an <a class=\"reference internal\" href=\"../reference/datamodel.html#object.__init__\" title=\"object.__init__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__init__()</span></code></a>\nmethod, it will be called each time the <a class=\"reference internal\" href=\"#threading.local\" title=\"threading.local\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">local</span></code></a> object is used\nin a separate thread.  This is necessary to initialize each thread’s\ndictionary.</p>\n<p>Now if we create a <a class=\"reference internal\" href=\"#threading.local\" title=\"threading.local\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">local</span></code></a> object:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span> <span class=\"o\">=</span> <span class=\"n\">MyLocal</span><span class=\"p\">(</span><span class=\"n\">color</span><span class=\"o\">=</span><span class=\"s1\">&#39;red&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>we have a default number:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">number</span>\n<span class=\"go\">2</span>\n</pre></div>\n</div>\n<p>an initial color:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">color</span>\n<span class=\"go\">&#39;red&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">del</span> <span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">color</span>\n</pre></div>\n</div>\n<p>And a method that operates on the data:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">squared</span><span class=\"p\">()</span>\n<span class=\"go\">4</span>\n</pre></div>\n</div>\n<p>As before, we can access the data in a separate thread:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">log</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">thread</span> <span class=\"o\">=</span> <span class=\"n\">threading</span><span class=\"o\">.</span><span class=\"n\">Thread</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">thread</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">thread</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">log</span>\n<span class=\"go\">[[(&#39;color&#39;, &#39;red&#39;)], 11]</span>\n</pre></div>\n</div>\n<p>without affecting this thread’s data:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">number</span>\n<span class=\"go\">2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">color</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"c\">...</span>\n<span class=\"gr\">AttributeError</span>: <span class=\"n\">&#39;MyLocal&#39; object has no attribute &#39;color&#39;</span>\n</pre></div>\n</div>\n<p>Note that subclasses can define <a class=\"reference internal\" href=\"../glossary.html#term-__slots__\"><span class=\"xref std std-term\">__slots__</span></a>, but they are not\nthread local. They are shared across threads:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MyLocal</span><span class=\"p\">(</span><span class=\"n\">local</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"vm\">__slots__</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;number&#39;</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span> <span class=\"o\">=</span> <span class=\"n\">MyLocal</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">number</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">color</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;red&#39;</span>\n</pre></div>\n</div>\n<p>So, the separate thread:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">thread</span> <span class=\"o\">=</span> <span class=\"n\">threading</span><span class=\"o\">.</span><span class=\"n\">Thread</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">f</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">thread</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">thread</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>affects what we see:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mydata</span><span class=\"o\">.</span><span class=\"n\">number</span>\n<span class=\"go\">11</span>\n</pre></div>\n</div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"threading.local\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">local</span></span><a class=\"headerlink\" href=\"#threading.local\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A class that represents thread-local data.</p>\n</dd></dl>\n\n</section>\n<section id=\"thread-objects\">\n<span id=\"id1\"></span><h3>Thread objects<a class=\"headerlink\" href=\"#thread-objects\" title=\"Link to this heading\">¶</a></h3>\n<p>The <a class=\"reference internal\" href=\"#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Thread</span></code></a> class represents an activity that is run in a separate\nthread of control.  There are two ways to specify the activity: by passing a\ncallable object to the constructor, or by overriding the <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a>\nmethod in a subclass.  No other methods (except for the constructor) should be\noverridden in a subclass.  In other words, <em>only</em>  override the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">__init__()</span></code> and <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> methods of this class.</p>\n<p>Once a thread object is created, its activity must be started by calling the\nthread’s <a class=\"reference internal\" href=\"#threading.Thread.start\" title=\"threading.Thread.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">start()</span></code></a> method.  This invokes the <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a>\nmethod in a separate thread of control.</p>\n<p>Once the thread’s activity is started, the thread is considered ‘alive’. It\nstops being alive when its <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method terminates – either\nnormally, or by raising an unhandled exception.  The <a class=\"reference internal\" href=\"#threading.Thread.is_alive\" title=\"threading.Thread.is_alive\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">is_alive()</span></code></a>\nmethod tests whether the thread is alive.</p>\n<p>Other threads can call a thread’s <a class=\"reference internal\" href=\"#threading.Thread.join\" title=\"threading.Thread.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> method.  This blocks\nthe calling thread until the thread whose <a class=\"reference internal\" href=\"#threading.Thread.join\" title=\"threading.Thread.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> method is\ncalled is terminated.</p>\n<p>A thread has a name.  The name can be passed to the constructor, and read or\nchanged through the <a class=\"reference internal\" href=\"#threading.Thread.name\" title=\"threading.Thread.name\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">name</span></code></a> attribute.</p>\n<p>If the <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method raises an exception,\n<a class=\"reference internal\" href=\"#threading.excepthook\" title=\"threading.excepthook\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">threading.excepthook()</span></code></a> is called to handle it. By default,\n<a class=\"reference internal\" href=\"#threading.excepthook\" title=\"threading.excepthook\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">threading.excepthook()</span></code></a> ignores silently <a class=\"reference internal\" href=\"exceptions.html#SystemExit\" title=\"SystemExit\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">SystemExit</span></code></a>.</p>\n<p>A thread can be flagged as a “daemon thread”.  The significance of this flag is\nthat the entire Python program exits when only daemon threads are left.  The\ninitial value is inherited from the creating thread.  The flag can be set\nthrough the <a class=\"reference internal\" href=\"#threading.Thread.daemon\" title=\"threading.Thread.daemon\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">daemon</span></code></a> property or the <em>daemon</em> constructor\nargument.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Daemon threads are abruptly stopped at shutdown.  Their resources (such\nas open files, database transactions, etc.) may not be released properly.\nIf you want your threads to stop gracefully, make them non-daemonic and\nuse a suitable signalling mechanism such as an <a class=\"reference internal\" href=\"#threading.Event\" title=\"threading.Event\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Event</span></code></a>.</p>\n</div>\n<p>There is a “main thread” object; this corresponds to the initial thread of\ncontrol in the Python program.  It is not a daemon thread.</p>\n<p>There is the possibility that “dummy thread objects” are created. These are\nthread objects corresponding to “alien threads”, which are threads of control\nstarted outside the threading module, such as directly from C code.  Dummy\nthread objects have limited functionality; they are always considered alive and\ndaemonic, and cannot be <a class=\"reference internal\" href=\"#meth-thread-join\"><span class=\"std std-ref\">joined</span></a>.  They are never deleted,\nsince it is impossible to detect the termination of alien threads.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Thread</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">group</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">target</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">args</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">()</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">kwargs</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">{}</span></span></em>, <em class=\"sig-param\"><span class=\"keyword-only-separator o\"><abbr title=\"Keyword-only parameters separator (PEP 3102)\"><span class=\"pre\">*</span></abbr></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">daemon</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">context</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Thread\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This constructor should always be called with keyword arguments.  Arguments\nare:</p>\n<p><em>group</em> should be <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>; reserved for future extension when a\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ThreadGroup</span></code> class is implemented.</p>\n<p><em>target</em> is the callable object to be invoked by the <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method.\nDefaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, meaning nothing is called.</p>\n<p><em>name</em> is the thread name. By default, a unique name is constructed\nof the form “Thread-<em>N</em>” where <em>N</em> is a small decimal number,\nor “Thread-<em>N</em> (target)” where “target” is <code class=\"docutils literal notranslate\"><span class=\"pre\">target.__name__</span></code> if the\n<em>target</em> argument is specified.</p>\n<p><em>args</em> is a list or tuple of arguments for the target invocation.  Defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">()</span></code>.</p>\n<p><em>kwargs</em> is a dictionary of keyword arguments for the target invocation.\nDefaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">{}</span></code>.</p>\n<p>If not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, <em>daemon</em> explicitly sets whether the thread is daemonic.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default), the daemonic property is inherited from the\ncurrent thread.</p>\n<p><em>context</em> is the <a class=\"reference internal\" href=\"contextvars.html#contextvars.Context\" title=\"contextvars.Context\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Context</span></code></a> value to use when starting\nthe thread.  The default value is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> which indicates that the\n<a class=\"reference internal\" href=\"sys.html#sys.flags.thread_inherit_context\" title=\"sys.flags.thread_inherit_context\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.flags.thread_inherit_context</span></code></a> flag controls the behaviour.  If\nthe flag is true, threads will start with a copy of the context of the\ncaller of <a class=\"reference internal\" href=\"#threading.Thread.start\" title=\"threading.Thread.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">start()</span></code></a>.  If false, they will start with an empty\ncontext.  To explicitly start with an empty context, pass a new instance of\n<a class=\"reference internal\" href=\"contextvars.html#contextvars.Context\" title=\"contextvars.Context\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Context()</span></code></a>.  To explicitly start with a copy of the\ncurrent context, pass the value from <a class=\"reference internal\" href=\"contextvars.html#contextvars.copy_context\" title=\"contextvars.copy_context\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">copy_context()</span></code></a>. The\nflag defaults true on free-threaded builds and false otherwise.</p>\n<p>If the subclass overrides the constructor, it must make sure to invoke the\nbase class constructor (<code class=\"docutils literal notranslate\"><span class=\"pre\">Thread.__init__()</span></code>) before doing anything else to\nthe thread.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>Added the <em>daemon</em> parameter.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.10: </span>Use the <em>target</em> name if <em>name</em> argument is omitted.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14: </span>Added the <em>context</em> parameter.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread.start\">\n<span class=\"sig-name descname\"><span class=\"pre\">start</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Thread.start\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Start the thread’s activity.</p>\n<p>It must be called at most once per thread object.  It arranges for the\nobject’s <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method to be invoked in a separate thread\nof control.</p>\n<p>This method will raise a <a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> if called more than once\non the same thread object.</p>\n<p>If supported, set the operating system thread name to\n<a class=\"reference internal\" href=\"#threading.Thread.name\" title=\"threading.Thread.name\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">threading.Thread.name</span></code></a>. The name can be truncated depending on the\noperating system thread name limits.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14: </span>Set the operating system thread name.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread.run\">\n<span class=\"sig-name descname\"><span class=\"pre\">run</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Thread.run\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Method representing the thread’s activity.</p>\n<p>You may override this method in a subclass.  The standard <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a>\nmethod invokes the callable object passed to the object’s constructor as\nthe <em>target</em> argument, if any, with positional and keyword arguments taken\nfrom the <em>args</em> and <em>kwargs</em> arguments, respectively.</p>\n<p>Using list or tuple as the <em>args</em> argument which passed to the <a class=\"reference internal\" href=\"#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Thread</span></code></a>\ncould achieve the same effect.</p>\n<p>Example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">threading</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Thread</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"n\">Thread</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"nb\">print</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n<span class=\"go\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"n\">Thread</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"nb\">print</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n<span class=\"go\">1</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\" id=\"meth-thread-join\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread.join\">\n<span class=\"sig-name descname\"><span class=\"pre\">join</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Thread.join\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Wait until the thread terminates. This blocks the calling thread until\nthe thread whose <a class=\"reference internal\" href=\"#threading.Thread.join\" title=\"threading.Thread.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> method is called terminates – either\nnormally or through an unhandled exception – or until the optional\ntimeout occurs.</p>\n<p>When the <em>timeout</em> argument is present and not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, it should be a\nfloating-point number specifying a timeout for the operation in seconds\n(or fractions thereof). As <a class=\"reference internal\" href=\"#threading.Thread.join\" title=\"threading.Thread.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> always returns <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>,\nyou must call <a class=\"reference internal\" href=\"#threading.Thread.is_alive\" title=\"threading.Thread.is_alive\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">is_alive()</span></code></a> after <a class=\"reference internal\" href=\"#threading.Thread.join\" title=\"threading.Thread.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> to\ndecide whether a timeout happened – if the thread is still alive, the\n<a class=\"reference internal\" href=\"#threading.Thread.join\" title=\"threading.Thread.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> call timed out.</p>\n<p>When the <em>timeout</em> argument is not present or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, the operation will\nblock until the thread terminates.</p>\n<p>A thread can be joined many times.</p>\n<p><a class=\"reference internal\" href=\"#threading.Thread.join\" title=\"threading.Thread.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> raises a <a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> if an attempt is made\nto join the current thread as that would cause a deadlock. It is also\nan error to <a class=\"reference internal\" href=\"#threading.Thread.join\" title=\"threading.Thread.join\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code></a> a thread before it has been started\nand attempts to do so raise the same exception.</p>\n<p>If an attempt is made to join a running daemonic thread in late stages\nof <a class=\"reference internal\" href=\"../glossary.html#term-interpreter-shutdown\"><span class=\"xref std std-term\">Python finalization</span></a> <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">join()</span></code>\nraises a <a class=\"reference internal\" href=\"exceptions.html#PythonFinalizationError\" title=\"PythonFinalizationError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">PythonFinalizationError</span></code></a>.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14: </span>May raise <a class=\"reference internal\" href=\"exceptions.html#PythonFinalizationError\" title=\"PythonFinalizationError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">PythonFinalizationError</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread.name\">\n<span class=\"sig-name descname\"><span class=\"pre\">name</span></span><a class=\"headerlink\" href=\"#threading.Thread.name\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A string used for identification purposes only. It has no semantics.\nMultiple threads may be given the same name.  The initial name is set by\nthe constructor.</p>\n<p>On some platforms, the thread name is set at the operating system level\nwhen the thread starts, so that it is visible in task managers.\nThis name may be truncated to fit in a system-specific limit (for example,\n15 bytes on Linux or 63 bytes on macOS).</p>\n<p>Changes to <em>name</em> are only reflected at the OS level when the currently\nrunning thread is renamed. (Setting the <em>name</em> attribute of a\ndifferent thread only updates the Python Thread object.)</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread.getName\">\n<span class=\"sig-name descname\"><span class=\"pre\">getName</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Thread.getName\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"threading.Thread.setName\">\n<span class=\"sig-name descname\"><span class=\"pre\">setName</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Thread.setName\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Deprecated getter/setter API for <a class=\"reference internal\" href=\"#threading.Thread.name\" title=\"threading.Thread.name\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">name</span></code></a>; use it directly as a\nproperty instead.</p>\n<div class=\"deprecated\">\n<p><span class=\"versionmodified deprecated\">Deprecated since version 3.10.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread.ident\">\n<span class=\"sig-name descname\"><span class=\"pre\">ident</span></span><a class=\"headerlink\" href=\"#threading.Thread.ident\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The ‘thread identifier’ of this thread or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> if the thread has not\nbeen started.  This is a nonzero integer.  See the <a class=\"reference internal\" href=\"#threading.get_ident\" title=\"threading.get_ident\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">get_ident()</span></code></a>\nfunction.  Thread identifiers may be recycled when a thread exits and\nanother thread is created.  The identifier is available even after the\nthread has exited.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread.native_id\">\n<span class=\"sig-name descname\"><span class=\"pre\">native_id</span></span><a class=\"headerlink\" href=\"#threading.Thread.native_id\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The Thread ID (<code class=\"docutils literal notranslate\"><span class=\"pre\">TID</span></code>) of this thread, as assigned by the OS (kernel).\nThis is a non-negative integer, or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> if the thread has not\nbeen started. See the <a class=\"reference internal\" href=\"#threading.get_native_id\" title=\"threading.get_native_id\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">get_native_id()</span></code></a> function.\nThis value may be used to uniquely identify this particular thread\nsystem-wide (until the thread terminates, after which the value\nmay be recycled by the OS).</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Similar to Process IDs, Thread IDs are only valid (guaranteed unique\nsystem-wide) from the time the thread is created until the thread\nhas been terminated.</p>\n</div>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows, FreeBSD, Linux, macOS, OpenBSD, NetBSD, AIX, DragonFlyBSD.</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.8.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread.is_alive\">\n<span class=\"sig-name descname\"><span class=\"pre\">is_alive</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Thread.is_alive\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return whether the thread is alive.</p>\n<p>This method returns <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> just before the <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method\nstarts until just after the <a class=\"reference internal\" href=\"#threading.Thread.run\" title=\"threading.Thread.run\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">run()</span></code></a> method terminates.  The\nmodule function <a class=\"reference internal\" href=\"#threading.enumerate\" title=\"threading.enumerate\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">enumerate()</span></code></a> returns a list of all alive threads.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread.daemon\">\n<span class=\"sig-name descname\"><span class=\"pre\">daemon</span></span><a class=\"headerlink\" href=\"#threading.Thread.daemon\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A boolean value indicating whether this thread is a daemon thread (<code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)\nor not (<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>).  This must be set before <a class=\"reference internal\" href=\"#threading.Thread.start\" title=\"threading.Thread.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">start()</span></code></a> is called,\notherwise <a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> is raised.  Its initial value is inherited\nfrom the creating thread; the main thread is not a daemon thread and\ntherefore all threads created in the main thread default to\n<a class=\"reference internal\" href=\"#threading.Thread.daemon\" title=\"threading.Thread.daemon\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">daemon</span></code></a> = <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.</p>\n<p>The entire Python program exits when no alive non-daemon threads are left.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Thread.isDaemon\">\n<span class=\"sig-name descname\"><span class=\"pre\">isDaemon</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Thread.isDaemon\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"threading.Thread.setDaemon\">\n<span class=\"sig-name descname\"><span class=\"pre\">setDaemon</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Thread.setDaemon\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Deprecated getter/setter API for <a class=\"reference internal\" href=\"#threading.Thread.daemon\" title=\"threading.Thread.daemon\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">daemon</span></code></a>; use it directly as a\nproperty instead.</p>\n<div class=\"deprecated\">\n<p><span class=\"versionmodified deprecated\">Deprecated since version 3.10.</span></p>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"lock-objects\">\n<span id=\"id2\"></span><h3>Lock objects<a class=\"headerlink\" href=\"#lock-objects\" title=\"Link to this heading\">¶</a></h3>\n<p>A primitive lock is a synchronization primitive that is not owned by a\nparticular thread when locked.  In Python, it is currently the lowest level\nsynchronization primitive available, implemented directly by the <a class=\"reference internal\" href=\"_thread.html#module-_thread\" title=\"_thread: Low-level threading API.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">_thread</span></code></a>\nextension module.</p>\n<p>A primitive lock is in one of two states, “locked” or “unlocked”. It is created\nin the unlocked state.  It has two basic methods, <a class=\"reference internal\" href=\"#threading.Lock.acquire\" title=\"threading.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> and\n<a class=\"reference internal\" href=\"#threading.Lock.release\" title=\"threading.Lock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a>.  When the state is unlocked, <a class=\"reference internal\" href=\"#threading.Lock.acquire\" title=\"threading.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a>\nchanges the state to locked and returns immediately.  When the state is locked,\n<a class=\"reference internal\" href=\"#threading.Lock.acquire\" title=\"threading.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> blocks until a call to <a class=\"reference internal\" href=\"#threading.Lock.release\" title=\"threading.Lock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> in another\nthread changes it to unlocked, then the <a class=\"reference internal\" href=\"#threading.Lock.acquire\" title=\"threading.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> call resets it\nto locked and returns.  The <a class=\"reference internal\" href=\"#threading.Lock.release\" title=\"threading.Lock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> method should only be\ncalled in the locked state; it changes the state to unlocked and returns\nimmediately. If an attempt is made to release an unlocked lock, a\n<a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> will be raised.</p>\n<p>Locks also support the <a class=\"reference internal\" href=\"#with-locks\"><span class=\"std std-ref\">context management protocol</span></a>.</p>\n<p>When more than one thread is blocked in <a class=\"reference internal\" href=\"#threading.Lock.acquire\" title=\"threading.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> waiting for the\nstate to turn to unlocked, only one thread proceeds when a <a class=\"reference internal\" href=\"#threading.Lock.release\" title=\"threading.Lock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a>\ncall resets the state to unlocked; which one of the waiting threads proceeds\nis not defined, and may vary across implementations.</p>\n<p>All methods are executed atomically.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"threading.Lock\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Lock</span></span><a class=\"headerlink\" href=\"#threading.Lock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The class implementing primitive lock objects.  Once a thread has acquired a\nlock, subsequent attempts to acquire it block, until it is released; any\nthread may release it.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span><code class=\"docutils literal notranslate\"><span class=\"pre\">Lock</span></code> is now a class. In earlier Pythons, <code class=\"docutils literal notranslate\"><span class=\"pre\">Lock</span></code> was a factory\nfunction which returned an instance of the underlying private lock\ntype.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Lock.acquire\">\n<span class=\"sig-name descname\"><span class=\"pre\">acquire</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">blocking</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">-1</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Lock.acquire\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Acquire a lock, blocking or non-blocking.</p>\n<p>When invoked with the <em>blocking</em> argument set to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (the default),\nblock until the lock is unlocked, then set it to locked and return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</p>\n<p>When invoked with the <em>blocking</em> argument set to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, do not block.\nIf a call with <em>blocking</em> set to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> would block, return <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>\nimmediately; otherwise, set the lock to locked and return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</p>\n<p>When invoked with the floating-point <em>timeout</em> argument set to a positive\nvalue, block for at most the number of seconds specified by <em>timeout</em>\nand as long as the lock cannot be acquired.  A <em>timeout</em> argument of <code class=\"docutils literal notranslate\"><span class=\"pre\">-1</span></code>\nspecifies an unbounded wait.  It is forbidden to specify a <em>timeout</em>\nwhen <em>blocking</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.</p>\n<p>The return value is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if the lock is acquired successfully,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> if not (for example if the <em>timeout</em> expired).</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.2: </span>The <em>timeout</em> parameter is new.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.2: </span>Lock acquisition can now be interrupted by signals on POSIX if the\nunderlying threading implementation supports it.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14: </span>Lock acquisition can now be interrupted by signals on Windows.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Lock.release\">\n<span class=\"sig-name descname\"><span class=\"pre\">release</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Lock.release\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Release a lock.  This can be called from any thread, not only the thread\nwhich has acquired the lock.</p>\n<p>When the lock is locked, reset it to unlocked, and return.  If any other threads\nare blocked waiting for the lock to become unlocked, allow exactly one of them\nto proceed.</p>\n<p>When invoked on an unlocked lock, a <a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> is raised.</p>\n<p>There is no return value.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Lock.locked\">\n<span class=\"sig-name descname\"><span class=\"pre\">locked</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Lock.locked\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if the lock is acquired.</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"rlock-objects\">\n<span id=\"id3\"></span><h3>RLock objects<a class=\"headerlink\" href=\"#rlock-objects\" title=\"Link to this heading\">¶</a></h3>\n<p>A reentrant lock is a synchronization primitive that may be acquired multiple\ntimes by the same thread.  Internally, it uses the concepts of “owning thread”\nand “recursion level” in addition to the locked/unlocked state used by primitive\nlocks.  In the locked state, some thread owns the lock; in the unlocked state,\nno thread owns it.</p>\n<p>Threads call a lock’s <a class=\"reference internal\" href=\"#threading.RLock.acquire\" title=\"threading.RLock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> method to lock it,\nand its <a class=\"reference internal\" href=\"#threading.Lock.release\" title=\"threading.Lock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> method to unlock it.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Reentrant locks support the <a class=\"reference internal\" href=\"#with-locks\"><span class=\"std std-ref\">context management protocol</span></a>,\nso it is recommended to use <a class=\"reference internal\" href=\"../reference/compound_stmts.html#with\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code></a> instead of manually calling\n<a class=\"reference internal\" href=\"#threading.RLock.acquire\" title=\"threading.RLock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> and <a class=\"reference internal\" href=\"#threading.RLock.release\" title=\"threading.RLock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a>\nto handle acquiring and releasing the lock for a block of code.</p>\n</div>\n<p>RLock’s <a class=\"reference internal\" href=\"#threading.RLock.acquire\" title=\"threading.RLock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a>/<a class=\"reference internal\" href=\"#threading.RLock.release\" title=\"threading.RLock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> call pairs may be nested,\nunlike Lock’s <a class=\"reference internal\" href=\"#threading.Lock.acquire\" title=\"threading.Lock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a>/<a class=\"reference internal\" href=\"#threading.Lock.release\" title=\"threading.Lock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a>. Only the final\n<a class=\"reference internal\" href=\"#threading.RLock.release\" title=\"threading.RLock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> (the <a class=\"reference internal\" href=\"#threading.Lock.release\" title=\"threading.Lock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> of the outermost pair) resets\nthe lock to an unlocked state and allows another thread blocked in\n<a class=\"reference internal\" href=\"#threading.RLock.acquire\" title=\"threading.RLock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> to proceed.</p>\n<p><a class=\"reference internal\" href=\"#threading.RLock.acquire\" title=\"threading.RLock.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a>/<a class=\"reference internal\" href=\"#threading.RLock.release\" title=\"threading.RLock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> must be used in pairs: each acquire\nmust have a release in the thread that has acquired the lock. Failing to\ncall release as many times the lock has been acquired can lead to deadlock.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"threading.RLock\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">RLock</span></span><a class=\"headerlink\" href=\"#threading.RLock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This class implements reentrant lock objects.  A reentrant lock must be\nreleased by the thread that acquired it.  Once a thread has acquired a\nreentrant lock, the same thread may acquire it again without blocking; the\nthread must release it once for each time it has acquired it.</p>\n<p>Note that <code class=\"docutils literal notranslate\"><span class=\"pre\">RLock</span></code> is actually a factory function which returns an instance\nof the most efficient version of the concrete RLock class that is supported\nby the platform.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.RLock.acquire\">\n<span class=\"sig-name descname\"><span class=\"pre\">acquire</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">blocking</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">-1</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.RLock.acquire\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Acquire a lock, blocking or non-blocking.</p>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<dl class=\"simple\">\n<dt><a class=\"reference internal\" href=\"#with-locks\"><span class=\"std std-ref\">Using RLock as a context manager</span></a></dt><dd><p>Recommended over manual <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code> and <a class=\"reference internal\" href=\"#threading.RLock.release\" title=\"threading.RLock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> calls\nwhenever practical.</p>\n</dd>\n</dl>\n</div>\n<p>When invoked with the <em>blocking</em> argument set to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (the default):</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li><p>If no thread owns the lock, acquire the lock and return immediately.</p></li>\n<li><p>If another thread owns the lock, block until we are able to acquire\nlock, or <em>timeout</em>, if set to a positive float value.</p></li>\n<li><p>If the same thread owns the lock, acquire the lock again, and\nreturn immediately. This is the difference between <a class=\"reference internal\" href=\"#threading.Lock\" title=\"threading.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a> and\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code>; <a class=\"reference internal\" href=\"#threading.Lock\" title=\"threading.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a> handles this case the same as the previous,\nblocking until the lock can be acquired.</p></li>\n</ul>\n</div></blockquote>\n<p>When invoked with the <em>blocking</em> argument set to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>:</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li><p>If no thread owns the lock, acquire the lock and return immediately.</p></li>\n<li><p>If another thread owns the lock, return immediately.</p></li>\n<li><p>If the same thread owns the lock, acquire the lock again and return\nimmediately.</p></li>\n</ul>\n</div></blockquote>\n<p>In all cases, if the thread was able to acquire the lock, return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.\nIf the thread was unable to acquire the lock (i.e. if not blocking or\nthe timeout was reached) return <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.</p>\n<p>If called multiple times, failing to call <a class=\"reference internal\" href=\"#threading.RLock.release\" title=\"threading.RLock.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> as many times\nmay lead to deadlock. Consider using <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code> as a context manager rather than\ncalling acquire/release directly.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.2: </span>The <em>timeout</em> parameter is new.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.RLock.release\">\n<span class=\"sig-name descname\"><span class=\"pre\">release</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.RLock.release\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Release a lock, decrementing the recursion level.  If after the decrement it is\nzero, reset the lock to unlocked (not owned by any thread), and if any other\nthreads are blocked waiting for the lock to become unlocked, allow exactly one\nof them to proceed.  If after the decrement the recursion level is still\nnonzero, the lock remains locked and owned by the calling thread.</p>\n<p>Only call this method when the calling thread owns the lock. A\n<a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> is raised if this method is called when the lock is\nnot acquired.</p>\n<p>There is no return value.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.RLock.locked\">\n<span class=\"sig-name descname\"><span class=\"pre\">locked</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.RLock.locked\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a boolean indicating whether this object is locked right now.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"condition-objects\">\n<span id=\"id4\"></span><h3>Condition objects<a class=\"headerlink\" href=\"#condition-objects\" title=\"Link to this heading\">¶</a></h3>\n<p>A condition variable is always associated with some kind of lock; this can be\npassed in or one will be created by default.  Passing one in is useful when\nseveral condition variables must share the same lock.  The lock is part of\nthe condition object: you don’t have to track it separately.</p>\n<p>A condition variable obeys the <a class=\"reference internal\" href=\"#with-locks\"><span class=\"std std-ref\">context management protocol</span></a>:\nusing the <code class=\"docutils literal notranslate\"><span class=\"pre\">with</span></code> statement acquires the associated lock for the duration of\nthe enclosed block.  The <a class=\"reference internal\" href=\"#threading.Condition.acquire\" title=\"threading.Condition.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> and\n<a class=\"reference internal\" href=\"#threading.Condition.release\" title=\"threading.Condition.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> methods also call the corresponding methods of\nthe associated lock.</p>\n<p>Other methods must be called with the associated lock held.  The\n<a class=\"reference internal\" href=\"#threading.Condition.wait\" title=\"threading.Condition.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> method releases the lock, and then blocks until\nanother thread awakens it by calling <a class=\"reference internal\" href=\"#threading.Condition.notify\" title=\"threading.Condition.notify\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify()</span></code></a> or\n<a class=\"reference internal\" href=\"#threading.Condition.notify_all\" title=\"threading.Condition.notify_all\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify_all()</span></code></a>.  Once awakened, <a class=\"reference internal\" href=\"#threading.Condition.wait\" title=\"threading.Condition.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a>\nre-acquires the lock and returns.  It is also possible to specify a timeout.</p>\n<p>The <a class=\"reference internal\" href=\"#threading.Condition.notify\" title=\"threading.Condition.notify\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify()</span></code></a> method wakes up one of the threads waiting for\nthe condition variable, if any are waiting.  The <a class=\"reference internal\" href=\"#threading.Condition.notify_all\" title=\"threading.Condition.notify_all\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify_all()</span></code></a>\nmethod wakes up all threads waiting for the condition variable.</p>\n<p>Note: the <a class=\"reference internal\" href=\"#threading.Condition.notify\" title=\"threading.Condition.notify\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify()</span></code></a> and <a class=\"reference internal\" href=\"#threading.Condition.notify_all\" title=\"threading.Condition.notify_all\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify_all()</span></code></a> methods\ndon’t release the lock; this means that the thread or threads awakened will\nnot return from their <a class=\"reference internal\" href=\"#threading.Condition.wait\" title=\"threading.Condition.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> call immediately, but only when\nthe thread that called <a class=\"reference internal\" href=\"#threading.Condition.notify\" title=\"threading.Condition.notify\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify()</span></code></a> or <a class=\"reference internal\" href=\"#threading.Condition.notify_all\" title=\"threading.Condition.notify_all\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify_all()</span></code></a>\nfinally relinquishes ownership of the lock.</p>\n<p>The typical programming style using condition variables uses the lock to\nsynchronize access to some shared state; threads that are interested in a\nparticular change of state call <a class=\"reference internal\" href=\"#threading.Condition.wait\" title=\"threading.Condition.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> repeatedly until they\nsee the desired state, while threads that modify the state call\n<a class=\"reference internal\" href=\"#threading.Condition.notify\" title=\"threading.Condition.notify\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify()</span></code></a> or <a class=\"reference internal\" href=\"#threading.Condition.notify_all\" title=\"threading.Condition.notify_all\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify_all()</span></code></a> when they change\nthe state in such a way that it could possibly be a desired state for one\nof the waiters.  For example, the following code is a generic\nproducer-consumer situation with unlimited buffer capacity:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Consume one item</span>\n<span class=\"k\">with</span> <span class=\"n\">cv</span><span class=\"p\">:</span>\n    <span class=\"k\">while</span> <span class=\"ow\">not</span> <span class=\"n\">an_item_is_available</span><span class=\"p\">():</span>\n        <span class=\"n\">cv</span><span class=\"o\">.</span><span class=\"n\">wait</span><span class=\"p\">()</span>\n    <span class=\"n\">get_an_available_item</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Produce one item</span>\n<span class=\"k\">with</span> <span class=\"n\">cv</span><span class=\"p\">:</span>\n    <span class=\"n\">make_an_item_available</span><span class=\"p\">()</span>\n    <span class=\"n\">cv</span><span class=\"o\">.</span><span class=\"n\">notify</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">while</span></code> loop checking for the application’s condition is necessary\nbecause <a class=\"reference internal\" href=\"#threading.Condition.wait\" title=\"threading.Condition.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> can return after an arbitrary long time,\nand the condition which prompted the <a class=\"reference internal\" href=\"#threading.Condition.notify\" title=\"threading.Condition.notify\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify()</span></code></a> call may\nno longer hold true.  This is inherent to multi-threaded programming.  The\n<a class=\"reference internal\" href=\"#threading.Condition.wait_for\" title=\"threading.Condition.wait_for\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait_for()</span></code></a> method can be used to automate the condition\nchecking, and eases the computation of timeouts:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Consume an item</span>\n<span class=\"k\">with</span> <span class=\"n\">cv</span><span class=\"p\">:</span>\n    <span class=\"n\">cv</span><span class=\"o\">.</span><span class=\"n\">wait_for</span><span class=\"p\">(</span><span class=\"n\">an_item_is_available</span><span class=\"p\">)</span>\n    <span class=\"n\">get_an_available_item</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>To choose between <a class=\"reference internal\" href=\"#threading.Condition.notify\" title=\"threading.Condition.notify\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify()</span></code></a> and <a class=\"reference internal\" href=\"#threading.Condition.notify_all\" title=\"threading.Condition.notify_all\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify_all()</span></code></a>,\nconsider whether one state change can be interesting for only one or several\nwaiting threads.  E.g. in a typical producer-consumer situation, adding one\nitem to the buffer only needs to wake up one consumer thread.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"threading.Condition\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Condition</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">lock</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Condition\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This class implements condition variable objects.  A condition variable\nallows one or more threads to wait until they are notified by another thread.</p>\n<p>If the <em>lock</em> argument is given and not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, it must be a <a class=\"reference internal\" href=\"#threading.Lock\" title=\"threading.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a>\nor <a class=\"reference internal\" href=\"#threading.RLock\" title=\"threading.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a> object, and it is used as the underlying lock.  Otherwise,\na new <a class=\"reference internal\" href=\"#threading.RLock\" title=\"threading.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a> object is created and used as the underlying lock.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>changed from a factory function to a class.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Condition.acquire\">\n<span class=\"sig-name descname\"><span class=\"pre\">acquire</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Condition.acquire\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Acquire the underlying lock. This method calls the corresponding method on\nthe underlying lock; the return value is whatever that method returns.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Condition.release\">\n<span class=\"sig-name descname\"><span class=\"pre\">release</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Condition.release\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Release the underlying lock. This method calls the corresponding method on\nthe underlying lock; there is no return value.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Condition.locked\">\n<span class=\"sig-name descname\"><span class=\"pre\">locked</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Condition.locked\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a boolean indicating whether this object is locked right now.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Condition.wait\">\n<span class=\"sig-name descname\"><span class=\"pre\">wait</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Condition.wait\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Wait until notified or until a timeout occurs. If the calling thread has\nnot acquired the lock when this method is called, a <a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> is\nraised.</p>\n<p>This method releases the underlying lock, and then blocks until it is\nawakened by a <a class=\"reference internal\" href=\"#threading.Condition.notify\" title=\"threading.Condition.notify\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify()</span></code></a> or <a class=\"reference internal\" href=\"#threading.Condition.notify_all\" title=\"threading.Condition.notify_all\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify_all()</span></code></a> call for the same\ncondition variable in another thread, or until the optional timeout\noccurs.  Once awakened or timed out, it re-acquires the lock and returns.</p>\n<p>When the <em>timeout</em> argument is present and not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, it should be a\nfloating-point number specifying a timeout for the operation in seconds\n(or fractions thereof).</p>\n<p>When the underlying lock is an <a class=\"reference internal\" href=\"#threading.RLock\" title=\"threading.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a>, it is not released using\nits <a class=\"reference internal\" href=\"#threading.Condition.release\" title=\"threading.Condition.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> method, since this may not actually unlock the lock\nwhen it was acquired multiple times recursively.  Instead, an internal\ninterface of the <a class=\"reference internal\" href=\"#threading.RLock\" title=\"threading.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a> class is used, which really unlocks it\neven when it has been recursively acquired several times. Another internal\ninterface is then used to restore the recursion level when the lock is\nreacquired.</p>\n<p>The return value is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> unless a given <em>timeout</em> expired, in which\ncase it is <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.2: </span>Previously, the method always returned <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Condition.wait_for\">\n<span class=\"sig-name descname\"><span class=\"pre\">wait_for</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">predicate</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Condition.wait_for\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Wait until a condition evaluates to true.  <em>predicate</em> should be a\ncallable which result will be interpreted as a boolean value.\nA <em>timeout</em> may be provided giving the maximum time to wait.</p>\n<p>This utility method may call <a class=\"reference internal\" href=\"#threading.Condition.wait\" title=\"threading.Condition.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> repeatedly until the predicate\nis satisfied, or until a timeout occurs. The return value is\nthe last return value of the predicate and will evaluate to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> if the method timed out.</p>\n<p>Ignoring the timeout feature, calling this method is roughly equivalent to\nwriting:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">while</span> <span class=\"ow\">not</span> <span class=\"n\">predicate</span><span class=\"p\">():</span>\n    <span class=\"n\">cv</span><span class=\"o\">.</span><span class=\"n\">wait</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Therefore, the same rules apply as with <a class=\"reference internal\" href=\"#threading.Condition.wait\" title=\"threading.Condition.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a>: The lock must be\nheld when called and is re-acquired on return.  The predicate is evaluated\nwith the lock held.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Condition.notify\">\n<span class=\"sig-name descname\"><span class=\"pre\">notify</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">n</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">1</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Condition.notify\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>By default, wake up one thread waiting on this condition, if any.  If the\ncalling thread has not acquired the lock when this method is called, a\n<a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> is raised.</p>\n<p>This method wakes up at most <em>n</em> of the threads waiting for the condition\nvariable; it is a no-op if no threads are waiting.</p>\n<p>The current implementation wakes up exactly <em>n</em> threads, if at least <em>n</em>\nthreads are waiting.  However, it’s not safe to rely on this behavior.\nA future, optimized implementation may occasionally wake up more than\n<em>n</em> threads.</p>\n<p>Note: an awakened thread does not actually return from its <a class=\"reference internal\" href=\"#threading.Condition.wait\" title=\"threading.Condition.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a>\ncall until it can reacquire the lock.  Since <a class=\"reference internal\" href=\"#threading.Condition.notify\" title=\"threading.Condition.notify\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify()</span></code></a> does not\nrelease the lock, its caller should.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Condition.notify_all\">\n<span class=\"sig-name descname\"><span class=\"pre\">notify_all</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Condition.notify_all\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Wake up all threads waiting on this condition.  This method acts like\n<a class=\"reference internal\" href=\"#threading.Condition.notify\" title=\"threading.Condition.notify\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">notify()</span></code></a>, but wakes up all waiting threads instead of one. If the\ncalling thread has not acquired the lock when this method is called, a\n<a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a> is raised.</p>\n<p>The method <code class=\"docutils literal notranslate\"><span class=\"pre\">notifyAll</span></code> is a deprecated alias for this method.</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"semaphore-objects\">\n<span id=\"id5\"></span><h3>Semaphore objects<a class=\"headerlink\" href=\"#semaphore-objects\" title=\"Link to this heading\">¶</a></h3>\n<p>This is one of the oldest synchronization primitives in the history of computer\nscience, invented by the early Dutch computer scientist Edsger W. Dijkstra (he\nused the names <code class=\"docutils literal notranslate\"><span class=\"pre\">P()</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">V()</span></code> instead of <a class=\"reference internal\" href=\"#threading.Semaphore.acquire\" title=\"threading.Semaphore.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> and\n<a class=\"reference internal\" href=\"#threading.Semaphore.release\" title=\"threading.Semaphore.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a>).</p>\n<p>A semaphore manages an internal counter which is decremented by each\n<a class=\"reference internal\" href=\"#threading.Semaphore.acquire\" title=\"threading.Semaphore.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> call and incremented by each <a class=\"reference internal\" href=\"#threading.Semaphore.release\" title=\"threading.Semaphore.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a>\ncall.  The counter can never go below zero; when <a class=\"reference internal\" href=\"#threading.Semaphore.acquire\" title=\"threading.Semaphore.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a>\nfinds that it is zero, it blocks, waiting until some other thread calls\n<a class=\"reference internal\" href=\"#threading.Semaphore.release\" title=\"threading.Semaphore.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a>.</p>\n<p>Semaphores also support the <a class=\"reference internal\" href=\"#with-locks\"><span class=\"std std-ref\">context management protocol</span></a>.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"threading.Semaphore\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Semaphore</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">1</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Semaphore\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This class implements semaphore objects.  A semaphore manages an atomic\ncounter representing the number of <a class=\"reference internal\" href=\"#threading.Semaphore.release\" title=\"threading.Semaphore.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a> calls minus the number of\n<a class=\"reference internal\" href=\"#threading.Semaphore.acquire\" title=\"threading.Semaphore.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> calls, plus an initial value.  The <a class=\"reference internal\" href=\"#threading.Semaphore.acquire\" title=\"threading.Semaphore.acquire\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">acquire()</span></code></a> method\nblocks if necessary until it can return without making the counter negative.\nIf not given, <em>value</em> defaults to 1.</p>\n<p>The optional argument gives the initial <em>value</em> for the internal counter; it\ndefaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>. If the <em>value</em> given is less than 0, <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is\nraised.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>changed from a factory function to a class.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Semaphore.acquire\">\n<span class=\"sig-name descname\"><span class=\"pre\">acquire</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">blocking</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Semaphore.acquire\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Acquire a semaphore.</p>\n<p>When invoked without arguments:</p>\n<ul class=\"simple\">\n<li><p>If the internal counter is larger than zero on entry, decrement it by\none and return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> immediately.</p></li>\n<li><p>If the internal counter is zero on entry, block until awoken by a call to\n<a class=\"reference internal\" href=\"#threading.Semaphore.release\" title=\"threading.Semaphore.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a>.  Once awoken (and the counter is greater\nthan 0), decrement the counter by 1 and return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.  Exactly one\nthread will be awoken by each call to <a class=\"reference internal\" href=\"#threading.Semaphore.release\" title=\"threading.Semaphore.release\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">release()</span></code></a>.  The\norder in which threads are awoken should not be relied on.</p></li>\n</ul>\n<p>When invoked with <em>blocking</em> set to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, do not block.  If a call\nwithout an argument would block, return <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> immediately; otherwise, do\nthe same thing as when called without arguments, and return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</p>\n<p>When invoked with a <em>timeout</em> other than <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, it will block for at\nmost <em>timeout</em> seconds.  If acquire does not complete successfully in\nthat interval, return <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.  Return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> otherwise.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.2: </span>The <em>timeout</em> parameter is new.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Semaphore.release\">\n<span class=\"sig-name descname\"><span class=\"pre\">release</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">n</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">1</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Semaphore.release\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Release a semaphore, incrementing the internal counter by <em>n</em>.  When it\nwas zero on entry and other threads are waiting for it to become larger\nthan zero again, wake up <em>n</em> of those threads.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.9: </span>Added the <em>n</em> parameter to release multiple waiting threads at once.</p>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"threading.BoundedSemaphore\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">BoundedSemaphore</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">1</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.BoundedSemaphore\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Class implementing bounded semaphore objects.  A bounded semaphore checks to\nmake sure its current value doesn’t exceed its initial value.  If it does,\n<a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised. In most situations semaphores are used to guard\nresources with limited capacity.  If the semaphore is released too many times\nit’s a sign of a bug.  If not given, <em>value</em> defaults to 1.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>changed from a factory function to a class.</p>\n</div>\n</dd></dl>\n\n</section>\n<section id=\"semaphore-example\">\n<span id=\"semaphore-examples\"></span><h3><a class=\"reference internal\" href=\"#threading.Semaphore\" title=\"threading.Semaphore\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Semaphore</span></code></a> example<a class=\"headerlink\" href=\"#semaphore-example\" title=\"Link to this heading\">¶</a></h3>\n<p>Semaphores are often used to guard resources with limited capacity, for example,\na database server.  In any situation where the size of the resource is fixed,\nyou should use a bounded semaphore.  Before spawning any worker threads, your\nmain thread would initialize the semaphore:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">maxconnections</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>\n<span class=\"c1\"># ...</span>\n<span class=\"n\">pool_sema</span> <span class=\"o\">=</span> <span class=\"n\">BoundedSemaphore</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"o\">=</span><span class=\"n\">maxconnections</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Once spawned, worker threads call the semaphore’s acquire and release methods\nwhen they need to connect to the server:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">with</span> <span class=\"n\">pool_sema</span><span class=\"p\">:</span>\n    <span class=\"n\">conn</span> <span class=\"o\">=</span> <span class=\"n\">connectdb</span><span class=\"p\">()</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"c1\"># ... use connection ...</span>\n    <span class=\"k\">finally</span><span class=\"p\">:</span>\n        <span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>The use of a bounded semaphore reduces the chance that a programming error which\ncauses the semaphore to be released more than it’s acquired will go undetected.</p>\n</section>\n<section id=\"event-objects\">\n<span id=\"id6\"></span><h3>Event objects<a class=\"headerlink\" href=\"#event-objects\" title=\"Link to this heading\">¶</a></h3>\n<p>This is one of the simplest mechanisms for communication between threads: one\nthread signals an event and other threads wait for it.</p>\n<p>An event object manages an internal flag that can be set to true with the\n<a class=\"reference internal\" href=\"#threading.Event.set\" title=\"threading.Event.set\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">set()</span></code></a> method and reset to false with the <a class=\"reference internal\" href=\"#threading.Event.clear\" title=\"threading.Event.clear\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">clear()</span></code></a>\nmethod.  The <a class=\"reference internal\" href=\"#threading.Event.wait\" title=\"threading.Event.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> method blocks until the flag is true.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"threading.Event\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Event</span></span><a class=\"headerlink\" href=\"#threading.Event\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Class implementing event objects.  An event manages a flag that can be set to\ntrue with the <a class=\"reference internal\" href=\"#threading.Event.set\" title=\"threading.Event.set\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">set()</span></code></a> method and reset to false with the\n<a class=\"reference internal\" href=\"#threading.Event.clear\" title=\"threading.Event.clear\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">clear()</span></code></a> method.  The <a class=\"reference internal\" href=\"#threading.Event.wait\" title=\"threading.Event.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> method blocks until the flag is true.\nThe flag is initially false.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>changed from a factory function to a class.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Event.is_set\">\n<span class=\"sig-name descname\"><span class=\"pre\">is_set</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Event.is_set\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if and only if the internal flag is true.</p>\n<p>The method <code class=\"docutils literal notranslate\"><span class=\"pre\">isSet</span></code> is a deprecated alias for this method.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Event.set\">\n<span class=\"sig-name descname\"><span class=\"pre\">set</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Event.set\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the internal flag to true. All threads waiting for it to become true\nare awakened. Threads that call <a class=\"reference internal\" href=\"#threading.Event.wait\" title=\"threading.Event.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> once the flag is true will\nnot block at all.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Event.clear\">\n<span class=\"sig-name descname\"><span class=\"pre\">clear</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Event.clear\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Reset the internal flag to false. Subsequently, threads calling\n<a class=\"reference internal\" href=\"#threading.Event.wait\" title=\"threading.Event.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> will block until <a class=\"reference internal\" href=\"#threading.Event.set\" title=\"threading.Event.set\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">set()</span></code></a> is called to set the internal\nflag to true again.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Event.wait\">\n<span class=\"sig-name descname\"><span class=\"pre\">wait</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Event.wait\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Block as long as the internal flag is false and the timeout, if given,\nhas not expired. The return value represents the\nreason that this blocking method returned; <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if returning because\nthe internal flag is set to true, or <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> if a timeout is given and\nthe internal flag did not become true within the given wait time.</p>\n<p>When the timeout argument is present and not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, it should be a\nfloating-point number specifying a timeout for the operation in seconds,\nor fractions thereof.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.1: </span>Previously, the method always returned <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"timer-objects\">\n<span id=\"id7\"></span><h3>Timer objects<a class=\"headerlink\" href=\"#timer-objects\" title=\"Link to this heading\">¶</a></h3>\n<p>This class represents an action that should be run only after a certain amount\nof time has passed — a timer.  <a class=\"reference internal\" href=\"#threading.Timer\" title=\"threading.Timer\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Timer</span></code></a> is a subclass of <a class=\"reference internal\" href=\"#threading.Thread\" title=\"threading.Thread\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Thread</span></code></a>\nand as such also functions as an example of creating custom threads.</p>\n<p>Timers are started, as with threads, by calling their <a class=\"reference internal\" href=\"#threading.Thread.start\" title=\"threading.Thread.start\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Timer.start</span></code></a>\nmethod.  The timer can be stopped (before its action has begun) by calling the\n<a class=\"reference internal\" href=\"#threading.Timer.cancel\" title=\"threading.Timer.cancel\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">cancel()</span></code></a> method.  The interval the timer will wait before\nexecuting its action may not be exactly the same as the interval specified by\nthe user.</p>\n<p>For example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">hello</span><span class=\"p\">():</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;hello, world&quot;</span><span class=\"p\">)</span>\n\n<span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"n\">Timer</span><span class=\"p\">(</span><span class=\"mf\">30.0</span><span class=\"p\">,</span> <span class=\"n\">hello</span><span class=\"p\">)</span>\n<span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>  <span class=\"c1\"># after 30 seconds, &quot;hello, world&quot; will be printed</span>\n</pre></div>\n</div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"threading.Timer\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Timer</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">interval</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">function</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">args</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">kwargs</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Timer\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a timer that will run <em>function</em> with arguments <em>args</em> and  keyword\narguments <em>kwargs</em>, after <em>interval</em> seconds have passed.\nIf <em>args</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default) then an empty list will be used.\nIf <em>kwargs</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default) then an empty dict will be used.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>changed from a factory function to a class.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Timer.cancel\">\n<span class=\"sig-name descname\"><span class=\"pre\">cancel</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Timer.cancel\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Stop the timer, and cancel the execution of the timer’s action.  This will\nonly work if the timer is still in its waiting stage.</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"barrier-objects\">\n<h3>Barrier objects<a class=\"headerlink\" href=\"#barrier-objects\" title=\"Link to this heading\">¶</a></h3>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n<p>This class provides a simple synchronization primitive for use by a fixed number\nof threads that need to wait for each other.  Each of the threads tries to pass\nthe barrier by calling the <a class=\"reference internal\" href=\"#threading.Barrier.wait\" title=\"threading.Barrier.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> method and will block until\nall of the threads have made their <a class=\"reference internal\" href=\"#threading.Barrier.wait\" title=\"threading.Barrier.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> calls. At this point,\nthe threads are released simultaneously.</p>\n<p>The barrier can be reused any number of times for the same number of threads.</p>\n<p>As an example, here is a simple way to synchronize a client and server thread:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">Barrier</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">server</span><span class=\"p\">():</span>\n    <span class=\"n\">start_server</span><span class=\"p\">()</span>\n    <span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">wait</span><span class=\"p\">()</span>\n    <span class=\"k\">while</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n        <span class=\"n\">connection</span> <span class=\"o\">=</span> <span class=\"n\">accept_connection</span><span class=\"p\">()</span>\n        <span class=\"n\">process_server_connection</span><span class=\"p\">(</span><span class=\"n\">connection</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">client</span><span class=\"p\">():</span>\n    <span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">wait</span><span class=\"p\">()</span>\n    <span class=\"k\">while</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n        <span class=\"n\">connection</span> <span class=\"o\">=</span> <span class=\"n\">make_connection</span><span class=\"p\">()</span>\n        <span class=\"n\">process_client_connection</span><span class=\"p\">(</span><span class=\"n\">connection</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"threading.Barrier\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Barrier</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">parties</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">action</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Barrier\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a barrier object for <em>parties</em> number of threads.  An <em>action</em>, when\nprovided, is a callable to be called by one of the threads when they are\nreleased.  <em>timeout</em> is the default timeout value if none is specified for\nthe <a class=\"reference internal\" href=\"#threading.Barrier.wait\" title=\"threading.Barrier.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> method.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Barrier.wait\">\n<span class=\"sig-name descname\"><span class=\"pre\">wait</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">timeout</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Barrier.wait\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Pass the barrier.  When all the threads party to the barrier have called\nthis function, they are all released simultaneously.  If a <em>timeout</em> is\nprovided, it is used in preference to any that was supplied to the class\nconstructor.</p>\n<p>The return value is an integer in the range 0 to <em>parties</em> – 1, different\nfor each thread.  This can be used to select a thread to do some special\nhousekeeping, e.g.:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"n\">barrier</span><span class=\"o\">.</span><span class=\"n\">wait</span><span class=\"p\">()</span>\n<span class=\"k\">if</span> <span class=\"n\">i</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n    <span class=\"c1\"># Only one thread needs to print this</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;passed the barrier&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>If an <em>action</em> was provided to the constructor, one of the threads will\nhave called it prior to being released.  Should this call raise an error,\nthe barrier is put into the broken state.</p>\n<p>If the call times out, the barrier is put into the broken state.</p>\n<p>This method may raise a <a class=\"reference internal\" href=\"#threading.BrokenBarrierError\" title=\"threading.BrokenBarrierError\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BrokenBarrierError</span></code></a> exception if the\nbarrier is broken or reset while a thread is waiting.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Barrier.reset\">\n<span class=\"sig-name descname\"><span class=\"pre\">reset</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Barrier.reset\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the barrier to the default, empty state.  Any threads waiting on it\nwill receive the <a class=\"reference internal\" href=\"#threading.BrokenBarrierError\" title=\"threading.BrokenBarrierError\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BrokenBarrierError</span></code></a> exception.</p>\n<p>Note that using this function may require some external\nsynchronization if there are other threads whose state is unknown.  If a\nbarrier is broken it may be better to just leave it and create a new one.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"threading.Barrier.abort\">\n<span class=\"sig-name descname\"><span class=\"pre\">abort</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#threading.Barrier.abort\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Put the barrier into a broken state.  This causes any active or future\ncalls to <a class=\"reference internal\" href=\"#threading.Barrier.wait\" title=\"threading.Barrier.wait\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">wait()</span></code></a> to fail with the <a class=\"reference internal\" href=\"#threading.BrokenBarrierError\" title=\"threading.BrokenBarrierError\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BrokenBarrierError</span></code></a>.  Use\nthis for example if one of the threads needs to abort, to avoid deadlocking the\napplication.</p>\n<p>It may be preferable to simply create the barrier with a sensible\n<em>timeout</em> value to automatically guard against one of the threads going\nawry.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"threading.Barrier.parties\">\n<span class=\"sig-name descname\"><span class=\"pre\">parties</span></span><a class=\"headerlink\" href=\"#threading.Barrier.parties\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The number of threads required to pass the barrier.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"threading.Barrier.n_waiting\">\n<span class=\"sig-name descname\"><span class=\"pre\">n_waiting</span></span><a class=\"headerlink\" href=\"#threading.Barrier.n_waiting\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The number of threads currently waiting in the barrier.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"threading.Barrier.broken\">\n<span class=\"sig-name descname\"><span class=\"pre\">broken</span></span><a class=\"headerlink\" href=\"#threading.Barrier.broken\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A boolean that is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if the barrier is in the broken state.</p>\n</dd></dl>\n\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"threading.BrokenBarrierError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">threading.</span></span><span class=\"sig-name descname\"><span class=\"pre\">BrokenBarrierError</span></span><a class=\"headerlink\" href=\"#threading.BrokenBarrierError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This exception, a subclass of <a class=\"reference internal\" href=\"exceptions.html#RuntimeError\" title=\"RuntimeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code></a>, is raised when the\n<a class=\"reference internal\" href=\"#threading.Barrier\" title=\"threading.Barrier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Barrier</span></code></a> object is reset or broken.</p>\n</dd></dl>\n\n</section>\n</section>\n<section id=\"using-locks-conditions-and-semaphores-in-the-with-statement\">\n<span id=\"with-locks\"></span><h2>Using locks, conditions, and semaphores in the <code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code> statement<a class=\"headerlink\" href=\"#using-locks-conditions-and-semaphores-in-the-with-statement\" title=\"Link to this heading\">¶</a></h2>\n<p>All of the objects provided by this module that have <code class=\"docutils literal notranslate\"><span class=\"pre\">acquire</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">release</span></code> methods can be used as context managers for a <a class=\"reference internal\" href=\"../reference/compound_stmts.html#with\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code></a>\nstatement.  The <code class=\"docutils literal notranslate\"><span class=\"pre\">acquire</span></code> method will be called when the block is\nentered, and <code class=\"docutils literal notranslate\"><span class=\"pre\">release</span></code> will be called when the block is exited.  Hence,\nthe following snippet:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">with</span> <span class=\"n\">some_lock</span><span class=\"p\">:</span>\n    <span class=\"c1\"># do something...</span>\n</pre></div>\n</div>\n<p>is equivalent to:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">some_lock</span><span class=\"o\">.</span><span class=\"n\">acquire</span><span class=\"p\">()</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"c1\"># do something...</span>\n<span class=\"k\">finally</span><span class=\"p\">:</span>\n    <span class=\"n\">some_lock</span><span class=\"o\">.</span><span class=\"n\">release</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Currently, <a class=\"reference internal\" href=\"#threading.Lock\" title=\"threading.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Lock</span></code></a>, <a class=\"reference internal\" href=\"#threading.RLock\" title=\"threading.RLock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RLock</span></code></a>, <a class=\"reference internal\" href=\"#threading.Condition\" title=\"threading.Condition\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Condition</span></code></a>,\n<a class=\"reference internal\" href=\"#threading.Semaphore\" title=\"threading.Semaphore\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Semaphore</span></code></a>, and <a class=\"reference internal\" href=\"#threading.BoundedSemaphore\" title=\"threading.BoundedSemaphore\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BoundedSemaphore</span></code></a> objects may be used as\n<a class=\"reference internal\" href=\"../reference/compound_stmts.html#with\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code></a> statement context managers.</p>\n</section>\n</section>\n\n\n            <div class=\"clearer\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"Main\">\n        <div class=\"sphinxsidebarwrapper\">\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> — Thread-based parallelism</a><ul>\n<li><a class=\"reference internal\" href=\"#introduction\">Introduction</a></li>\n<li><a class=\"reference internal\" href=\"#gil-and-performance-considerations\">GIL and performance considerations</a></li>\n<li><a class=\"reference internal\" href=\"#reference\">Reference</a><ul>\n<li><a class=\"reference internal\" href=\"#thread-local-data\">Thread-local data</a></li>\n<li><a class=\"reference internal\" href=\"#thread-objects\">Thread objects</a></li>\n<li><a class=\"reference internal\" href=\"#lock-objects\">Lock objects</a></li>\n<li><a class=\"reference internal\" href=\"#rlock-objects\">RLock objects</a></li>\n<li><a class=\"reference internal\" href=\"#condition-objects\">Condition objects</a></li>\n<li><a class=\"reference internal\" href=\"#semaphore-objects\">Semaphore objects</a></li>\n<li><a class=\"reference internal\" href=\"#semaphore-example\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Semaphore</span></code> example</a></li>\n<li><a class=\"reference internal\" href=\"#event-objects\">Event objects</a></li>\n<li><a class=\"reference internal\" href=\"#timer-objects\">Timer objects</a></li>\n<li><a class=\"reference internal\" href=\"#barrier-objects\">Barrier objects</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#using-locks-conditions-and-semaphores-in-the-with-statement\">Using locks, conditions, and semaphores in the <code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code> statement</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"concurrency.html\"\n                          title=\"previous chapter\">Concurrent Execution</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"multiprocessing.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">multiprocessing</span></code> — Process-based parallelism</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/threading.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </div>\n<div id=\"sidebarbutton\" title=\"Collapse sidebar\">\n<span>«</span>\n</div>\n\n      </div>\n      <div class=\"clearer\"></div>\n    </div>  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             >index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"multiprocessing.html\" title=\"multiprocessing — Process-based parallelism\"\n             >next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"concurrency.html\" title=\"Concurrent Execution\"\n             >previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"concurrency.html\" >Concurrent Execution</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threading</span></code> — Thread-based parallelism</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>  \n    <div class=\"footer\">\n    &copy; <a href=\"../copyright.html\">Copyright</a> 2001 Python Software Foundation.\n    <br>\n    This page is licensed under the Python Software Foundation License Version 2.\n    <br>\n    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.\n    <br>\n    \n      See <a href=\"/license.html\">History and License</a> for more information.<br>\n    \n    \n    <br>\n\n    The Python Software Foundation is a non-profit corporation.\n<a href=\"https://www.python.org/psf/donations/\">Please donate.</a>\n<br>\n    <br>\n      Last updated on Nov 25, 2025 (18:01 UTC).\n    \n      <a href=\"/bugs.html\">Found a bug</a>?\n    \n    <br>\n\n    Created using <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> 8.2.3.\n    </div>\n\n    <script type=\"text/javascript\" src=\"../_static/switchers.js\"></script>\n  </body>\n</html>",
  "metadata": {
    "title": "threading — Thread-based parallelism — Python 3.14.0 documentation",
    "meta_description": "Source code: Lib/threading.py This module constructs higher-level threading interfaces on top of the lower level_thread module. Availability: not WASI. This module does not work or is not available...",
    "h1": "— Thread-based parallelism"
  },
  "request_headers": {
    "Referer": "https://docs.python.org/3/library/",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
    "Accept-Language": "en",
    "User-Agent": "DumbCrawler/1.0",
    "Accept-Encoding": "gzip, deflate"
  },
  "response_headers": {
    "Content-Length": "25022",
    "Server": "nginx",
    "Content-Type": "text/html",
    "Last-Modified": "Tue, 25 Nov 2025 18:03:26 GMT",
    "Etag": "\"6925ef6e-286da\"",
    "X-Clacks-Overhead": "GNU Terry Pratchett",
    "Strict-Transport-Security": "max-age=315360000; includeSubDomains; preload",
    "Via": "1.1 varnish, 1.1 varnish",
    "Accept-Ranges": "bytes",
    "Age": "3834",
    "Date": "Wed, 26 Nov 2025 05:32:33 GMT",
    "X-Served-By": "cache-lga21961-LGA, cache-yul1970029-YUL",
    "X-Cache": "HIT, HIT",
    "X-Cache-Hits": "397, 0",
    "X-Timer": "S1764135153.345539,VS0,VE1",
    "Vary": "Accept-Encoding"
  },
  "crawled_at": "2025-11-26T05:32:34.025316+00:00",
  "crawler": {
    "name": "DumbCrawler",
    "version": "1.0",
    "mode": "crawl",
    "js_mode": "off",
    "scope": "subfolder"
  }
}