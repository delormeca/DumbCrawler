{
  "url": "https://docs.python.org/3/library/mailbox.html",
  "status_code": 200,
  "depth": 1,
  "referrer": "https://docs.python.org/3/library/",
  "raw_html": "<!DOCTYPE html>\n\n<html lang=\"en\" data-content_root=\"../\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<meta property=\"og:title\" content=\"mailbox — Manipulate mailboxes in various formats\" />\n<meta property=\"og:type\" content=\"website\" />\n<meta property=\"og:url\" content=\"https://docs.python.org/3/library/mailbox.html\" />\n<meta property=\"og:site_name\" content=\"Python documentation\" />\n<meta property=\"og:description\" content=\"Source code: Lib/mailbox.py This module defines two classes, Mailbox and Message, for accessing and manipulating on-disk mailboxes and the messages they contain. Mailbox offers a dictionary-like ma...\" />\n<meta property=\"og:image:width\" content=\"1146\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://docs.python.org/3.14/_images/social_previews/summary_library_mailbox_38ccd73f.png\" />\n<meta property=\"og:image:alt\" content=\"Source code: Lib/mailbox.py This module defines two classes, Mailbox and Message, for accessing and manipulating on-disk mailboxes and the messages they contain. Mailbox offers a dictionary-like ma...\" />\n<meta name=\"description\" content=\"Source code: Lib/mailbox.py This module defines two classes, Mailbox and Message, for accessing and manipulating on-disk mailboxes and the messages they contain. Mailbox offers a dictionary-like ma...\" />\n<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"theme-color\" content=\"#3776ab\">\n\n    <title>mailbox — Manipulate mailboxes in various formats &#8212; Python 3.14.0 documentation</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments.css?v=b86133f3\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/classic.css?v=234b1a7c\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pydoctheme.css?v=8cd84f99\" />\n    <link id=\"pygments_dark_css\" media=\"(prefers-color-scheme: dark)\" rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments_dark.css?v=5349f25f\" />\n    \n    <script src=\"../_static/documentation_options.js?v=e4f4b189\"></script>\n    <script src=\"../_static/doctools.js?v=9bcbadda\"></script>\n    <script src=\"../_static/sphinx_highlight.js?v=dc90522c\"></script>\n    \n    <script src=\"../_static/sidebar.js\"></script>\n    \n    <link rel=\"search\" type=\"application/opensearchdescription+xml\"\n          title=\"Search within Python 3.14.0 documentation\"\n          href=\"../_static/opensearch.xml\"/>\n    <link rel=\"author\" title=\"About these documents\" href=\"../about.html\" />\n    <link rel=\"index\" title=\"Index\" href=\"../genindex.html\" />\n    <link rel=\"search\" title=\"Search\" href=\"../search.html\" />\n    <link rel=\"copyright\" title=\"Copyright\" href=\"../copyright.html\" />\n    <link rel=\"next\" title=\"mimetypes — Map filenames to MIME types\" href=\"mimetypes.html\" />\n    <link rel=\"prev\" title=\"json — JSON encoder and decoder\" href=\"json.html\" />\n    \n      \n      <script defer file-types=\"bz2,epub,zip\" data-domain=\"docs.python.org\" src=\"https://analytics.python.org/js/script.file-downloads.outbound-links.js\"></script>\n      \n      <link rel=\"canonical\" href=\"https://docs.python.org/3/library/mailbox.html\">\n      \n    \n\n    \n    <style>\n      @media only screen {\n        table.full-width-table {\n            width: 100%;\n        }\n      }\n    </style>\n<link rel=\"stylesheet\" href=\"../_static/pydoctheme_dark.css\" media=\"(prefers-color-scheme: dark)\" id=\"pydoctheme_dark_css\">\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"../_static/py.svg\">\n            <script type=\"text/javascript\" src=\"../_static/copybutton.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/menu.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/search-focus.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/themetoggle.js\"></script> \n            <script type=\"text/javascript\" src=\"../_static/rtd_switcher.js\"></script>\n            <meta name=\"readthedocs-addons-api-version\" content=\"1\">\n\n  </head>\n<body>\n<div class=\"mobile-nav\">\n    <input type=\"checkbox\" id=\"menuToggler\" class=\"toggler__input\" aria-controls=\"navigation\"\n           aria-pressed=\"false\" aria-expanded=\"false\" role=\"button\" aria-label=\"Menu\">\n    <nav class=\"nav-content\" role=\"navigation\">\n        <label for=\"menuToggler\" class=\"toggler__label\">\n            <span></span>\n        </label>\n        <span class=\"nav-items-wrapper\">\n            <a href=\"https://www.python.org/\" class=\"nav-logo\">\n                <img src=\"../_static/py.svg\" alt=\"Python logo\">\n            </a>\n            <span class=\"version_switcher_placeholder\"></span>\n            <form role=\"search\" class=\"search\" action=\"../search.html\" method=\"get\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" class=\"search-icon\">\n                    <path fill-rule=\"nonzero\" fill=\"currentColor\" d=\"M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n                </svg>\n                <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\">\n                <input type=\"submit\" value=\"Go\">\n            </form>\n        </span>\n    </nav>\n    <div class=\"menu-wrapper\">\n        <nav class=\"menu\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"language_switcher_placeholder\"></div>\n            \n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label>\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">mailbox</span></code> — Manipulate mailboxes in various formats</a><ul>\n<li><a class=\"reference internal\" href=\"#mailbox-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#maildir-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mbox-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mbox</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mh-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MH</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#babyl-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Babyl</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mmdf-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDF</span></code> objects</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#message-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#maildirmessage-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mboxmessage-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mhmessage-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#babylmessage-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mmdfmessage-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code> objects</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#exceptions\">Exceptions</a></li>\n<li><a class=\"reference internal\" href=\"#examples\">Examples</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"json.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">json</span></code> — JSON encoder and decoder</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"mimetypes.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">mimetypes</span></code> — Map filenames to MIME types</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/mailbox.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </nav>\n    </div>\n</div>\n\n  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             accesskey=\"I\">index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"mimetypes.html\" title=\"mimetypes — Map filenames to MIME types\"\n             accesskey=\"N\">next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"json.html\" title=\"json — JSON encoder and decoder\"\n             accesskey=\"P\">previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"netdata.html\" accesskey=\"U\">Internet Data Handling</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">mailbox</span></code> — Manipulate mailboxes in various formats</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>    \n\n    <div class=\"document\">\n      <div class=\"documentwrapper\">\n        <div class=\"bodywrapper\">\n          <div class=\"body\" role=\"main\">\n            \n  <section id=\"module-mailbox\">\n<span id=\"mailbox-manipulate-mailboxes-in-various-formats\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">mailbox</span></code> — Manipulate mailboxes in various formats<a class=\"headerlink\" href=\"#module-mailbox\" title=\"Link to this heading\">¶</a></h1>\n<p><strong>Source code:</strong> <a class=\"extlink-source reference external\" href=\"https://github.com/python/cpython/tree/3.14/Lib/mailbox.py\">Lib/mailbox.py</a></p>\n<hr class=\"docutils\" />\n<p>This module defines two classes, <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> and <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a>, for\naccessing and manipulating on-disk mailboxes and the messages they contain.\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> offers a dictionary-like mapping from keys to messages.\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code> extends the <a class=\"reference internal\" href=\"email.message.html#module-email.message\" title=\"email.message: The base class representing email messages.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">email.message</span></code></a> module’s\n<a class=\"reference internal\" href=\"email.compat32-message.html#email.message.Message\" title=\"email.message.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> class with format-specific state and behavior.\nSupported mailbox formats are Maildir, mbox, MH, Babyl, and MMDF.</p>\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<dl class=\"simple\">\n<dt>Module <a class=\"reference internal\" href=\"email.html#module-email\" title=\"email: Package supporting the parsing, manipulating, and generating email messages.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">email</span></code></a></dt><dd><p>Represent and manipulate messages.</p>\n</dd>\n</dl>\n</div>\n<section id=\"mailbox-objects\">\n<span id=\"id1\"></span><h2><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> objects<a class=\"headerlink\" href=\"#mailbox-objects\" title=\"Link to this heading\">¶</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Mailbox</span></span><a class=\"headerlink\" href=\"#mailbox.Mailbox\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A mailbox, which may be inspected and modified.</p>\n<p>The <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> class defines an interface and is not intended to be\ninstantiated.  Instead, format-specific subclasses should inherit from\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> and your code should instantiate a particular subclass.</p>\n<p>The <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> interface is dictionary-like, with small keys\ncorresponding to messages. Keys are issued by the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance\nwith which they will be used and are only meaningful to that <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code>\ninstance. A key continues to identify a message even if the corresponding\nmessage is modified, such as by replacing it with another message.</p>\n<p>Messages may be added to a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance using the set-like\nmethod <a class=\"reference internal\" href=\"#mailbox.Mailbox.add\" title=\"mailbox.Mailbox.add\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">add()</span></code></a> and removed using a <code class=\"docutils literal notranslate\"><span class=\"pre\">del</span></code> statement or the set-like\nmethods <a class=\"reference internal\" href=\"#mailbox.Mailbox.remove\" title=\"mailbox.Mailbox.remove\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">remove()</span></code></a> and <a class=\"reference internal\" href=\"#mailbox.Mailbox.discard\" title=\"mailbox.Mailbox.discard\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">discard()</span></code></a>.</p>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> interface semantics differ from dictionary semantics in some\nnoteworthy ways. Each time a message is requested, a new representation\n(typically a <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> instance) is generated based upon the current\nstate of the mailbox. Similarly, when a message is added to a\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance, the provided message representation’s contents are\ncopied. In neither case is a reference to the message representation kept by\nthe <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance.</p>\n<p>The default <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> <a class=\"reference internal\" href=\"../glossary.html#term-iterator\"><span class=\"xref std std-term\">iterator</span></a> iterates over message\nrepresentations, not keys as the default <a class=\"reference internal\" href=\"stdtypes.html#dict\" title=\"dict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dictionary</span></code></a>\niterator does. Moreover, modification of a\nmailbox during iteration is safe and well-defined. Messages added to the\nmailbox after an iterator is created will not be seen by the\niterator. Messages removed from the mailbox before the iterator yields them\nwill be silently skipped, though using a key from an iterator may result in a\n<a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception if the corresponding message is subsequently\nremoved.</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>Be very cautious when modifying mailboxes that might be simultaneously\nchanged by some other process.  The safest mailbox format to use for such\ntasks is <a class=\"reference internal\" href=\"#mailbox.Maildir\" title=\"mailbox.Maildir\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code></a>; try to avoid using single-file formats such as\n<a class=\"reference internal\" href=\"#mailbox.mbox\" title=\"mailbox.mbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mbox</span></code></a> for\nconcurrent writing.  If you’re modifying a mailbox, you <em>must</em> lock it by\ncalling the <a class=\"reference internal\" href=\"#mailbox.Mailbox.lock\" title=\"mailbox.Mailbox.lock\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">lock()</span></code></a> and <a class=\"reference internal\" href=\"#mailbox.Mailbox.unlock\" title=\"mailbox.Mailbox.unlock\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">unlock()</span></code></a> methods <em>before</em> reading any\nmessages in the file or making any changes by adding or deleting a\nmessage.  Failing to lock the mailbox runs the risk of losing messages or\ncorrupting the entire mailbox.</p>\n</div>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instances have the following methods:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.add\">\n<span class=\"sig-name descname\"><span class=\"pre\">add</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">message</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.add\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Add <em>message</em> to the mailbox and return the key that has been assigned to\nit.</p>\n<p>Parameter <em>message</em> may be a <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> instance, an\n<a class=\"reference internal\" href=\"email.compat32-message.html#email.message.Message\" title=\"email.message.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">email.message.Message</span></code></a> instance, a string, a byte string, or a\nfile-like object (which should be open in binary mode). If <em>message</em> is\nan instance of the\nappropriate format-specific <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> subclass (e.g., if it’s an\n<a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> instance and this is an <a class=\"reference internal\" href=\"#mailbox.mbox\" title=\"mailbox.mbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mbox</span></code></a> instance), its\nformat-specific information is used. Otherwise, reasonable defaults for\nformat-specific information are used.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.2: </span>Support for binary input was added.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.remove\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.remove\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.__delitem__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__delitem__</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.__delitem__\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.discard\">\n<span class=\"sig-name descname\"><span class=\"pre\">discard</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.discard\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Delete the message corresponding to <em>key</em> from the mailbox.</p>\n<p>If no such message exists, a <a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception is raised if the\nmethod was called as <a class=\"reference internal\" href=\"#mailbox.Mailbox.remove\" title=\"mailbox.Mailbox.remove\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">remove()</span></code></a> or <a class=\"reference internal\" href=\"#mailbox.Mailbox.__delitem__\" title=\"mailbox.Mailbox.__delitem__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__delitem__()</span></code></a> but no\nexception is raised if the method was called as <a class=\"reference internal\" href=\"#mailbox.Mailbox.discard\" title=\"mailbox.Mailbox.discard\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">discard()</span></code></a>. The\nbehavior of <a class=\"reference internal\" href=\"#mailbox.Mailbox.discard\" title=\"mailbox.Mailbox.discard\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">discard()</span></code></a> may be preferred if the underlying mailbox\nformat supports concurrent modification by other processes.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.__setitem__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__setitem__</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">message</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.__setitem__\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Replace the message corresponding to <em>key</em> with <em>message</em>. Raise a\n<a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception if no message already corresponds to <em>key</em>.</p>\n<p>As with <a class=\"reference internal\" href=\"#mailbox.Mailbox.add\" title=\"mailbox.Mailbox.add\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">add()</span></code></a>, parameter <em>message</em> may be a <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a>\ninstance, an <a class=\"reference internal\" href=\"email.compat32-message.html#email.message.Message\" title=\"email.message.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">email.message.Message</span></code></a> instance, a string, a byte\nstring, or a file-like object (which should be open in binary mode). If\n<em>message</em> is an\ninstance of the appropriate format-specific <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> subclass\n(e.g., if it’s an <a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> instance and this is an\n<a class=\"reference internal\" href=\"#mailbox.mbox\" title=\"mailbox.mbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mbox</span></code></a> instance), its format-specific information is\nused. Otherwise, the format-specific information of the message that\ncurrently corresponds to <em>key</em> is left unchanged.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.iterkeys\">\n<span class=\"sig-name descname\"><span class=\"pre\">iterkeys</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.iterkeys\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return an <a class=\"reference internal\" href=\"../glossary.html#term-iterator\"><span class=\"xref std std-term\">iterator</span></a> over all keys</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.keys\">\n<span class=\"sig-name descname\"><span class=\"pre\">keys</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.keys\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The same as <a class=\"reference internal\" href=\"#mailbox.Mailbox.iterkeys\" title=\"mailbox.Mailbox.iterkeys\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">iterkeys()</span></code></a>, except that a <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> is returned\nrather than an <a class=\"reference internal\" href=\"../glossary.html#term-iterator\"><span class=\"xref std std-term\">iterator</span></a></p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.itervalues\">\n<span class=\"sig-name descname\"><span class=\"pre\">itervalues</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.itervalues\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.__iter__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__iter__</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.__iter__\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return an <a class=\"reference internal\" href=\"../glossary.html#term-iterator\"><span class=\"xref std std-term\">iterator</span></a> over representations of all messages.\nThe messages are represented\nas instances of the appropriate format-specific <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> subclass\nunless a custom message factory was specified when the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code>\ninstance was initialized.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The behavior of <a class=\"reference internal\" href=\"#mailbox.Mailbox.__iter__\" title=\"mailbox.Mailbox.__iter__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__iter__()</span></code></a> is unlike that of dictionaries, which\niterate over keys.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.values\">\n<span class=\"sig-name descname\"><span class=\"pre\">values</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.values\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The same as <a class=\"reference internal\" href=\"#mailbox.Mailbox.itervalues\" title=\"mailbox.Mailbox.itervalues\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">itervalues()</span></code></a>, except that a <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> is returned\nrather than an <a class=\"reference internal\" href=\"../glossary.html#term-iterator\"><span class=\"xref std std-term\">iterator</span></a></p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.iteritems\">\n<span class=\"sig-name descname\"><span class=\"pre\">iteritems</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.iteritems\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return an <a class=\"reference internal\" href=\"../glossary.html#term-iterator\"><span class=\"xref std std-term\">iterator</span></a> over (<em>key</em>, <em>message</em>) pairs, where <em>key</em> is\na key and <em>message</em> is a message representation. The messages are\nrepresented as instances of the appropriate format-specific\n<a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> subclass unless a custom message factory was specified\nwhen the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance was initialized.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.items\">\n<span class=\"sig-name descname\"><span class=\"pre\">items</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.items\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The same as <a class=\"reference internal\" href=\"#mailbox.Mailbox.iteritems\" title=\"mailbox.Mailbox.iteritems\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">iteritems()</span></code></a>, except that a <a class=\"reference internal\" href=\"stdtypes.html#list\" title=\"list\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">list</span></code></a> of pairs is\nreturned rather than an <a class=\"reference internal\" href=\"../glossary.html#term-iterator\"><span class=\"xref std std-term\">iterator</span></a> of pairs.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.get\">\n<span class=\"sig-name descname\"><span class=\"pre\">get</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">default</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.get\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.__getitem__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__getitem__</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.__getitem__\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a representation of the message corresponding to <em>key</em>. If no such\nmessage exists, <em>default</em> is returned if the method was called as\n<a class=\"reference internal\" href=\"#mailbox.Mailbox.get\" title=\"mailbox.Mailbox.get\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get()</span></code></a> and a <a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception is raised if the method was\ncalled as <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__getitem__()</span></code>. The message is represented as an instance\nof the appropriate format-specific <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> subclass unless a\ncustom message factory was specified when the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance\nwas initialized.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.get_message\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_message</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.get_message\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a representation of the message corresponding to <em>key</em> as an\ninstance of the appropriate format-specific <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> subclass, or\nraise a <a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception if no such message exists.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.get_bytes\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_bytes</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.get_bytes\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a byte representation of the message corresponding to <em>key</em>, or\nraise a <a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception if no such message exists.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.get_string\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_string</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.get_string\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a string representation of the message corresponding to <em>key</em>, or\nraise a <a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception if no such message exists.  The\nmessage is processed through <a class=\"reference internal\" href=\"email.compat32-message.html#email.message.Message\" title=\"email.message.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">email.message.Message</span></code></a> to\nconvert it to a 7bit clean representation.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.get_file\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_file</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.get_file\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a <a class=\"reference internal\" href=\"../glossary.html#term-file-like-object\"><span class=\"xref std std-term\">file-like</span></a> representation of the\nmessage corresponding to <em>key</em>,\nor raise a <a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception if no such message exists.  The\nfile-like object behaves as if open in binary mode.  This file should be\nclosed once it is no longer needed.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.2: </span>The file object really is a <a class=\"reference internal\" href=\"../glossary.html#term-binary-file\"><span class=\"xref std std-term\">binary file</span></a>; previously it was\nincorrectly returned in text mode.  Also, the <a class=\"reference internal\" href=\"../glossary.html#term-file-like-object\"><span class=\"xref std std-term\">file-like object</span></a>\nnow supports the <a class=\"reference internal\" href=\"../glossary.html#term-context-manager\"><span class=\"xref std std-term\">context manager</span></a> protocol: you can use a\n<a class=\"reference internal\" href=\"../reference/compound_stmts.html#with\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">with</span></code></a> statement to automatically close it.</p>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Unlike other representations of messages,\n<a class=\"reference internal\" href=\"../glossary.html#term-file-like-object\"><span class=\"xref std std-term\">file-like</span></a> representations are not\nnecessarily independent of the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance that\ncreated them or of the underlying mailbox.  More specific documentation\nis provided by each subclass.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.__contains__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__contains__</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.__contains__\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if <em>key</em> corresponds to a message, <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> otherwise.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.__len__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__len__</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.__len__\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a count of messages in the mailbox.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.clear\">\n<span class=\"sig-name descname\"><span class=\"pre\">clear</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.clear\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Delete all messages from the mailbox.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.pop\">\n<span class=\"sig-name descname\"><span class=\"pre\">pop</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">default</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.pop\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a representation of the message corresponding to <em>key</em> and delete\nthe message. If no such message exists, return <em>default</em>. The message is\nrepresented as an instance of the appropriate format-specific\n<a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> subclass unless a custom message factory was specified\nwhen the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance was initialized.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.popitem\">\n<span class=\"sig-name descname\"><span class=\"pre\">popitem</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.popitem\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return an arbitrary (<em>key</em>, <em>message</em>) pair, where <em>key</em> is a key and\n<em>message</em> is a message representation, and delete the corresponding\nmessage. If the mailbox is empty, raise a <a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception. The\nmessage is represented as an instance of the appropriate format-specific\n<a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> subclass unless a custom message factory was specified\nwhen the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance was initialized.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.update\">\n<span class=\"sig-name descname\"><span class=\"pre\">update</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">arg</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.update\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Parameter <em>arg</em> should be a <em>key</em>-to-<em>message</em> mapping or an iterable of\n(<em>key</em>, <em>message</em>) pairs. Updates the mailbox so that, for each given\n<em>key</em> and <em>message</em>, the message corresponding to <em>key</em> is set to\n<em>message</em> as if by using <a class=\"reference internal\" href=\"#mailbox.Mailbox.__setitem__\" title=\"mailbox.Mailbox.__setitem__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__setitem__()</span></code></a>. As with <a class=\"reference internal\" href=\"#mailbox.Mailbox.__setitem__\" title=\"mailbox.Mailbox.__setitem__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__setitem__()</span></code></a>,\neach <em>key</em> must already correspond to a message in the mailbox or else a\n<a class=\"reference internal\" href=\"exceptions.html#KeyError\" title=\"KeyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">KeyError</span></code></a> exception will be raised, so in general it is incorrect\nfor <em>arg</em> to be a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Unlike with dictionaries, keyword arguments are not supported.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.flush\">\n<span class=\"sig-name descname\"><span class=\"pre\">flush</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.flush\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Write any pending changes to the filesystem. For some <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a>\nsubclasses, changes are always written immediately and <code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">flush()</span></code> does\nnothing, but you should still make a habit of calling this method.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.lock\">\n<span class=\"sig-name descname\"><span class=\"pre\">lock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.lock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Acquire an exclusive advisory lock on the mailbox so that other processes\nknow not to modify it. An <a class=\"reference internal\" href=\"#mailbox.ExternalClashError\" title=\"mailbox.ExternalClashError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ExternalClashError</span></code></a> is raised if the lock\nis not available. The particular locking mechanisms used depend upon the\nmailbox format.  You should <em>always</em> lock the mailbox before making any\nmodifications to its contents.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.unlock\">\n<span class=\"sig-name descname\"><span class=\"pre\">unlock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.unlock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Release the lock on the mailbox, if any.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Mailbox.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Mailbox.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Flush the mailbox, unlock it if necessary, and close any open files. For\nsome <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> subclasses, this method does nothing.</p>\n</dd></dl>\n\n</dd></dl>\n\n<section id=\"maildir-objects\">\n<span id=\"mailbox-maildir\"></span><h3><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code> objects<a class=\"headerlink\" href=\"#maildir-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Maildir</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dirname</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">factory</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">create</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A subclass of <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> for mailboxes in Maildir format. Parameter\n<em>factory</em> is a callable object that accepts a file-like message representation\n(which behaves as if opened in binary mode) and returns a custom representation.\nIf <em>factory</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, <a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> is used as the default message\nrepresentation. If <em>create</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, the mailbox is created if it does not\nexist.</p>\n<p>If <em>create</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> and the <em>dirname</em> path exists, it will be treated as\nan existing maildir without attempting to verify its directory layout.</p>\n<p>It is for historical reasons that <em>dirname</em> is named as such rather than <em>path</em>.</p>\n<p>Maildir is a directory-based mailbox format invented for the qmail mail\ntransfer agent and now widely supported by other programs. Messages in a\nMaildir mailbox are stored in separate files within a common directory\nstructure. This design allows Maildir mailboxes to be accessed and modified\nby multiple unrelated programs without data corruption, so file locking is\nunnecessary.</p>\n<p>Maildir mailboxes contain three subdirectories, namely: <code class=\"file docutils literal notranslate\"><span class=\"pre\">tmp</span></code>,\n<code class=\"file docutils literal notranslate\"><span class=\"pre\">new</span></code>, and <code class=\"file docutils literal notranslate\"><span class=\"pre\">cur</span></code>. Messages are created momentarily in the\n<code class=\"file docutils literal notranslate\"><span class=\"pre\">tmp</span></code> subdirectory and then moved to the <code class=\"file docutils literal notranslate\"><span class=\"pre\">new</span></code> subdirectory to\nfinalize delivery. A mail user agent may subsequently move the message to the\n<code class=\"file docutils literal notranslate\"><span class=\"pre\">cur</span></code> subdirectory and store information about the state of the message\nin a special “info” section appended to its file name.</p>\n<p>Folders of the style introduced by the Courier mail transfer agent are also\nsupported. Any subdirectory of the main mailbox is considered a folder if\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'.'</span></code> is the first character in its name. Folder names are represented by\n<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code> without the leading <code class=\"docutils literal notranslate\"><span class=\"pre\">'.'</span></code>. Each folder is itself a Maildir\nmailbox but should not contain other folders. Instead, a logical nesting is\nindicated using <code class=\"docutils literal notranslate\"><span class=\"pre\">'.'</span></code> to delimit levels, e.g., “Archived.2005.07”.</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.colon\">\n<span class=\"sig-name descname\"><span class=\"pre\">colon</span></span><a class=\"headerlink\" href=\"#mailbox.Maildir.colon\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The Maildir specification requires the use of a colon (<code class=\"docutils literal notranslate\"><span class=\"pre\">':'</span></code>) in certain\nmessage file names. However, some operating systems do not permit this\ncharacter in file names, If you wish to use a Maildir-like format on such\nan operating system, you should specify another character to use\ninstead. The exclamation point (<code class=\"docutils literal notranslate\"><span class=\"pre\">'!'</span></code>) is a popular choice. For\nexample:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">mailbox</span>\n<span class=\"n\">mailbox</span><span class=\"o\">.</span><span class=\"n\">Maildir</span><span class=\"o\">.</span><span class=\"n\">colon</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;!&#39;</span>\n</pre></div>\n</div>\n<p>The <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">colon</span></code> attribute may also be set on a per-instance basis.</p>\n</dd></dl>\n\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span><a class=\"reference internal\" href=\"#mailbox.Maildir\" title=\"mailbox.Maildir\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code></a> now ignores files with a leading dot.</p>\n</div>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code> instances have all of the methods of <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> in\naddition to the following:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.list_folders\">\n<span class=\"sig-name descname\"><span class=\"pre\">list_folders</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.list_folders\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a list of the names of all folders.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.get_folder\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_folder</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">folder</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.get_folder\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code> instance representing the folder whose name is\n<em>folder</em>. A <a class=\"reference internal\" href=\"#mailbox.NoSuchMailboxError\" title=\"mailbox.NoSuchMailboxError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">NoSuchMailboxError</span></code></a> exception is raised if the folder\ndoes not exist.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.add_folder\">\n<span class=\"sig-name descname\"><span class=\"pre\">add_folder</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">folder</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.add_folder\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a folder whose name is <em>folder</em> and return a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code>\ninstance representing it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.remove_folder\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove_folder</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">folder</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.remove_folder\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Delete the folder whose name is <em>folder</em>. If the folder contains any\nmessages, a <a class=\"reference internal\" href=\"#mailbox.NotEmptyError\" title=\"mailbox.NotEmptyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">NotEmptyError</span></code></a> exception will be raised and the folder\nwill not be deleted.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.clean\">\n<span class=\"sig-name descname\"><span class=\"pre\">clean</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.clean\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Delete temporary files from the mailbox that have not been accessed in the\nlast 36 hours. The Maildir specification says that mail-reading programs\nshould do this occasionally.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.get_flags\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_flags</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.get_flags\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return as a string the flags that are set on the message\ncorresponding to <em>key</em>.\nThis is the same as <code class=\"docutils literal notranslate\"><span class=\"pre\">get_message(key).get_flags()</span></code> but much\nfaster, because it does not open the message file.\nUse this method when iterating over the keys to determine which\nmessages are interesting to get.</p>\n<p>If you do have a <a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> object, use\nits <a class=\"reference internal\" href=\"#mailbox.MaildirMessage.get_flags\" title=\"mailbox.MaildirMessage.get_flags\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_flags()</span></code></a> method instead, because\nchanges made by the message’s <a class=\"reference internal\" href=\"#mailbox.MaildirMessage.set_flags\" title=\"mailbox.MaildirMessage.set_flags\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">set_flags()</span></code></a>,\n<a class=\"reference internal\" href=\"#mailbox.MaildirMessage.add_flag\" title=\"mailbox.MaildirMessage.add_flag\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">add_flag()</span></code></a> and <a class=\"reference internal\" href=\"#mailbox.MaildirMessage.remove_flag\" title=\"mailbox.MaildirMessage.remove_flag\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">remove_flag()</span></code></a>\nmethods are not reflected here until the mailbox’s\n<a class=\"reference internal\" href=\"#mailbox.Maildir.__setitem__\" title=\"mailbox.Maildir.__setitem__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__setitem__()</span></code></a> method is called.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.13.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.set_flags\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_flags</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flags</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.set_flags\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>On the message corresponding to <em>key</em>, set the flags specified\nby <em>flags</em> and unset all others.\nCalling <code class=\"docutils literal notranslate\"><span class=\"pre\">some_mailbox.set_flags(key,</span> <span class=\"pre\">flags)</span></code> is similar to</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">one_message</span> <span class=\"o\">=</span> <span class=\"n\">some_mailbox</span><span class=\"o\">.</span><span class=\"n\">get_message</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">)</span>\n<span class=\"n\">one_message</span><span class=\"o\">.</span><span class=\"n\">set_flags</span><span class=\"p\">(</span><span class=\"n\">flags</span><span class=\"p\">)</span>\n<span class=\"n\">some_mailbox</span><span class=\"p\">[</span><span class=\"n\">key</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">one_message</span>\n</pre></div>\n</div>\n<p>but faster, because it does not open the message file.</p>\n<p>If you do have a <a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> object, use\nits <a class=\"reference internal\" href=\"#mailbox.MaildirMessage.set_flags\" title=\"mailbox.MaildirMessage.set_flags\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">set_flags()</span></code></a> method instead, because\nchanges made with this mailbox method will not be visible to the\nmessage object’s method, <a class=\"reference internal\" href=\"#mailbox.MaildirMessage.get_flags\" title=\"mailbox.MaildirMessage.get_flags\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_flags()</span></code></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.13.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.add_flag\">\n<span class=\"sig-name descname\"><span class=\"pre\">add_flag</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flag</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.add_flag\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>On the message corresponding to <em>key</em>, set the flags specified\nby <em>flag</em> without changing other flags. To add more than one\nflag at a time, <em>flag</em> may be a string of more than one character.</p>\n<p>Considerations for using this method versus the message object’s\n<a class=\"reference internal\" href=\"#mailbox.MaildirMessage.add_flag\" title=\"mailbox.MaildirMessage.add_flag\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">add_flag()</span></code></a> method are similar to\nthose for <a class=\"reference internal\" href=\"#mailbox.Maildir.set_flags\" title=\"mailbox.Maildir.set_flags\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">set_flags()</span></code></a>; see the discussion there.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.13.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.remove_flag\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove_flag</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flag</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.remove_flag\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>On the message corresponding to <em>key</em>, unset the flags specified\nby <em>flag</em> without changing other flags. To remove more than one\nflag at a time, <em>flag</em> may be a string of more than one character.</p>\n<p>Considerations for using this method versus the message object’s\n<a class=\"reference internal\" href=\"#mailbox.MaildirMessage.remove_flag\" title=\"mailbox.MaildirMessage.remove_flag\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">remove_flag()</span></code></a> method are similar to\nthose for <a class=\"reference internal\" href=\"#mailbox.Maildir.set_flags\" title=\"mailbox.Maildir.set_flags\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">set_flags()</span></code></a>; see the discussion there.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.13.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.get_info\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_info</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.get_info\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a string containing the info for the message\ncorresponding to <em>key</em>.\nThis is the same as <code class=\"docutils literal notranslate\"><span class=\"pre\">get_message(key).get_info()</span></code> but much\nfaster, because it does not open the message file.\nUse this method when iterating over the keys to determine which\nmessages are interesting to get.</p>\n<p>If you do have a <a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> object, use\nits <a class=\"reference internal\" href=\"#mailbox.MaildirMessage.get_info\" title=\"mailbox.MaildirMessage.get_info\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_info()</span></code></a> method instead, because\nchanges made by the message’s <a class=\"reference internal\" href=\"#mailbox.MaildirMessage.set_info\" title=\"mailbox.MaildirMessage.set_info\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">set_info()</span></code></a> method\nare not reflected here until the mailbox’s <a class=\"reference internal\" href=\"#mailbox.Maildir.__setitem__\" title=\"mailbox.Maildir.__setitem__\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__setitem__()</span></code></a> method\nis called.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.13.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.set_info\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_info</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">info</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.set_info\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the info of the message corresponding to <em>key</em> to <em>info</em>.\nCalling <code class=\"docutils literal notranslate\"><span class=\"pre\">some_mailbox.set_info(key,</span> <span class=\"pre\">flags)</span></code> is similar to</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">one_message</span> <span class=\"o\">=</span> <span class=\"n\">some_mailbox</span><span class=\"o\">.</span><span class=\"n\">get_message</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">)</span>\n<span class=\"n\">one_message</span><span class=\"o\">.</span><span class=\"n\">set_info</span><span class=\"p\">(</span><span class=\"n\">info</span><span class=\"p\">)</span>\n<span class=\"n\">some_mailbox</span><span class=\"p\">[</span><span class=\"n\">key</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">one_message</span>\n</pre></div>\n</div>\n<p>but faster, because it does not open the message file.</p>\n<p>If you do have a <a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> object, use\nits <a class=\"reference internal\" href=\"#mailbox.MaildirMessage.set_info\" title=\"mailbox.MaildirMessage.set_info\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">set_info()</span></code></a> method instead, because\nchanges made with this mailbox method will not be visible to the\nmessage object’s method, <a class=\"reference internal\" href=\"#mailbox.MaildirMessage.get_info\" title=\"mailbox.MaildirMessage.get_info\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_info()</span></code></a>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.13.</span></p>\n</div>\n</dd></dl>\n\n<p>Some <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> methods implemented by <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code> deserve special\nremarks:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.add\">\n<span class=\"sig-name descname\"><span class=\"pre\">add</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">message</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.add\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.__setitem__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__setitem__</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">message</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.__setitem__\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.update\">\n<span class=\"sig-name descname\"><span class=\"pre\">update</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">arg</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.update\" title=\"Link to this definition\">¶</a></dt>\n<dd><div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>These methods generate unique file names based upon the current process\nID. When using multiple threads, undetected name clashes may occur and\ncause corruption of the mailbox unless threads are coordinated to avoid\nusing these methods to manipulate the same mailbox simultaneously.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.flush\">\n<span class=\"sig-name descname\"><span class=\"pre\">flush</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.flush\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>All changes to Maildir mailboxes are immediately applied, so this method\ndoes nothing.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.lock\">\n<span class=\"sig-name descname\"><span class=\"pre\">lock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.lock\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.unlock\">\n<span class=\"sig-name descname\"><span class=\"pre\">unlock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.unlock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Maildir mailboxes do not support (or require) locking, so these methods do\nnothing.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code> instances do not keep any open files and the underlying\nmailboxes do not support locking, so this method does nothing.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Maildir.get_file\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_file</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Maildir.get_file\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Depending upon the host platform, it may not be possible to modify or\nremove the underlying message while the returned file remains open.</p>\n</dd></dl>\n\n</dd></dl>\n\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<dl class=\"simple\">\n<dt><a class=\"reference external\" href=\"https://www.courier-mta.org/maildir.html\">maildir man page from Courier</a></dt><dd><p>A specification of the format. Describes a common extension for\nsupporting folders.</p>\n</dd>\n<dt><a class=\"reference external\" href=\"https://cr.yp.to/proto/maildir.html\">Using maildir format</a></dt><dd><p>Notes on Maildir by its inventor. Includes an updated name-creation scheme and\ndetails on “info” semantics.</p>\n</dd>\n</dl>\n</div>\n</section>\n<section id=\"mbox-objects\">\n<span id=\"mailbox-mbox\"></span><h3><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mbox</span></code> objects<a class=\"headerlink\" href=\"#mbox-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mbox\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">mbox</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">path</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">factory</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">create</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mbox\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A subclass of <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> for mailboxes in mbox format. Parameter <em>factory</em>\nis a callable object that accepts a file-like message representation (which\nbehaves as if opened in binary mode) and returns a custom representation. If\n<em>factory</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, <a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> is used as the default message\nrepresentation. If <em>create</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, the mailbox is created if it does not\nexist.</p>\n<p>The mbox format is the classic format for storing mail on Unix systems. All\nmessages in an mbox mailbox are stored in a single file with the beginning of\neach message indicated by a line whose first five characters are “From “.</p>\n<p>Several variations of the mbox format exist to address perceived shortcomings in\nthe original. In the interest of compatibility, <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mbox</span></code> implements the\noriginal format, which is sometimes referred to as <em class=\"dfn\">mboxo</em>. This means that\nthe <em class=\"mailheader\">Content-Length</em> header, if present, is ignored and that any\noccurrences of “From “ at the beginning of a line in a message body are\ntransformed to “&gt;From “ when storing the message, although occurrences of “&gt;From\n“ are not transformed to “From “ when reading the message.</p>\n<p>Some <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> methods implemented by <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mbox</span></code> deserve special\nremarks:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mbox.get_bytes\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_bytes</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">from_</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mbox.get_bytes\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Note: This method has an extra parameter (<em>from_</em>) compared with other classes.\nThe first line of an mbox file entry is the Unix “From “ line.\nIf <em>from_</em> is False, the first line of the file is dropped.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mbox.get_file\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_file</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">from_</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mbox.get_file\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Using the file after calling <a class=\"reference internal\" href=\"#mailbox.Mailbox.flush\" title=\"mailbox.Mailbox.flush\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">flush()</span></code></a> or\n<a class=\"reference internal\" href=\"#mailbox.Mailbox.close\" title=\"mailbox.Mailbox.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> on the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mbox</span></code> instance may yield\nunpredictable results or raise an exception.</p>\n<p>Note: This method has an extra parameter (<em>from_</em>) compared with other classes.\nThe first line of an mbox file entry is the Unix “From “ line.\nIf <em>from_</em> is False, the first line of the file is dropped.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mbox.get_string\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_string</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">from_</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mbox.get_string\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Note: This method has an extra parameter (<em>from_</em>) compared with other classes.\nThe first line of an mbox file entry is the Unix “From “ line.\nIf <em>from_</em> is False, the first line of the file is dropped.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mbox.lock\">\n<span class=\"sig-name descname\"><span class=\"pre\">lock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mbox.lock\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.mbox.unlock\">\n<span class=\"sig-name descname\"><span class=\"pre\">unlock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mbox.unlock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Three locking mechanisms are used—dot locking and, if available, the\n<code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">flock()</span></code> and <code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">lockf()</span></code> system calls.</p>\n</dd></dl>\n\n</dd></dl>\n\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<dl class=\"simple\">\n<dt><a class=\"reference external\" href=\"http://www.tin.org/bin/man.cgi?section=5&amp;topic=mbox\">mbox man page from tin</a></dt><dd><p>A specification of the format, with details on locking.</p>\n</dd>\n<dt><a class=\"reference external\" href=\"https://www.jwz.org/doc/content-length.html\">Configuring Netscape Mail on Unix: Why The Content-Length Format is Bad</a></dt><dd><p>An argument for using the original mbox format rather than a variation.</p>\n</dd>\n<dt><a class=\"reference external\" href=\"https://www.loc.gov/preservation/digital/formats/fdd/fdd000383.shtml\">“mbox” is a family of several mutually incompatible mailbox formats</a></dt><dd><p>A history of mbox variations.</p>\n</dd>\n</dl>\n</div>\n</section>\n<section id=\"mh-objects\">\n<span id=\"mailbox-mh\"></span><h3><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MH</span></code> objects<a class=\"headerlink\" href=\"#mh-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">MH</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">path</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">factory</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">create</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A subclass of <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> for mailboxes in MH format. Parameter <em>factory</em>\nis a callable object that accepts a file-like message representation (which\nbehaves as if opened in binary mode) and returns a custom representation. If\n<em>factory</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, <a class=\"reference internal\" href=\"#mailbox.MHMessage\" title=\"mailbox.MHMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code></a> is used as the default message\nrepresentation. If <em>create</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, the mailbox is created if it does not\nexist.</p>\n<p>MH is a directory-based mailbox format invented for the MH Message Handling\nSystem, a mail user agent. Each message in an MH mailbox resides in its own\nfile. An MH mailbox may contain other MH mailboxes (called <em class=\"dfn\">folders</em>) in\naddition to messages. Folders may be nested indefinitely. MH mailboxes also\nsupport <em class=\"dfn\">sequences</em>, which are named lists used to logically group\nmessages without moving them to sub-folders. Sequences are defined in a file\ncalled <code class=\"file docutils literal notranslate\"><span class=\"pre\">.mh_sequences</span></code> in each folder.</p>\n<p>The <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MH</span></code> class manipulates MH mailboxes, but it does not attempt to\nemulate all of <strong class=\"program\">mh</strong>’s behaviors. In particular, it does not modify\nand is not affected by the <code class=\"file docutils literal notranslate\"><span class=\"pre\">context</span></code> or <code class=\"file docutils literal notranslate\"><span class=\"pre\">.mh_profile</span></code> files that\nare used by <strong class=\"program\">mh</strong> to store its state and configuration.</p>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MH</span></code> instances have all of the methods of <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> in addition\nto the following:</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.13: </span>Supported folders that don’t contain a <code class=\"file docutils literal notranslate\"><span class=\"pre\">.mh_sequences</span></code> file.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.list_folders\">\n<span class=\"sig-name descname\"><span class=\"pre\">list_folders</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.list_folders\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a list of the names of all folders.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.get_folder\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_folder</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">folder</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.get_folder\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MH</span></code> instance representing the folder whose name is\n<em>folder</em>. A <a class=\"reference internal\" href=\"#mailbox.NoSuchMailboxError\" title=\"mailbox.NoSuchMailboxError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">NoSuchMailboxError</span></code></a> exception is raised if the folder\ndoes not exist.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.add_folder\">\n<span class=\"sig-name descname\"><span class=\"pre\">add_folder</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">folder</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.add_folder\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a folder whose name is <em>folder</em> and return an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MH</span></code> instance\nrepresenting it.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.remove_folder\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove_folder</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">folder</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.remove_folder\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Delete the folder whose name is <em>folder</em>. If the folder contains any\nmessages, a <a class=\"reference internal\" href=\"#mailbox.NotEmptyError\" title=\"mailbox.NotEmptyError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">NotEmptyError</span></code></a> exception will be raised and the folder\nwill not be deleted.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.get_sequences\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_sequences</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.get_sequences\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a dictionary of sequence names mapped to key lists. If there are no\nsequences, the empty dictionary is returned.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.set_sequences\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_sequences</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sequences</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.set_sequences\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Re-define the sequences that exist in the mailbox based upon <em>sequences</em>,\na dictionary of names mapped to key lists, like returned by\n<a class=\"reference internal\" href=\"#mailbox.MH.get_sequences\" title=\"mailbox.MH.get_sequences\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_sequences()</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.pack\">\n<span class=\"sig-name descname\"><span class=\"pre\">pack</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.pack\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Rename messages in the mailbox as necessary to eliminate gaps in\nnumbering.  Entries in the sequences list are updated correspondingly.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Already-issued keys are invalidated by this operation and should not be\nsubsequently used.</p>\n</div>\n</dd></dl>\n\n<p>Some <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> methods implemented by <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MH</span></code> deserve special\nremarks:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.remove\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.remove\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.__delitem__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__delitem__</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.__delitem__\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.discard\">\n<span class=\"sig-name descname\"><span class=\"pre\">discard</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.discard\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>These methods immediately delete the message. The MH convention of marking\na message for deletion by prepending a comma to its name is not used.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.lock\">\n<span class=\"sig-name descname\"><span class=\"pre\">lock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.lock\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.unlock\">\n<span class=\"sig-name descname\"><span class=\"pre\">unlock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.unlock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Three locking mechanisms are used—dot locking and, if available, the\n<code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">flock()</span></code> and <code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">lockf()</span></code> system calls. For MH mailboxes, locking\nthe mailbox means locking the <code class=\"file docutils literal notranslate\"><span class=\"pre\">.mh_sequences</span></code> file and, only for the\nduration of any operations that affect them, locking individual message\nfiles.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.get_file\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_file</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.get_file\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Depending upon the host platform, it may not be possible to remove the\nunderlying message while the returned file remains open.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.flush\">\n<span class=\"sig-name descname\"><span class=\"pre\">flush</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.flush\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>All changes to MH mailboxes are immediately applied, so this method does\nnothing.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MH.close\">\n<span class=\"sig-name descname\"><span class=\"pre\">close</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MH.close\" title=\"Link to this definition\">¶</a></dt>\n<dd><p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MH</span></code> instances do not keep any open files, so this method is\nequivalent to <a class=\"reference internal\" href=\"#mailbox.MH.unlock\" title=\"mailbox.MH.unlock\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">unlock()</span></code></a>.</p>\n</dd></dl>\n\n</dd></dl>\n\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<dl class=\"simple\">\n<dt><a class=\"reference external\" href=\"https://www.nongnu.org/nmh/\">nmh - Message Handling System</a></dt><dd><p>Home page of <strong class=\"program\">nmh</strong>, an updated version of the original <strong class=\"program\">mh</strong>.</p>\n</dd>\n<dt><a class=\"reference external\" href=\"https://rand-mh.sourceforge.io/book/\">MH &amp; nmh: Email for Users &amp; Programmers</a></dt><dd><p>A GPL-licensed book on <strong class=\"program\">mh</strong> and <strong class=\"program\">nmh</strong>, with some information\non the mailbox format.</p>\n</dd>\n</dl>\n</div>\n</section>\n<section id=\"babyl-objects\">\n<span id=\"mailbox-babyl\"></span><h3><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Babyl</span></code> objects<a class=\"headerlink\" href=\"#babyl-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Babyl\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Babyl</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">path</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">factory</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">create</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Babyl\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A subclass of <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> for mailboxes in Babyl format. Parameter\n<em>factory</em> is a callable object that accepts a file-like message representation\n(which behaves as if opened in binary mode) and returns a custom representation.\nIf <em>factory</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, <a class=\"reference internal\" href=\"#mailbox.BabylMessage\" title=\"mailbox.BabylMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code></a> is used as the default message\nrepresentation. If <em>create</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, the mailbox is created if it does not\nexist.</p>\n<p>Babyl is a single-file mailbox format used by the Rmail mail user agent\nincluded with Emacs. The beginning of a message is indicated by a line\ncontaining the two characters Control-Underscore (<code class=\"docutils literal notranslate\"><span class=\"pre\">'\\037'</span></code>) and Control-L\n(<code class=\"docutils literal notranslate\"><span class=\"pre\">'\\014'</span></code>). The end of a message is indicated by the start of the next\nmessage or, in the case of the last message, a line containing a\nControl-Underscore (<code class=\"docutils literal notranslate\"><span class=\"pre\">'\\037'</span></code>) character.</p>\n<p>Messages in a Babyl mailbox have two sets of headers, original headers and\nso-called visible headers. Visible headers are typically a subset of the\noriginal headers that have been reformatted or abridged to be more\nattractive. Each message in a Babyl mailbox also has an accompanying list of\n<em class=\"dfn\">labels</em>, or short strings that record extra information about the\nmessage, and a list of all user-defined labels found in the mailbox is kept\nin the Babyl options section.</p>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Babyl</span></code> instances have all of the methods of <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> in\naddition to the following:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Babyl.get_labels\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_labels</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Babyl.get_labels\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a list of the names of all user-defined labels used in the mailbox.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The actual messages are inspected to determine which labels exist in\nthe mailbox rather than consulting the list of labels in the Babyl\noptions section, but the Babyl section is updated whenever the mailbox\nis modified.</p>\n</div>\n</dd></dl>\n\n<p>Some <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> methods implemented by <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Babyl</span></code> deserve special\nremarks:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Babyl.get_file\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_file</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Babyl.get_file\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>In Babyl mailboxes, the headers of a message are not stored contiguously\nwith the body of the message. To generate a file-like representation, the\nheaders and body are copied together into an <a class=\"reference internal\" href=\"io.html#io.BytesIO\" title=\"io.BytesIO\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">io.BytesIO</span></code></a> instance,\nwhich has an API identical to that of a\nfile. As a result, the file-like object is truly independent of the\nunderlying mailbox but does not save memory compared to a string\nrepresentation.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Babyl.lock\">\n<span class=\"sig-name descname\"><span class=\"pre\">lock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Babyl.lock\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.Babyl.unlock\">\n<span class=\"sig-name descname\"><span class=\"pre\">unlock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Babyl.unlock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Three locking mechanisms are used—dot locking and, if available, the\n<code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">flock()</span></code> and <code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">lockf()</span></code> system calls.</p>\n</dd></dl>\n\n</dd></dl>\n\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<dl class=\"simple\">\n<dt><a class=\"reference external\" href=\"https://quimby.gnus.org/notes/BABYL\">Format of Version 5 Babyl Files</a></dt><dd><p>A specification of the Babyl format.</p>\n</dd>\n<dt><a class=\"reference external\" href=\"https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail.html\">Reading Mail with Rmail</a></dt><dd><p>The Rmail manual, with some information on Babyl semantics.</p>\n</dd>\n</dl>\n</div>\n</section>\n<section id=\"mmdf-objects\">\n<span id=\"mailbox-mmdf\"></span><h3><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDF</span></code> objects<a class=\"headerlink\" href=\"#mmdf-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDF\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">MMDF</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">path</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">factory</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">create</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDF\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A subclass of <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> for mailboxes in MMDF format. Parameter <em>factory</em>\nis a callable object that accepts a file-like message representation (which\nbehaves as if opened in binary mode) and returns a custom representation. If\n<em>factory</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, <a class=\"reference internal\" href=\"#mailbox.MMDFMessage\" title=\"mailbox.MMDFMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code></a> is used as the default message\nrepresentation. If <em>create</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, the mailbox is created if it does not\nexist.</p>\n<p>MMDF is a single-file mailbox format invented for the Multichannel Memorandum\nDistribution Facility, a mail transfer agent. Each message is in the same\nform as an mbox message but is bracketed before and after by lines containing\nfour Control-A (<code class=\"docutils literal notranslate\"><span class=\"pre\">'\\001'</span></code>) characters. As with the mbox format, the\nbeginning of each message is indicated by a line whose first five characters\nare “From “, but additional occurrences of “From “ are not transformed to\n“&gt;From “ when storing messages because the extra message separator lines\nprevent mistaking such occurrences for the starts of subsequent messages.</p>\n<p>Some <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> methods implemented by <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDF</span></code> deserve special\nremarks:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDF.get_bytes\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_bytes</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">from_</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDF.get_bytes\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Note: This method has an extra parameter (<em>from_</em>) compared with other classes.\nThe first line of an mbox file entry is the Unix “From “ line.\nIf <em>from_</em> is False, the first line of the file is dropped.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDF.get_file\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_file</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">from_</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDF.get_file\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Using the file after calling <a class=\"reference internal\" href=\"#mailbox.Mailbox.flush\" title=\"mailbox.Mailbox.flush\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">flush()</span></code></a> or\n<a class=\"reference internal\" href=\"#mailbox.Mailbox.close\" title=\"mailbox.Mailbox.close\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">close()</span></code></a> on the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDF</span></code> instance may yield\nunpredictable results or raise an exception.</p>\n<p>Note: This method has an extra parameter (<em>from_</em>) compared with other classes.\nThe first line of an mbox file entry is the Unix “From “ line.\nIf <em>from_</em> is False, the first line of the file is dropped.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDF.lock\">\n<span class=\"sig-name descname\"><span class=\"pre\">lock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDF.lock\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDF.unlock\">\n<span class=\"sig-name descname\"><span class=\"pre\">unlock</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDF.unlock\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Three locking mechanisms are used—dot locking and, if available, the\n<code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">flock()</span></code> and <code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">lockf()</span></code> system calls.</p>\n</dd></dl>\n\n</dd></dl>\n\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<dl class=\"simple\">\n<dt><a class=\"reference external\" href=\"http://www.tin.org/bin/man.cgi?section=5&amp;topic=mmdf\">mmdf man page from tin</a></dt><dd><p>A specification of MMDF format from the documentation of tin, a newsreader.</p>\n</dd>\n<dt><a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/MMDF\">MMDF</a></dt><dd><p>A Wikipedia article describing the Multichannel Memorandum Distribution\nFacility.</p>\n</dd>\n</dl>\n</div>\n</section>\n</section>\n<section id=\"message-objects\">\n<span id=\"mailbox-message-objects\"></span><h2><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code> objects<a class=\"headerlink\" href=\"#message-objects\" title=\"Link to this heading\">¶</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Message\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Message</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">message</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.Message\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A subclass of the <a class=\"reference internal\" href=\"email.message.html#module-email.message\" title=\"email.message: The base class representing email messages.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">email.message</span></code></a> module’s\n<a class=\"reference internal\" href=\"email.compat32-message.html#email.message.Message\" title=\"email.message.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a>. Subclasses of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mailbox.Message</span></code> add\nmailbox-format-specific state and behavior.</p>\n<p>If <em>message</em> is omitted, the new instance is created in a default, empty state.\nIf <em>message</em> is an <a class=\"reference internal\" href=\"email.compat32-message.html#email.message.Message\" title=\"email.message.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">email.message.Message</span></code></a> instance, its contents are\ncopied; furthermore, any format-specific information is converted insofar as\npossible if <em>message</em> is a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code> instance. If <em>message</em> is a string,\na byte string,\nor a file, it should contain an <span class=\"target\" id=\"index-0\"></span><a class=\"rfc reference external\" href=\"https://datatracker.ietf.org/doc/html/rfc5322.html\"><strong>RFC 5322</strong></a>-compliant message, which is read\nand parsed.  Files should be open in binary mode, but text mode files\nare accepted for backward compatibility.</p>\n<p>The format-specific state and behaviors offered by subclasses vary, but in\ngeneral it is only the properties that are not specific to a particular\nmailbox that are supported (although presumably the properties are specific\nto a particular mailbox format). For example, file offsets for single-file\nmailbox formats and file names for directory-based mailbox formats are not\nretained, because they are only applicable to the original mailbox. But state\nsuch as whether a message has been read by the user or marked as important is\nretained, because it applies to the message itself.</p>\n<p>There is no requirement that <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code> instances be used to represent\nmessages retrieved using <a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> instances. In some situations, the\ntime and memory required to generate <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code> representations might\nnot be acceptable. For such situations, <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instances also\noffer string and file-like representations, and a custom message factory may\nbe specified when a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> instance is initialized.</p>\n</dd></dl>\n\n<section id=\"maildirmessage-objects\">\n<span id=\"mailbox-maildirmessage\"></span><h3><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code> objects<a class=\"headerlink\" href=\"#maildirmessage-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">MaildirMessage</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">message</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A message with Maildir-specific behaviors. Parameter <em>message</em> has the same\nmeaning as with the <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> constructor.</p>\n<p>Typically, a mail user agent application moves all of the messages in the\n<code class=\"file docutils literal notranslate\"><span class=\"pre\">new</span></code> subdirectory to the <code class=\"file docutils literal notranslate\"><span class=\"pre\">cur</span></code> subdirectory after the first time\nthe user opens and closes the mailbox, recording that the messages are old\nwhether or not they’ve actually been read. Each message in <code class=\"file docutils literal notranslate\"><span class=\"pre\">cur</span></code> has an\n“info” section added to its file name to store information about its state.\n(Some mail readers may also add an “info” section to messages in\n<code class=\"file docutils literal notranslate\"><span class=\"pre\">new</span></code>.)  The “info” section may take one of two forms: it may contain\n“2,” followed by a list of standardized flags (e.g., “2,FR”) or it may\ncontain “1,” followed by so-called experimental information. Standard flags\nfor Maildir messages are as follows:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Flag</p></th>\n<th class=\"head\"><p>Meaning</p></th>\n<th class=\"head\"><p>Explanation</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>D</p></td>\n<td><p>Draft</p></td>\n<td><p>Under composition</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>F</p></td>\n<td><p>Flagged</p></td>\n<td><p>Marked as important</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>P</p></td>\n<td><p>Passed</p></td>\n<td><p>Forwarded, resent, or bounced</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>R</p></td>\n<td><p>Replied</p></td>\n<td><p>Replied to</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>S</p></td>\n<td><p>Seen</p></td>\n<td><p>Read</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>T</p></td>\n<td><p>Trashed</p></td>\n<td><p>Marked for subsequent deletion</p></td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code> instances offer the following methods:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage.get_subdir\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_subdir</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage.get_subdir\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return either “new” (if the message should be stored in the <code class=\"file docutils literal notranslate\"><span class=\"pre\">new</span></code>\nsubdirectory) or “cur” (if the message should be stored in the <code class=\"file docutils literal notranslate\"><span class=\"pre\">cur</span></code>\nsubdirectory).</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>A message is typically moved from <code class=\"file docutils literal notranslate\"><span class=\"pre\">new</span></code> to <code class=\"file docutils literal notranslate\"><span class=\"pre\">cur</span></code> after its\nmailbox has been accessed, whether or not the message has been\nread. A message <code class=\"docutils literal notranslate\"><span class=\"pre\">msg</span></code> has been read if <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;S&quot;</span> <span class=\"pre\">in</span> <span class=\"pre\">msg.get_flags()</span></code> is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage.set_subdir\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_subdir</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">subdir</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage.set_subdir\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the subdirectory the message should be stored in. Parameter <em>subdir</em>\nmust be either “new” or “cur”.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage.get_flags\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_flags</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage.get_flags\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a string specifying the flags that are currently set. If the\nmessage complies with the standard Maildir format, the result is the\nconcatenation in alphabetical order of zero or one occurrence of each of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'D'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'F'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'P'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'R'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'S'</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">'T'</span></code>. The empty string\nis returned if no flags are set or if “info” contains experimental\nsemantics.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage.set_flags\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_flags</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flags</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage.set_flags\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the flags specified by <em>flags</em> and unset all others.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage.add_flag\">\n<span class=\"sig-name descname\"><span class=\"pre\">add_flag</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flag</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage.add_flag\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the flag(s) specified by <em>flag</em> without changing other flags. To add\nmore than one flag at a time, <em>flag</em> may be a string of more than one\ncharacter. The current “info” is overwritten whether or not it contains\nexperimental information rather than flags.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage.remove_flag\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove_flag</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flag</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage.remove_flag\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Unset the flag(s) specified by <em>flag</em> without changing other flags. To\nremove more than one flag at a time, <em>flag</em> maybe a string of more than\none character.  If “info” contains experimental information rather than\nflags, the current “info” is not modified.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage.get_date\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_date</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage.get_date\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the delivery date of the message as a floating-point number\nrepresenting seconds since the epoch.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage.set_date\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_date</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">date</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage.set_date\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the delivery date of the message to <em>date</em>, a floating-point number\nrepresenting seconds since the epoch.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage.get_info\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_info</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage.get_info\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a string containing the “info” for a message. This is useful for\naccessing and modifying “info” that is experimental (i.e., not a list of\nflags).</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MaildirMessage.set_info\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_info</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">info</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MaildirMessage.set_info\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set “info” to <em>info</em>, which should be a string.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>When a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code> instance is created based upon an\n<a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> or <a class=\"reference internal\" href=\"#mailbox.MMDFMessage\" title=\"mailbox.MMDFMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code></a> instance, the <em class=\"mailheader\">Status</em>\nand <em class=\"mailheader\">X-Status</em> headers are omitted and the following conversions\ntake place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> or <a class=\"reference internal\" href=\"#mailbox.MMDFMessage\" title=\"mailbox.MMDFMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code></a>\nstate</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>“cur” subdirectory</p></td>\n<td><p>O flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>F flag</p></td>\n<td><p>F flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>R flag</p></td>\n<td><p>A flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>S flag</p></td>\n<td><p>R flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>T flag</p></td>\n<td><p>D flag</p></td>\n</tr>\n</tbody>\n</table>\n<p>When a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code> instance is created based upon an\n<a class=\"reference internal\" href=\"#mailbox.MHMessage\" title=\"mailbox.MHMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code></a> instance, the following conversions take place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.MHMessage\" title=\"mailbox.MHMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>“cur” subdirectory</p></td>\n<td><p>“unseen” sequence</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>“cur” subdirectory and S flag</p></td>\n<td><p>no “unseen” sequence</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>F flag</p></td>\n<td><p>“flagged” sequence</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>R flag</p></td>\n<td><p>“replied” sequence</p></td>\n</tr>\n</tbody>\n</table>\n<p>When a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code> instance is created based upon a\n<a class=\"reference internal\" href=\"#mailbox.BabylMessage\" title=\"mailbox.BabylMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code></a> instance, the following conversions take place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.BabylMessage\" title=\"mailbox.BabylMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>“cur” subdirectory</p></td>\n<td><p>“unseen” label</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>“cur” subdirectory and S flag</p></td>\n<td><p>no “unseen” label</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>P flag</p></td>\n<td><p>“forwarded” or “resent” label</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>R flag</p></td>\n<td><p>“answered” label</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>T flag</p></td>\n<td><p>“deleted” label</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<section id=\"mboxmessage-objects\">\n<span id=\"mailbox-mboxmessage\"></span><h3><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code> objects<a class=\"headerlink\" href=\"#mboxmessage-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mboxMessage\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">mboxMessage</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">message</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mboxMessage\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A message with mbox-specific behaviors. Parameter <em>message</em> has the same meaning\nas with the <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> constructor.</p>\n<p>Messages in an mbox mailbox are stored together in a single file. The\nsender’s envelope address and the time of delivery are typically stored in a\nline beginning with “From “ that is used to indicate the start of a message,\nthough there is considerable variation in the exact format of this data among\nmbox implementations. Flags that indicate the state of the message, such as\nwhether it has been read or marked as important, are typically stored in\n<em class=\"mailheader\">Status</em> and <em class=\"mailheader\">X-Status</em> headers.</p>\n<p>Conventional flags for mbox messages are as follows:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Flag</p></th>\n<th class=\"head\"><p>Meaning</p></th>\n<th class=\"head\"><p>Explanation</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>R</p></td>\n<td><p>Read</p></td>\n<td><p>Read</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>O</p></td>\n<td><p>Old</p></td>\n<td><p>Previously detected by MUA</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>D</p></td>\n<td><p>Deleted</p></td>\n<td><p>Marked for subsequent deletion</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>F</p></td>\n<td><p>Flagged</p></td>\n<td><p>Marked as important</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>A</p></td>\n<td><p>Answered</p></td>\n<td><p>Replied to</p></td>\n</tr>\n</tbody>\n</table>\n<p>The “R” and “O” flags are stored in the <em class=\"mailheader\">Status</em> header, and the\n“D”, “F”, and “A” flags are stored in the <em class=\"mailheader\">X-Status</em> header. The\nflags and headers typically appear in the order mentioned.</p>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code> instances offer the following methods:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mboxMessage.get_from\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_from</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mboxMessage.get_from\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a string representing the “From “ line that marks the start of the\nmessage in an mbox mailbox. The leading “From “ and the trailing newline\nare excluded.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mboxMessage.set_from\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_from</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">from_</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">time_</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mboxMessage.set_from\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the “From “ line to <em>from_</em>, which should be specified without a\nleading “From “ or trailing newline. For convenience, <em>time_</em> may be\nspecified and will be formatted appropriately and appended to <em>from_</em>. If\n<em>time_</em> is specified, it should be a <a class=\"reference internal\" href=\"time.html#time.struct_time\" title=\"time.struct_time\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">time.struct_time</span></code></a> instance, a\ntuple suitable for passing to <a class=\"reference internal\" href=\"time.html#time.strftime\" title=\"time.strftime\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">time.strftime()</span></code></a>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (to use\n<a class=\"reference internal\" href=\"time.html#time.gmtime\" title=\"time.gmtime\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">time.gmtime()</span></code></a>).</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mboxMessage.get_flags\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_flags</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mboxMessage.get_flags\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a string specifying the flags that are currently set. If the\nmessage complies with the conventional format, the result is the\nconcatenation in the following order of zero or one occurrence of each of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'R'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'O'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'D'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'F'</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">'A'</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mboxMessage.set_flags\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_flags</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flags</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mboxMessage.set_flags\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the flags specified by <em>flags</em> and unset all others. Parameter <em>flags</em>\nshould be the concatenation in any order of zero or more occurrences of\neach of <code class=\"docutils literal notranslate\"><span class=\"pre\">'R'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'O'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'D'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'F'</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">'A'</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mboxMessage.add_flag\">\n<span class=\"sig-name descname\"><span class=\"pre\">add_flag</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flag</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mboxMessage.add_flag\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the flag(s) specified by <em>flag</em> without changing other flags. To add\nmore than one flag at a time, <em>flag</em> may be a string of more than one\ncharacter.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.mboxMessage.remove_flag\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove_flag</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flag</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.mboxMessage.remove_flag\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Unset the flag(s) specified by <em>flag</em> without changing other flags. To\nremove more than one flag at a time, <em>flag</em> maybe a string of more than\none character.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>When an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code> instance is created based upon a\n<a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> instance, a “From “ line is generated based upon the\n<a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> instance’s delivery date, and the following conversions\ntake place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>R flag</p></td>\n<td><p>S flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>O flag</p></td>\n<td><p>“cur” subdirectory</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>D flag</p></td>\n<td><p>T flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>F flag</p></td>\n<td><p>F flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>A flag</p></td>\n<td><p>R flag</p></td>\n</tr>\n</tbody>\n</table>\n<p>When an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code> instance is created based upon an\n<a class=\"reference internal\" href=\"#mailbox.MHMessage\" title=\"mailbox.MHMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code></a> instance, the following conversions take place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.MHMessage\" title=\"mailbox.MHMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>R flag and O flag</p></td>\n<td><p>no “unseen” sequence</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>O flag</p></td>\n<td><p>“unseen” sequence</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>F flag</p></td>\n<td><p>“flagged” sequence</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>A flag</p></td>\n<td><p>“replied” sequence</p></td>\n</tr>\n</tbody>\n</table>\n<p>When an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code> instance is created based upon a\n<a class=\"reference internal\" href=\"#mailbox.BabylMessage\" title=\"mailbox.BabylMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code></a> instance, the following conversions take place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.BabylMessage\" title=\"mailbox.BabylMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>R flag and O flag</p></td>\n<td><p>no “unseen” label</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>O flag</p></td>\n<td><p>“unseen” label</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>D flag</p></td>\n<td><p>“deleted” label</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>A flag</p></td>\n<td><p>“answered” label</p></td>\n</tr>\n</tbody>\n</table>\n<p>When a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code> instance is created based upon an\n<a class=\"reference internal\" href=\"#mailbox.MMDFMessage\" title=\"mailbox.MMDFMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code></a>\ninstance, the “From “ line is copied and all flags directly correspond:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.MMDFMessage\" title=\"mailbox.MMDFMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>R flag</p></td>\n<td><p>R flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>O flag</p></td>\n<td><p>O flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>D flag</p></td>\n<td><p>D flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>F flag</p></td>\n<td><p>F flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>A flag</p></td>\n<td><p>A flag</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<section id=\"mhmessage-objects\">\n<span id=\"mailbox-mhmessage\"></span><h3><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code> objects<a class=\"headerlink\" href=\"#mhmessage-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MHMessage\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">MHMessage</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">message</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MHMessage\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A message with MH-specific behaviors. Parameter <em>message</em> has the same meaning\nas with the <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> constructor.</p>\n<p>MH messages do not support marks or flags in the traditional sense, but they\ndo support sequences, which are logical groupings of arbitrary messages. Some\nmail reading programs (although not the standard <strong class=\"program\">mh</strong> and\n<strong class=\"program\">nmh</strong>) use sequences in much the same way flags are used with other\nformats, as follows:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Sequence</p></th>\n<th class=\"head\"><p>Explanation</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>unseen</p></td>\n<td><p>Not read, but previously detected by MUA</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>replied</p></td>\n<td><p>Replied to</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>flagged</p></td>\n<td><p>Marked as important</p></td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code> instances offer the following methods:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MHMessage.get_sequences\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_sequences</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MHMessage.get_sequences\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a list of the names of sequences that include this message.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MHMessage.set_sequences\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_sequences</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sequences</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MHMessage.set_sequences\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the list of sequences that include this message.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MHMessage.add_sequence\">\n<span class=\"sig-name descname\"><span class=\"pre\">add_sequence</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sequence</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MHMessage.add_sequence\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Add <em>sequence</em> to the list of sequences that include this message.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MHMessage.remove_sequence\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove_sequence</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sequence</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MHMessage.remove_sequence\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Remove <em>sequence</em> from the list of sequences that include this message.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>When an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code> instance is created based upon a\n<a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> instance, the following conversions take place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>“unseen” sequence</p></td>\n<td><p>no S flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>“replied” sequence</p></td>\n<td><p>R flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>“flagged” sequence</p></td>\n<td><p>F flag</p></td>\n</tr>\n</tbody>\n</table>\n<p>When an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code> instance is created based upon an\n<a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> or <a class=\"reference internal\" href=\"#mailbox.MMDFMessage\" title=\"mailbox.MMDFMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code></a> instance, the <em class=\"mailheader\">Status</em>\nand <em class=\"mailheader\">X-Status</em> headers are omitted and the following conversions\ntake place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> or <a class=\"reference internal\" href=\"#mailbox.MMDFMessage\" title=\"mailbox.MMDFMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code></a>\nstate</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>“unseen” sequence</p></td>\n<td><p>no R flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>“replied” sequence</p></td>\n<td><p>A flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>“flagged” sequence</p></td>\n<td><p>F flag</p></td>\n</tr>\n</tbody>\n</table>\n<p>When an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code> instance is created based upon a\n<a class=\"reference internal\" href=\"#mailbox.BabylMessage\" title=\"mailbox.BabylMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code></a> instance, the following conversions take place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.BabylMessage\" title=\"mailbox.BabylMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>“unseen” sequence</p></td>\n<td><p>“unseen” label</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>“replied” sequence</p></td>\n<td><p>“answered” label</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<section id=\"babylmessage-objects\">\n<span id=\"mailbox-babylmessage\"></span><h3><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code> objects<a class=\"headerlink\" href=\"#babylmessage-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.BabylMessage\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">BabylMessage</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">message</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.BabylMessage\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A message with Babyl-specific behaviors. Parameter <em>message</em> has the same\nmeaning as with the <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> constructor.</p>\n<p>Certain message labels, called <em class=\"dfn\">attributes</em>, are defined by convention\nto have special meanings. The attributes are as follows:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Label</p></th>\n<th class=\"head\"><p>Explanation</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>unseen</p></td>\n<td><p>Not read, but previously detected by MUA</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>deleted</p></td>\n<td><p>Marked for subsequent deletion</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>filed</p></td>\n<td><p>Copied to another file or mailbox</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>answered</p></td>\n<td><p>Replied to</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>forwarded</p></td>\n<td><p>Forwarded</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>edited</p></td>\n<td><p>Modified by the user</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>resent</p></td>\n<td><p>Resent</p></td>\n</tr>\n</tbody>\n</table>\n<p>By default, Rmail displays only visible headers. The <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code>\nclass, though, uses the original headers because they are more\ncomplete. Visible headers may be accessed explicitly if desired.</p>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code> instances offer the following methods:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.BabylMessage.get_labels\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_labels</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.BabylMessage.get_labels\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a list of labels on the message.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.BabylMessage.set_labels\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_labels</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">labels</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.BabylMessage.set_labels\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the list of labels on the message to <em>labels</em>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.BabylMessage.add_label\">\n<span class=\"sig-name descname\"><span class=\"pre\">add_label</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">label</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.BabylMessage.add_label\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Add <em>label</em> to the list of labels on the message.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.BabylMessage.remove_label\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove_label</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">label</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.BabylMessage.remove_label\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Remove <em>label</em> from the list of labels on the message.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.BabylMessage.get_visible\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_visible</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.BabylMessage.get_visible\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> instance whose headers are the message’s\nvisible headers and whose body is empty.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.BabylMessage.set_visible\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_visible</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">visible</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.BabylMessage.set_visible\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the message’s visible headers to be the same as the headers in\n<em>message</em>.  Parameter <em>visible</em> should be a <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> instance, an\n<a class=\"reference internal\" href=\"email.compat32-message.html#email.message.Message\" title=\"email.message.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">email.message.Message</span></code></a> instance, a string, or a file-like object\n(which should be open in text mode).</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.BabylMessage.update_visible\">\n<span class=\"sig-name descname\"><span class=\"pre\">update_visible</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.BabylMessage.update_visible\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>When a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code> instance’s original headers are modified, the\nvisible headers are not automatically modified to correspond. This method\nupdates the visible headers as follows: each visible header with a\ncorresponding original header is set to the value of the original header,\neach visible header without a corresponding original header is removed,\nand any of <em class=\"mailheader\">Date</em>, <em class=\"mailheader\">From</em>, <em class=\"mailheader\">Reply-To</em>,\n<em class=\"mailheader\">To</em>, <em class=\"mailheader\">CC</em>, and <em class=\"mailheader\">Subject</em> that are\npresent in the original headers but not the visible headers are added to\nthe visible headers.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>When a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code> instance is created based upon a\n<a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> instance, the following conversions take place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>“unseen” label</p></td>\n<td><p>no S flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>“deleted” label</p></td>\n<td><p>T flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>“answered” label</p></td>\n<td><p>R flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>“forwarded” label</p></td>\n<td><p>P flag</p></td>\n</tr>\n</tbody>\n</table>\n<p>When a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code> instance is created based upon an\n<a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> or <a class=\"reference internal\" href=\"#mailbox.MMDFMessage\" title=\"mailbox.MMDFMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code></a> instance, the <em class=\"mailheader\">Status</em>\nand <em class=\"mailheader\">X-Status</em> headers are omitted and the following conversions\ntake place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> or <a class=\"reference internal\" href=\"#mailbox.MMDFMessage\" title=\"mailbox.MMDFMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code></a>\nstate</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>“unseen” label</p></td>\n<td><p>no R flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>“deleted” label</p></td>\n<td><p>D flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>“answered” label</p></td>\n<td><p>A flag</p></td>\n</tr>\n</tbody>\n</table>\n<p>When a <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code> instance is created based upon an\n<a class=\"reference internal\" href=\"#mailbox.MHMessage\" title=\"mailbox.MHMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code></a> instance, the following conversions take place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.MHMessage\" title=\"mailbox.MHMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>“unseen” label</p></td>\n<td><p>“unseen” sequence</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>“answered” label</p></td>\n<td><p>“replied” sequence</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<section id=\"mmdfmessage-objects\">\n<span id=\"mailbox-mmdfmessage\"></span><h3><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code> objects<a class=\"headerlink\" href=\"#mmdfmessage-objects\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDFMessage\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">MMDFMessage</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">message</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDFMessage\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A message with MMDF-specific behaviors. Parameter <em>message</em> has the same meaning\nas with the <a class=\"reference internal\" href=\"#mailbox.Message\" title=\"mailbox.Message\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code></a> constructor.</p>\n<p>As with message in an mbox mailbox, MMDF messages are stored with the\nsender’s address and the delivery date in an initial line beginning with\n“From “.  Likewise, flags that indicate the state of the message are\ntypically stored in <em class=\"mailheader\">Status</em> and <em class=\"mailheader\">X-Status</em> headers.</p>\n<p>Conventional flags for MMDF messages are identical to those of mbox message\nand are as follows:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Flag</p></th>\n<th class=\"head\"><p>Meaning</p></th>\n<th class=\"head\"><p>Explanation</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>R</p></td>\n<td><p>Read</p></td>\n<td><p>Read</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>O</p></td>\n<td><p>Old</p></td>\n<td><p>Previously detected by MUA</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>D</p></td>\n<td><p>Deleted</p></td>\n<td><p>Marked for subsequent deletion</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>F</p></td>\n<td><p>Flagged</p></td>\n<td><p>Marked as important</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>A</p></td>\n<td><p>Answered</p></td>\n<td><p>Replied to</p></td>\n</tr>\n</tbody>\n</table>\n<p>The “R” and “O” flags are stored in the <em class=\"mailheader\">Status</em> header, and the\n“D”, “F”, and “A” flags are stored in the <em class=\"mailheader\">X-Status</em> header. The\nflags and headers typically appear in the order mentioned.</p>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code> instances offer the following methods, which are\nidentical to those offered by <a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a>:</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDFMessage.get_from\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_from</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDFMessage.get_from\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a string representing the “From “ line that marks the start of the\nmessage in an mbox mailbox. The leading “From “ and the trailing newline\nare excluded.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDFMessage.set_from\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_from</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">from_</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">time_</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDFMessage.set_from\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the “From “ line to <em>from_</em>, which should be specified without a\nleading “From “ or trailing newline. For convenience, <em>time_</em> may be\nspecified and will be formatted appropriately and appended to <em>from_</em>. If\n<em>time_</em> is specified, it should be a <a class=\"reference internal\" href=\"time.html#time.struct_time\" title=\"time.struct_time\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">time.struct_time</span></code></a> instance, a\ntuple suitable for passing to <a class=\"reference internal\" href=\"time.html#time.strftime\" title=\"time.strftime\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">time.strftime()</span></code></a>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> (to use\n<a class=\"reference internal\" href=\"time.html#time.gmtime\" title=\"time.gmtime\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">time.gmtime()</span></code></a>).</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDFMessage.get_flags\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_flags</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDFMessage.get_flags\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a string specifying the flags that are currently set. If the\nmessage complies with the conventional format, the result is the\nconcatenation in the following order of zero or one occurrence of each of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'R'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'O'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'D'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'F'</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">'A'</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDFMessage.set_flags\">\n<span class=\"sig-name descname\"><span class=\"pre\">set_flags</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flags</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDFMessage.set_flags\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the flags specified by <em>flags</em> and unset all others. Parameter <em>flags</em>\nshould be the concatenation in any order of zero or more occurrences of\neach of <code class=\"docutils literal notranslate\"><span class=\"pre\">'R'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'O'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'D'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'F'</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">'A'</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDFMessage.add_flag\">\n<span class=\"sig-name descname\"><span class=\"pre\">add_flag</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flag</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDFMessage.add_flag\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the flag(s) specified by <em>flag</em> without changing other flags. To add\nmore than one flag at a time, <em>flag</em> may be a string of more than one\ncharacter.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"mailbox.MMDFMessage.remove_flag\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove_flag</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flag</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#mailbox.MMDFMessage.remove_flag\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Unset the flag(s) specified by <em>flag</em> without changing other flags. To\nremove more than one flag at a time, <em>flag</em> maybe a string of more than\none character.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>When an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code> instance is created based upon a\n<a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> instance, a “From “ line is generated based upon the\n<a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> instance’s delivery date, and the following conversions\ntake place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.MaildirMessage\" title=\"mailbox.MaildirMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>R flag</p></td>\n<td><p>S flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>O flag</p></td>\n<td><p>“cur” subdirectory</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>D flag</p></td>\n<td><p>T flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>F flag</p></td>\n<td><p>F flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>A flag</p></td>\n<td><p>R flag</p></td>\n</tr>\n</tbody>\n</table>\n<p>When an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code> instance is created based upon an\n<a class=\"reference internal\" href=\"#mailbox.MHMessage\" title=\"mailbox.MHMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code></a> instance, the following conversions take place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.MHMessage\" title=\"mailbox.MHMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>R flag and O flag</p></td>\n<td><p>no “unseen” sequence</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>O flag</p></td>\n<td><p>“unseen” sequence</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>F flag</p></td>\n<td><p>“flagged” sequence</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>A flag</p></td>\n<td><p>“replied” sequence</p></td>\n</tr>\n</tbody>\n</table>\n<p>When an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code> instance is created based upon a\n<a class=\"reference internal\" href=\"#mailbox.BabylMessage\" title=\"mailbox.BabylMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code></a> instance, the following conversions take place:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.BabylMessage\" title=\"mailbox.BabylMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>R flag and O flag</p></td>\n<td><p>no “unseen” label</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>O flag</p></td>\n<td><p>“unseen” label</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>D flag</p></td>\n<td><p>“deleted” label</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>A flag</p></td>\n<td><p>“answered” label</p></td>\n</tr>\n</tbody>\n</table>\n<p>When an <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code> instance is created based upon an\n<a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> instance, the “From “ line is copied and all flags directly\ncorrespond:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Resulting state</p></th>\n<th class=\"head\"><p><a class=\"reference internal\" href=\"#mailbox.mboxMessage\" title=\"mailbox.mboxMessage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code></a> state</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>R flag</p></td>\n<td><p>R flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>O flag</p></td>\n<td><p>O flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>D flag</p></td>\n<td><p>D flag</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>F flag</p></td>\n<td><p>F flag</p></td>\n</tr>\n<tr class=\"row-even\"><td><p>A flag</p></td>\n<td><p>A flag</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n</section>\n<section id=\"exceptions\">\n<h2>Exceptions<a class=\"headerlink\" href=\"#exceptions\" title=\"Link to this heading\">¶</a></h2>\n<p>The following exception classes are defined in the <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">mailbox</span></code> module:</p>\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"mailbox.Error\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Error</span></span><a class=\"headerlink\" href=\"#mailbox.Error\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The based class for all other module-specific exceptions.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"mailbox.NoSuchMailboxError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">NoSuchMailboxError</span></span><a class=\"headerlink\" href=\"#mailbox.NoSuchMailboxError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Raised when a mailbox is expected but is not found, such as when instantiating a\n<a class=\"reference internal\" href=\"#mailbox.Mailbox\" title=\"mailbox.Mailbox\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code></a> subclass with a path that does not exist (and with the <em>create</em>\nparameter set to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>), or when opening a folder that does not exist.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"mailbox.NotEmptyError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">NotEmptyError</span></span><a class=\"headerlink\" href=\"#mailbox.NotEmptyError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Raised when a mailbox is not empty but is expected to be, such as when deleting\na folder that contains messages.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"mailbox.ExternalClashError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">ExternalClashError</span></span><a class=\"headerlink\" href=\"#mailbox.ExternalClashError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Raised when some mailbox-related condition beyond the control of the program\ncauses it to be unable to proceed, such as when failing to acquire a lock that\nanother program already holds a lock, or when a uniquely generated file name\nalready exists.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"mailbox.FormatError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">mailbox.</span></span><span class=\"sig-name descname\"><span class=\"pre\">FormatError</span></span><a class=\"headerlink\" href=\"#mailbox.FormatError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Raised when the data in a file cannot be parsed, such as when an <a class=\"reference internal\" href=\"#mailbox.MH\" title=\"mailbox.MH\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MH</span></code></a>\ninstance attempts to read a corrupted <code class=\"file docutils literal notranslate\"><span class=\"pre\">.mh_sequences</span></code> file.</p>\n</dd></dl>\n\n</section>\n<section id=\"examples\">\n<span id=\"mailbox-examples\"></span><h2>Examples<a class=\"headerlink\" href=\"#examples\" title=\"Link to this heading\">¶</a></h2>\n<p>A simple example of printing the subjects of all messages in a mailbox that seem\ninteresting:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">mailbox</span>\n<span class=\"k\">for</span> <span class=\"n\">message</span> <span class=\"ow\">in</span> <span class=\"n\">mailbox</span><span class=\"o\">.</span><span class=\"n\">mbox</span><span class=\"p\">(</span><span class=\"s1\">&#39;~/mbox&#39;</span><span class=\"p\">):</span>\n    <span class=\"n\">subject</span> <span class=\"o\">=</span> <span class=\"n\">message</span><span class=\"p\">[</span><span class=\"s1\">&#39;subject&#39;</span><span class=\"p\">]</span>       <span class=\"c1\"># Could possibly be None.</span>\n    <span class=\"k\">if</span> <span class=\"n\">subject</span> <span class=\"ow\">and</span> <span class=\"s1\">&#39;python&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">subject</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">():</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">subject</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>To copy all mail from a Babyl mailbox to an MH mailbox, converting all of the\nformat-specific information that can be converted:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">mailbox</span>\n<span class=\"n\">destination</span> <span class=\"o\">=</span> <span class=\"n\">mailbox</span><span class=\"o\">.</span><span class=\"n\">MH</span><span class=\"p\">(</span><span class=\"s1\">&#39;~/Mail&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">destination</span><span class=\"o\">.</span><span class=\"n\">lock</span><span class=\"p\">()</span>\n<span class=\"k\">for</span> <span class=\"n\">message</span> <span class=\"ow\">in</span> <span class=\"n\">mailbox</span><span class=\"o\">.</span><span class=\"n\">Babyl</span><span class=\"p\">(</span><span class=\"s1\">&#39;~/RMAIL&#39;</span><span class=\"p\">):</span>\n    <span class=\"n\">destination</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">mailbox</span><span class=\"o\">.</span><span class=\"n\">MHMessage</span><span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">))</span>\n<span class=\"n\">destination</span><span class=\"o\">.</span><span class=\"n\">flush</span><span class=\"p\">()</span>\n<span class=\"n\">destination</span><span class=\"o\">.</span><span class=\"n\">unlock</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>This example sorts mail from several mailing lists into different mailboxes,\nbeing careful to avoid mail corruption due to concurrent modification by other\nprograms, mail loss due to interruption of the program, or premature termination\ndue to malformed messages in the mailbox:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">mailbox</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">email.errors</span>\n\n<span class=\"n\">list_names</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">&#39;python-list&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;python-dev&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;python-bugs&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">boxes</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"n\">mailbox</span><span class=\"o\">.</span><span class=\"n\">mbox</span><span class=\"p\">(</span><span class=\"s1\">&#39;~/email/</span><span class=\"si\">%s</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">name</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">name</span> <span class=\"ow\">in</span> <span class=\"n\">list_names</span><span class=\"p\">}</span>\n<span class=\"n\">inbox</span> <span class=\"o\">=</span> <span class=\"n\">mailbox</span><span class=\"o\">.</span><span class=\"n\">Maildir</span><span class=\"p\">(</span><span class=\"s1\">&#39;~/Maildir&#39;</span><span class=\"p\">,</span> <span class=\"n\">factory</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">)</span>\n\n<span class=\"k\">for</span> <span class=\"n\">key</span> <span class=\"ow\">in</span> <span class=\"n\">inbox</span><span class=\"o\">.</span><span class=\"n\">iterkeys</span><span class=\"p\">():</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"n\">message</span> <span class=\"o\">=</span> <span class=\"n\">inbox</span><span class=\"p\">[</span><span class=\"n\">key</span><span class=\"p\">]</span>\n    <span class=\"k\">except</span> <span class=\"n\">email</span><span class=\"o\">.</span><span class=\"n\">errors</span><span class=\"o\">.</span><span class=\"n\">MessageParseError</span><span class=\"p\">:</span>\n        <span class=\"k\">continue</span>                <span class=\"c1\"># The message is malformed. Just leave it.</span>\n\n    <span class=\"k\">for</span> <span class=\"n\">name</span> <span class=\"ow\">in</span> <span class=\"n\">list_names</span><span class=\"p\">:</span>\n        <span class=\"n\">list_id</span> <span class=\"o\">=</span> <span class=\"n\">message</span><span class=\"p\">[</span><span class=\"s1\">&#39;list-id&#39;</span><span class=\"p\">]</span>\n        <span class=\"k\">if</span> <span class=\"n\">list_id</span> <span class=\"ow\">and</span> <span class=\"n\">name</span> <span class=\"ow\">in</span> <span class=\"n\">list_id</span><span class=\"p\">:</span>\n            <span class=\"c1\"># Get mailbox to use</span>\n            <span class=\"n\">box</span> <span class=\"o\">=</span> <span class=\"n\">boxes</span><span class=\"p\">[</span><span class=\"n\">name</span><span class=\"p\">]</span>\n\n            <span class=\"c1\"># Write copy to disk before removing original.</span>\n            <span class=\"c1\"># If there&#39;s a crash, you might duplicate a message, but</span>\n            <span class=\"c1\"># that&#39;s better than losing a message completely.</span>\n            <span class=\"n\">box</span><span class=\"o\">.</span><span class=\"n\">lock</span><span class=\"p\">()</span>\n            <span class=\"n\">box</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">)</span>\n            <span class=\"n\">box</span><span class=\"o\">.</span><span class=\"n\">flush</span><span class=\"p\">()</span>\n            <span class=\"n\">box</span><span class=\"o\">.</span><span class=\"n\">unlock</span><span class=\"p\">()</span>\n\n            <span class=\"c1\"># Remove original message</span>\n            <span class=\"n\">inbox</span><span class=\"o\">.</span><span class=\"n\">lock</span><span class=\"p\">()</span>\n            <span class=\"n\">inbox</span><span class=\"o\">.</span><span class=\"n\">discard</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">)</span>\n            <span class=\"n\">inbox</span><span class=\"o\">.</span><span class=\"n\">flush</span><span class=\"p\">()</span>\n            <span class=\"n\">inbox</span><span class=\"o\">.</span><span class=\"n\">unlock</span><span class=\"p\">()</span>\n            <span class=\"k\">break</span>               <span class=\"c1\"># Found destination, so stop looking.</span>\n\n<span class=\"k\">for</span> <span class=\"n\">box</span> <span class=\"ow\">in</span> <span class=\"n\">boxes</span><span class=\"o\">.</span><span class=\"n\">itervalues</span><span class=\"p\">():</span>\n    <span class=\"n\">box</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n</section>\n\n\n            <div class=\"clearer\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"Main\">\n        <div class=\"sphinxsidebarwrapper\">\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">mailbox</span></code> — Manipulate mailboxes in various formats</a><ul>\n<li><a class=\"reference internal\" href=\"#mailbox-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Mailbox</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#maildir-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Maildir</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mbox-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mbox</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mh-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MH</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#babyl-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Babyl</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mmdf-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDF</span></code> objects</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#message-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Message</span></code> objects</a><ul>\n<li><a class=\"reference internal\" href=\"#maildirmessage-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MaildirMessage</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mboxmessage-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">mboxMessage</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mhmessage-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MHMessage</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#babylmessage-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BabylMessage</span></code> objects</a></li>\n<li><a class=\"reference internal\" href=\"#mmdfmessage-objects\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MMDFMessage</span></code> objects</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#exceptions\">Exceptions</a></li>\n<li><a class=\"reference internal\" href=\"#examples\">Examples</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"json.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">json</span></code> — JSON encoder and decoder</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"mimetypes.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">mimetypes</span></code> — Map filenames to MIME types</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/mailbox.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </div>\n<div id=\"sidebarbutton\" title=\"Collapse sidebar\">\n<span>«</span>\n</div>\n\n      </div>\n      <div class=\"clearer\"></div>\n    </div>  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             >index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"mimetypes.html\" title=\"mimetypes — Map filenames to MIME types\"\n             >next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"json.html\" title=\"json — JSON encoder and decoder\"\n             >previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"netdata.html\" >Internet Data Handling</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">mailbox</span></code> — Manipulate mailboxes in various formats</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>  \n    <div class=\"footer\">\n    &copy; <a href=\"../copyright.html\">Copyright</a> 2001 Python Software Foundation.\n    <br>\n    This page is licensed under the Python Software Foundation License Version 2.\n    <br>\n    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.\n    <br>\n    \n      See <a href=\"/license.html\">History and License</a> for more information.<br>\n    \n    \n    <br>\n\n    The Python Software Foundation is a non-profit corporation.\n<a href=\"https://www.python.org/psf/donations/\">Please donate.</a>\n<br>\n    <br>\n      Last updated on Nov 25, 2025 (18:01 UTC).\n    \n      <a href=\"/bugs.html\">Found a bug</a>?\n    \n    <br>\n\n    Created using <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> 8.2.3.\n    </div>\n\n    <script type=\"text/javascript\" src=\"../_static/switchers.js\"></script>\n  </body>\n</html>",
  "metadata": {
    "title": "mailbox — Manipulate mailboxes in various formats — Python 3.14.0 documentation",
    "meta_description": "Source code: Lib/mailbox.py This module defines two classes, Mailbox and Message, for accessing and manipulating on-disk mailboxes and the messages they contain. Mailbox offers a dictionary-like ma...",
    "h1": "— Manipulate mailboxes in various formats"
  },
  "request_headers": {
    "Referer": "https://docs.python.org/3/library/",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
    "Accept-Language": "en",
    "User-Agent": "DumbCrawler/1.0",
    "Accept-Encoding": "gzip, deflate"
  },
  "response_headers": {
    "Content-Length": "22772",
    "Server": "nginx",
    "Content-Type": "text/html",
    "Last-Modified": "Tue, 25 Nov 2025 18:03:26 GMT",
    "Etag": "\"6925ef6e-2f313\"",
    "X-Clacks-Overhead": "GNU Terry Pratchett",
    "Strict-Transport-Security": "max-age=315360000; includeSubDomains; preload",
    "Via": "1.1 varnish, 1.1 varnish",
    "Accept-Ranges": "bytes",
    "Age": "3985",
    "Date": "Wed, 26 Nov 2025 05:32:32 GMT",
    "X-Served-By": "cache-lga21978-LGA, cache-yul1970022-YUL",
    "X-Cache": "HIT, HIT",
    "X-Cache-Hits": "284, 0",
    "X-Timer": "S1764135153.716194,VS0,VE1",
    "Vary": "Accept-Encoding"
  },
  "crawled_at": "2025-11-26T05:32:33.400600+00:00",
  "crawler": {
    "name": "DumbCrawler",
    "version": "1.0",
    "mode": "crawl",
    "js_mode": "off",
    "scope": "subfolder"
  }
}