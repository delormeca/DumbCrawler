{
  "url": "https://docs.python.org/3/library/devmode.html",
  "status_code": 200,
  "depth": 1,
  "referrer": "https://docs.python.org/3/library/",
  "raw_html": "<!DOCTYPE html>\n\n<html lang=\"en\" data-content_root=\"../\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<meta property=\"og:title\" content=\"Python Development Mode\" />\n<meta property=\"og:type\" content=\"website\" />\n<meta property=\"og:url\" content=\"https://docs.python.org/3/library/devmode.html\" />\n<meta property=\"og:site_name\" content=\"Python documentation\" />\n<meta property=\"og:description\" content=\"The Python Development Mode introduces additional runtime checks that are too expensive to be enabled by default. It should not be more verbose than the default if the code is correct; new warnings...\" />\n<meta property=\"og:image:width\" content=\"1146\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://docs.python.org/3.14/_images/social_previews/summary_library_devmode_3f96727c.png\" />\n<meta property=\"og:image:alt\" content=\"The Python Development Mode introduces additional runtime checks that are too expensive to be enabled by default. It should not be more verbose than the default if the code is correct; new warnings...\" />\n<meta name=\"description\" content=\"The Python Development Mode introduces additional runtime checks that are too expensive to be enabled by default. It should not be more verbose than the default if the code is correct; new warnings...\" />\n<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"theme-color\" content=\"#3776ab\">\n\n    <title>Python Development Mode &#8212; Python 3.14.0 documentation</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments.css?v=b86133f3\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/classic.css?v=234b1a7c\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pydoctheme.css?v=8cd84f99\" />\n    <link id=\"pygments_dark_css\" media=\"(prefers-color-scheme: dark)\" rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments_dark.css?v=5349f25f\" />\n    \n    <script src=\"../_static/documentation_options.js?v=e4f4b189\"></script>\n    <script src=\"../_static/doctools.js?v=9bcbadda\"></script>\n    <script src=\"../_static/sphinx_highlight.js?v=dc90522c\"></script>\n    \n    <script src=\"../_static/sidebar.js\"></script>\n    \n    <link rel=\"search\" type=\"application/opensearchdescription+xml\"\n          title=\"Search within Python 3.14.0 documentation\"\n          href=\"../_static/opensearch.xml\"/>\n    <link rel=\"author\" title=\"About these documents\" href=\"../about.html\" />\n    <link rel=\"index\" title=\"Index\" href=\"../genindex.html\" />\n    <link rel=\"search\" title=\"Search\" href=\"../search.html\" />\n    <link rel=\"copyright\" title=\"Copyright\" href=\"../copyright.html\" />\n    <link rel=\"next\" title=\"doctest — Test interactive Python examples\" href=\"doctest.html\" />\n    <link rel=\"prev\" title=\"pydoc — Documentation generator and online help system\" href=\"pydoc.html\" />\n    \n      \n      <script defer file-types=\"bz2,epub,zip\" data-domain=\"docs.python.org\" src=\"https://analytics.python.org/js/script.file-downloads.outbound-links.js\"></script>\n      \n      <link rel=\"canonical\" href=\"https://docs.python.org/3/library/devmode.html\">\n      \n    \n\n    \n    <style>\n      @media only screen {\n        table.full-width-table {\n            width: 100%;\n        }\n      }\n    </style>\n<link rel=\"stylesheet\" href=\"../_static/pydoctheme_dark.css\" media=\"(prefers-color-scheme: dark)\" id=\"pydoctheme_dark_css\">\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"../_static/py.svg\">\n            <script type=\"text/javascript\" src=\"../_static/copybutton.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/menu.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/search-focus.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/themetoggle.js\"></script> \n            <script type=\"text/javascript\" src=\"../_static/rtd_switcher.js\"></script>\n            <meta name=\"readthedocs-addons-api-version\" content=\"1\">\n\n  </head>\n<body>\n<div class=\"mobile-nav\">\n    <input type=\"checkbox\" id=\"menuToggler\" class=\"toggler__input\" aria-controls=\"navigation\"\n           aria-pressed=\"false\" aria-expanded=\"false\" role=\"button\" aria-label=\"Menu\">\n    <nav class=\"nav-content\" role=\"navigation\">\n        <label for=\"menuToggler\" class=\"toggler__label\">\n            <span></span>\n        </label>\n        <span class=\"nav-items-wrapper\">\n            <a href=\"https://www.python.org/\" class=\"nav-logo\">\n                <img src=\"../_static/py.svg\" alt=\"Python logo\">\n            </a>\n            <span class=\"version_switcher_placeholder\"></span>\n            <form role=\"search\" class=\"search\" action=\"../search.html\" method=\"get\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" class=\"search-icon\">\n                    <path fill-rule=\"nonzero\" fill=\"currentColor\" d=\"M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n                </svg>\n                <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\">\n                <input type=\"submit\" value=\"Go\">\n            </form>\n        </span>\n    </nav>\n    <div class=\"menu-wrapper\">\n        <nav class=\"menu\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"language_switcher_placeholder\"></div>\n            \n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label>\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\">Python Development Mode</a><ul>\n<li><a class=\"reference internal\" href=\"#effects-of-the-python-development-mode\">Effects of the Python Development Mode</a></li>\n<li><a class=\"reference internal\" href=\"#resourcewarning-example\">ResourceWarning Example</a></li>\n<li><a class=\"reference internal\" href=\"#bad-file-descriptor-error-example\">Bad file descriptor error example</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"pydoc.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">pydoc</span></code> — Documentation generator and online help system</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"doctest.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">doctest</span></code> — Test interactive Python examples</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/devmode.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </nav>\n    </div>\n</div>\n\n  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             accesskey=\"I\">index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"doctest.html\" title=\"doctest — Test interactive Python examples\"\n             accesskey=\"N\">next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"pydoc.html\" title=\"pydoc — Documentation generator and online help system\"\n             accesskey=\"P\">previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"development.html\" accesskey=\"U\">Development Tools</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\">Python Development Mode</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>    \n\n    <div class=\"document\">\n      <div class=\"documentwrapper\">\n        <div class=\"bodywrapper\">\n          <div class=\"body\" role=\"main\">\n            \n  <section id=\"python-development-mode\">\n<span id=\"devmode\"></span><h1>Python Development Mode<a class=\"headerlink\" href=\"#python-development-mode\" title=\"Link to this heading\">¶</a></h1>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.7.</span></p>\n</div>\n<p>The Python Development Mode introduces additional runtime checks that are too\nexpensive to be enabled by default. It should not be more verbose than the\ndefault if the code is correct; new warnings are only emitted when an issue is\ndetected.</p>\n<p>It can be enabled using the <a class=\"reference internal\" href=\"../using/cmdline.html#cmdoption-X\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">-X</span> <span class=\"pre\">dev</span></code></a> command line option or by\nsetting the <span class=\"target\" id=\"index-0\"></span><a class=\"reference internal\" href=\"../using/cmdline.html#envvar-PYTHONDEVMODE\"><code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">PYTHONDEVMODE</span></code></a> environment variable to <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>.</p>\n<p>See also <a class=\"reference internal\" href=\"../using/configure.html#debug-build\"><span class=\"std std-ref\">Python debug build</span></a>.</p>\n<section id=\"effects-of-the-python-development-mode\">\n<h2>Effects of the Python Development Mode<a class=\"headerlink\" href=\"#effects-of-the-python-development-mode\" title=\"Link to this heading\">¶</a></h2>\n<p>Enabling the Python Development Mode is similar to the following command, but\nwith additional effects described below:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">PYTHONMALLOC</span><span class=\"o\">=</span><span class=\"n\">debug</span> <span class=\"n\">PYTHONASYNCIODEBUG</span><span class=\"o\">=</span><span class=\"mi\">1</span> <span class=\"n\">python</span> <span class=\"o\">-</span><span class=\"n\">W</span> <span class=\"n\">default</span> <span class=\"o\">-</span><span class=\"n\">X</span> <span class=\"n\">faulthandler</span>\n</pre></div>\n</div>\n<p>Effects of the Python Development Mode:</p>\n<ul>\n<li><p>Add <code class=\"docutils literal notranslate\"><span class=\"pre\">default</span></code> <a class=\"reference internal\" href=\"warnings.html#describing-warning-filters\"><span class=\"std std-ref\">warning filter</span></a>. The\nfollowing warnings are shown:</p>\n<ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"exceptions.html#DeprecationWarning\" title=\"DeprecationWarning\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">DeprecationWarning</span></code></a></p></li>\n<li><p><a class=\"reference internal\" href=\"exceptions.html#ImportWarning\" title=\"ImportWarning\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ImportWarning</span></code></a></p></li>\n<li><p><a class=\"reference internal\" href=\"exceptions.html#PendingDeprecationWarning\" title=\"PendingDeprecationWarning\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">PendingDeprecationWarning</span></code></a></p></li>\n<li><p><a class=\"reference internal\" href=\"exceptions.html#ResourceWarning\" title=\"ResourceWarning\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ResourceWarning</span></code></a></p></li>\n</ul>\n<p>Normally, the above warnings are filtered by the default <a class=\"reference internal\" href=\"warnings.html#describing-warning-filters\"><span class=\"std std-ref\">warning\nfilters</span></a>.</p>\n<p>It behaves as if the <a class=\"reference internal\" href=\"../using/cmdline.html#cmdoption-W\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">-W</span> <span class=\"pre\">default</span></code></a> command line option is used.</p>\n<p>Use the <a class=\"reference internal\" href=\"../using/cmdline.html#cmdoption-W\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">-W</span> <span class=\"pre\">error</span></code></a> command line option or set the\n<span class=\"target\" id=\"index-1\"></span><a class=\"reference internal\" href=\"../using/cmdline.html#envvar-PYTHONWARNINGS\"><code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">PYTHONWARNINGS</span></code></a> environment variable to <code class=\"docutils literal notranslate\"><span class=\"pre\">error</span></code> to treat warnings\nas errors.</p>\n</li>\n<li><p>Install debug hooks on memory allocators to check for:</p>\n<ul class=\"simple\">\n<li><p>Buffer underflow</p></li>\n<li><p>Buffer overflow</p></li>\n<li><p>Memory allocator API violation</p></li>\n<li><p>Unsafe usage of the GIL</p></li>\n</ul>\n<p>See the <a class=\"reference internal\" href=\"../c-api/memory.html#c.PyMem_SetupDebugHooks\" title=\"PyMem_SetupDebugHooks\"><code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">PyMem_SetupDebugHooks()</span></code></a> C function.</p>\n<p>It behaves as if the <span class=\"target\" id=\"index-2\"></span><a class=\"reference internal\" href=\"../using/cmdline.html#envvar-PYTHONMALLOC\"><code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">PYTHONMALLOC</span></code></a> environment variable is set to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">debug</span></code>.</p>\n<p>To enable the Python Development Mode without installing debug hooks on\nmemory allocators, set the <span class=\"target\" id=\"index-3\"></span><a class=\"reference internal\" href=\"../using/cmdline.html#envvar-PYTHONMALLOC\"><code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">PYTHONMALLOC</span></code></a> environment variable to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">default</span></code>.</p>\n</li>\n<li><p>Call <a class=\"reference internal\" href=\"faulthandler.html#faulthandler.enable\" title=\"faulthandler.enable\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">faulthandler.enable()</span></code></a> at Python startup to install handlers for\nthe <a class=\"reference internal\" href=\"signal.html#signal.SIGSEGV\" title=\"signal.SIGSEGV\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SIGSEGV</span></code></a>, <a class=\"reference internal\" href=\"signal.html#signal.SIGFPE\" title=\"signal.SIGFPE\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SIGFPE</span></code></a>,\n<a class=\"reference internal\" href=\"signal.html#signal.SIGABRT\" title=\"signal.SIGABRT\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SIGABRT</span></code></a>, <a class=\"reference internal\" href=\"signal.html#signal.SIGBUS\" title=\"signal.SIGBUS\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SIGBUS</span></code></a> and\n<a class=\"reference internal\" href=\"signal.html#signal.SIGILL\" title=\"signal.SIGILL\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">SIGILL</span></code></a> signals to dump the Python traceback on a crash.</p>\n<p>It behaves as if the <a class=\"reference internal\" href=\"../using/cmdline.html#cmdoption-X\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">-X</span> <span class=\"pre\">faulthandler</span></code></a> command line option is\nused or if the <span class=\"target\" id=\"index-4\"></span><a class=\"reference internal\" href=\"../using/cmdline.html#envvar-PYTHONFAULTHANDLER\"><code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">PYTHONFAULTHANDLER</span></code></a> environment variable is set to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>.</p>\n</li>\n<li><p>Enable <a class=\"reference internal\" href=\"asyncio-dev.html#asyncio-debug-mode\"><span class=\"std std-ref\">asyncio debug mode</span></a>. For example,\n<a class=\"reference internal\" href=\"asyncio.html#module-asyncio\" title=\"asyncio: Asynchronous I/O.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">asyncio</span></code></a> checks for coroutines that were not awaited and logs them.</p>\n<p>It behaves as if the <span class=\"target\" id=\"index-5\"></span><a class=\"reference internal\" href=\"../using/cmdline.html#envvar-PYTHONASYNCIODEBUG\"><code class=\"xref std std-envvar docutils literal notranslate\"><span class=\"pre\">PYTHONASYNCIODEBUG</span></code></a> environment variable is set\nto <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>.</p>\n</li>\n<li><p>Check the <em>encoding</em> and <em>errors</em> arguments for string encoding and decoding\noperations. Examples: <a class=\"reference internal\" href=\"functions.html#open\" title=\"open\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">open()</span></code></a>, <a class=\"reference internal\" href=\"stdtypes.html#str.encode\" title=\"str.encode\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">str.encode()</span></code></a> and\n<a class=\"reference internal\" href=\"stdtypes.html#bytes.decode\" title=\"bytes.decode\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">bytes.decode()</span></code></a>.</p>\n<p>By default, for best performance, the <em>errors</em> argument is only checked at\nthe first encoding/decoding error and the <em>encoding</em> argument is sometimes\nignored for empty strings.</p>\n</li>\n<li><p>The <a class=\"reference internal\" href=\"io.html#io.IOBase\" title=\"io.IOBase\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">io.IOBase</span></code></a> destructor logs <code class=\"docutils literal notranslate\"><span class=\"pre\">close()</span></code> exceptions.</p></li>\n<li><p>Set the <a class=\"reference internal\" href=\"sys.html#sys.flags.dev_mode\" title=\"sys.flags.dev_mode\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">dev_mode</span></code></a> attribute of <a class=\"reference internal\" href=\"sys.html#sys.flags\" title=\"sys.flags\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.flags</span></code></a> to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</p></li>\n</ul>\n<p>The Python Development Mode does not enable the <a class=\"reference internal\" href=\"tracemalloc.html#module-tracemalloc\" title=\"tracemalloc: Trace memory allocations.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracemalloc</span></code></a> module by\ndefault, because the overhead cost (to performance and memory) would be too\nlarge. Enabling the <a class=\"reference internal\" href=\"tracemalloc.html#module-tracemalloc\" title=\"tracemalloc: Trace memory allocations.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracemalloc</span></code></a> module provides additional information\non the origin of some errors. For example, <a class=\"reference internal\" href=\"exceptions.html#ResourceWarning\" title=\"ResourceWarning\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ResourceWarning</span></code></a> logs the\ntraceback where the resource was allocated, and a buffer overflow error logs\nthe traceback where the memory block was allocated.</p>\n<p>The Python Development Mode does not prevent the <a class=\"reference internal\" href=\"../using/cmdline.html#cmdoption-O\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">-O</span></code></a> command line\noption from removing <a class=\"reference internal\" href=\"../reference/simple_stmts.html#assert\"><code class=\"xref std std-keyword docutils literal notranslate\"><span class=\"pre\">assert</span></code></a> statements nor from setting\n<a class=\"reference internal\" href=\"constants.html#debug__\" title=\"__debug__\"><code class=\"xref py py-const docutils literal notranslate\"><span class=\"pre\">__debug__</span></code></a> to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.</p>\n<p>The Python Development Mode can only be enabled at the Python startup. Its\nvalue can be read from <a class=\"reference internal\" href=\"sys.html#sys.flags\" title=\"sys.flags\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.flags.dev_mode</span></code></a>.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.8: </span>The <a class=\"reference internal\" href=\"io.html#io.IOBase\" title=\"io.IOBase\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">io.IOBase</span></code></a> destructor now logs <code class=\"docutils literal notranslate\"><span class=\"pre\">close()</span></code> exceptions.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.9: </span>The <em>encoding</em> and <em>errors</em> arguments are now checked for string encoding\nand decoding operations.</p>\n</div>\n</section>\n<section id=\"resourcewarning-example\">\n<h2>ResourceWarning Example<a class=\"headerlink\" href=\"#resourcewarning-example\" title=\"Link to this heading\">¶</a></h2>\n<p>Example of a script counting the number of lines of the text file specified in\nthe command line:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">sys</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"n\">fp</span> <span class=\"o\">=</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">argv</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n    <span class=\"n\">nlines</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">fp</span><span class=\"o\">.</span><span class=\"n\">readlines</span><span class=\"p\">())</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">nlines</span><span class=\"p\">)</span>\n    <span class=\"c1\"># The file is closed implicitly</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;__main__&quot;</span><span class=\"p\">:</span>\n    <span class=\"n\">main</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>The script does not close the file explicitly. By default, Python does not emit\nany warning. Example using README.txt, which has 269 lines:</p>\n<div class=\"highlight-shell-session notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">$ </span>python<span class=\"w\"> </span>script.py<span class=\"w\"> </span>README.txt\n<span class=\"go\">269</span>\n</pre></div>\n</div>\n<p>Enabling the Python Development Mode displays a <a class=\"reference internal\" href=\"exceptions.html#ResourceWarning\" title=\"ResourceWarning\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ResourceWarning</span></code></a> warning:</p>\n<div class=\"highlight-shell-session notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">$ </span>python<span class=\"w\"> </span>-X<span class=\"w\"> </span>dev<span class=\"w\"> </span>script.py<span class=\"w\"> </span>README.txt\n<span class=\"go\">269</span>\n<span class=\"go\">script.py:10: ResourceWarning: unclosed file &lt;_io.TextIOWrapper name=&#39;README.rst&#39; mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt;</span>\n<span class=\"go\">  main()</span>\n<span class=\"go\">ResourceWarning: Enable tracemalloc to get the object allocation traceback</span>\n</pre></div>\n</div>\n<p>In addition, enabling <a class=\"reference internal\" href=\"tracemalloc.html#module-tracemalloc\" title=\"tracemalloc: Trace memory allocations.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracemalloc</span></code></a> shows the line where the file was\nopened:</p>\n<div class=\"highlight-shell-session notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">$ </span>python<span class=\"w\"> </span>-X<span class=\"w\"> </span>dev<span class=\"w\"> </span>-X<span class=\"w\"> </span><span class=\"nv\">tracemalloc</span><span class=\"o\">=</span><span class=\"m\">5</span><span class=\"w\"> </span>script.py<span class=\"w\"> </span>README.rst\n<span class=\"go\">269</span>\n<span class=\"go\">script.py:10: ResourceWarning: unclosed file &lt;_io.TextIOWrapper name=&#39;README.rst&#39; mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt;</span>\n<span class=\"go\">  main()</span>\n<span class=\"go\">Object allocated at (most recent call last):</span>\n<span class=\"go\">  File &quot;script.py&quot;, lineno 10</span>\n<span class=\"go\">    main()</span>\n<span class=\"go\">  File &quot;script.py&quot;, lineno 4</span>\n<span class=\"go\">    fp = open(sys.argv[1])</span>\n</pre></div>\n</div>\n<p>The fix is to close explicitly the file. Example using a context manager:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"c1\"># Close the file explicitly when exiting the with block</span>\n    <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">argv</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span> <span class=\"k\">as</span> <span class=\"n\">fp</span><span class=\"p\">:</span>\n        <span class=\"n\">nlines</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">fp</span><span class=\"o\">.</span><span class=\"n\">readlines</span><span class=\"p\">())</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">nlines</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Not closing a resource explicitly can leave a resource open for way longer than\nexpected; it can cause severe issues upon exiting Python. It is bad in\nCPython, but it is even worse in PyPy. Closing resources explicitly makes an\napplication more deterministic and more reliable.</p>\n</section>\n<section id=\"bad-file-descriptor-error-example\">\n<h2>Bad file descriptor error example<a class=\"headerlink\" href=\"#bad-file-descriptor-error-example\" title=\"Link to this heading\">¶</a></h2>\n<p>Script displaying the first line of itself:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">os</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"n\">fp</span> <span class=\"o\">=</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"vm\">__file__</span><span class=\"p\">)</span>\n    <span class=\"n\">firstline</span> <span class=\"o\">=</span> <span class=\"n\">fp</span><span class=\"o\">.</span><span class=\"n\">readline</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">firstline</span><span class=\"o\">.</span><span class=\"n\">rstrip</span><span class=\"p\">())</span>\n    <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">(</span><span class=\"n\">fp</span><span class=\"o\">.</span><span class=\"n\">fileno</span><span class=\"p\">())</span>\n    <span class=\"c1\"># The file is closed implicitly</span>\n\n<span class=\"n\">main</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>By default, Python does not emit any warning:</p>\n<div class=\"highlight-shell-session notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">$ </span>python<span class=\"w\"> </span>script.py\n<span class=\"go\">import os</span>\n</pre></div>\n</div>\n<p>The Python Development Mode shows a <a class=\"reference internal\" href=\"exceptions.html#ResourceWarning\" title=\"ResourceWarning\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ResourceWarning</span></code></a> and logs a “Bad file\ndescriptor” error when finalizing the file object:</p>\n<div class=\"highlight-shell-session notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">$ </span>python<span class=\"w\"> </span>-X<span class=\"w\"> </span>dev<span class=\"w\"> </span>script.py\n<span class=\"go\">import os</span>\n<span class=\"go\">script.py:10: ResourceWarning: unclosed file &lt;_io.TextIOWrapper name=&#39;script.py&#39; mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt;</span>\n<span class=\"go\">  main()</span>\n<span class=\"go\">ResourceWarning: Enable tracemalloc to get the object allocation traceback</span>\n<span class=\"go\">Exception ignored in: &lt;_io.TextIOWrapper name=&#39;script.py&#39; mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt;</span>\n<span class=\"go\">Traceback (most recent call last):</span>\n<span class=\"go\">  File &quot;script.py&quot;, line 10, in &lt;module&gt;</span>\n<span class=\"go\">    main()</span>\n<span class=\"go\">OSError: [Errno 9] Bad file descriptor</span>\n</pre></div>\n</div>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">os.close(fp.fileno())</span></code> closes the file descriptor. When the file object\nfinalizer tries to close the file descriptor again, it fails with the <code class=\"docutils literal notranslate\"><span class=\"pre\">Bad</span>\n<span class=\"pre\">file</span> <span class=\"pre\">descriptor</span></code> error. A file descriptor must be closed only once. In the\nworst case scenario, closing it twice can lead to a crash (see <a class=\"reference external\" href=\"https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18748\">bpo-18748</a>\nfor an example).</p>\n<p>The fix is to remove the <code class=\"docutils literal notranslate\"><span class=\"pre\">os.close(fp.fileno())</span></code> line, or open the file with\n<code class=\"docutils literal notranslate\"><span class=\"pre\">closefd=False</span></code>.</p>\n</section>\n</section>\n\n\n            <div class=\"clearer\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"Main\">\n        <div class=\"sphinxsidebarwrapper\">\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\">Python Development Mode</a><ul>\n<li><a class=\"reference internal\" href=\"#effects-of-the-python-development-mode\">Effects of the Python Development Mode</a></li>\n<li><a class=\"reference internal\" href=\"#resourcewarning-example\">ResourceWarning Example</a></li>\n<li><a class=\"reference internal\" href=\"#bad-file-descriptor-error-example\">Bad file descriptor error example</a></li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"pydoc.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">pydoc</span></code> — Documentation generator and online help system</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"doctest.html\"\n                          title=\"next chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">doctest</span></code> — Test interactive Python examples</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/devmode.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </div>\n<div id=\"sidebarbutton\" title=\"Collapse sidebar\">\n<span>«</span>\n</div>\n\n      </div>\n      <div class=\"clearer\"></div>\n    </div>  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             >index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"doctest.html\" title=\"doctest — Test interactive Python examples\"\n             >next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"pydoc.html\" title=\"pydoc — Documentation generator and online help system\"\n             >previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"development.html\" >Development Tools</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\">Python Development Mode</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>  \n    <div class=\"footer\">\n    &copy; <a href=\"../copyright.html\">Copyright</a> 2001 Python Software Foundation.\n    <br>\n    This page is licensed under the Python Software Foundation License Version 2.\n    <br>\n    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.\n    <br>\n    \n      See <a href=\"/license.html\">History and License</a> for more information.<br>\n    \n    \n    <br>\n\n    The Python Software Foundation is a non-profit corporation.\n<a href=\"https://www.python.org/psf/donations/\">Please donate.</a>\n<br>\n    <br>\n      Last updated on Nov 25, 2025 (18:01 UTC).\n    \n      <a href=\"/bugs.html\">Found a bug</a>?\n    \n    <br>\n\n    Created using <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> 8.2.3.\n    </div>\n\n    <script type=\"text/javascript\" src=\"../_static/switchers.js\"></script>\n  </body>\n</html>",
  "metadata": {
    "title": "Python Development Mode — Python 3.14.0 documentation",
    "meta_description": "The Python Development Mode introduces additional runtime checks that are too expensive to be enabled by default. It should not be more verbose than the default if the code is correct; new warnings...",
    "h1": "Python Development Mode"
  },
  "request_headers": {
    "Referer": "https://docs.python.org/3/library/",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
    "Accept-Language": "en",
    "User-Agent": "DumbCrawler/1.0",
    "Accept-Encoding": "gzip, deflate"
  },
  "response_headers": {
    "Content-Length": "6821",
    "Server": "nginx",
    "Content-Type": "text/html",
    "Last-Modified": "Tue, 25 Nov 2025 18:03:26 GMT",
    "Etag": "\"6925ef6e-8fa2\"",
    "X-Clacks-Overhead": "GNU Terry Pratchett",
    "Strict-Transport-Security": "max-age=315360000; includeSubDomains; preload",
    "Via": "1.1 varnish, 1.1 varnish",
    "Accept-Ranges": "bytes",
    "Age": "2970",
    "Date": "Wed, 26 Nov 2025 05:32:30 GMT",
    "X-Served-By": "cache-lga21948-LGA, cache-yul1970073-YUL",
    "X-Cache": "HIT, HIT",
    "X-Cache-Hits": "148, 0",
    "X-Timer": "S1764135151.882633,VS0,VE1",
    "Vary": "Accept-Encoding"
  },
  "crawled_at": "2025-11-26T05:32:31.685243+00:00",
  "crawler": {
    "name": "DumbCrawler",
    "version": "1.0",
    "mode": "crawl",
    "js_mode": "off",
    "scope": "subfolder"
  }
}