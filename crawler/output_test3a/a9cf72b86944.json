{
  "url": "https://docs.python.org/3/library/ctypes.html",
  "status_code": 200,
  "depth": 1,
  "referrer": "https://docs.python.org/3/library/",
  "raw_html": "<!DOCTYPE html>\n\n<html lang=\"en\" data-content_root=\"../\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<meta property=\"og:title\" content=\"ctypes — A foreign function library for Python\" />\n<meta property=\"og:type\" content=\"website\" />\n<meta property=\"og:url\" content=\"https://docs.python.org/3/library/ctypes.html\" />\n<meta property=\"og:site_name\" content=\"Python documentation\" />\n<meta property=\"og:description\" content=\"Source code: Lib/ctypes ctypes is a foreign function library for Python. It provides C compatible data types, and allows calling functions in DLLs or shared libraries. It can be used to wrap these ...\" />\n<meta property=\"og:image:width\" content=\"1146\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://docs.python.org/3.14/_images/social_previews/summary_library_ctypes_a1e7e9c0.png\" />\n<meta property=\"og:image:alt\" content=\"Source code: Lib/ctypes ctypes is a foreign function library for Python. It provides C compatible data types, and allows calling functions in DLLs or shared libraries. It can be used to wrap these ...\" />\n<meta name=\"description\" content=\"Source code: Lib/ctypes ctypes is a foreign function library for Python. It provides C compatible data types, and allows calling functions in DLLs or shared libraries. It can be used to wrap these ...\" />\n<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"theme-color\" content=\"#3776ab\">\n\n    <title>ctypes — A foreign function library for Python &#8212; Python 3.14.0 documentation</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments.css?v=b86133f3\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/classic.css?v=234b1a7c\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pydoctheme.css?v=8cd84f99\" />\n    <link id=\"pygments_dark_css\" media=\"(prefers-color-scheme: dark)\" rel=\"stylesheet\" type=\"text/css\" href=\"../_static/pygments_dark.css?v=5349f25f\" />\n    \n    <script src=\"../_static/documentation_options.js?v=e4f4b189\"></script>\n    <script src=\"../_static/doctools.js?v=9bcbadda\"></script>\n    <script src=\"../_static/sphinx_highlight.js?v=dc90522c\"></script>\n    \n    <script src=\"../_static/sidebar.js\"></script>\n    \n    <link rel=\"search\" type=\"application/opensearchdescription+xml\"\n          title=\"Search within Python 3.14.0 documentation\"\n          href=\"../_static/opensearch.xml\"/>\n    <link rel=\"author\" title=\"About these documents\" href=\"../about.html\" />\n    <link rel=\"index\" title=\"Index\" href=\"../genindex.html\" />\n    <link rel=\"search\" title=\"Search\" href=\"../search.html\" />\n    <link rel=\"copyright\" title=\"Copyright\" href=\"../copyright.html\" />\n    <link rel=\"next\" title=\"Command-line interface libraries\" href=\"cmdlinelibs.html\" />\n    <link rel=\"prev\" title=\"errno — Standard errno system symbols\" href=\"errno.html\" />\n    \n      \n      <script defer file-types=\"bz2,epub,zip\" data-domain=\"docs.python.org\" src=\"https://analytics.python.org/js/script.file-downloads.outbound-links.js\"></script>\n      \n      <link rel=\"canonical\" href=\"https://docs.python.org/3/library/ctypes.html\">\n      \n    \n\n    \n    <style>\n      @media only screen {\n        table.full-width-table {\n            width: 100%;\n        }\n      }\n    </style>\n<link rel=\"stylesheet\" href=\"../_static/pydoctheme_dark.css\" media=\"(prefers-color-scheme: dark)\" id=\"pydoctheme_dark_css\">\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"../_static/py.svg\">\n            <script type=\"text/javascript\" src=\"../_static/copybutton.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/menu.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/search-focus.js\"></script>\n            <script type=\"text/javascript\" src=\"../_static/themetoggle.js\"></script> \n            <script type=\"text/javascript\" src=\"../_static/rtd_switcher.js\"></script>\n            <meta name=\"readthedocs-addons-api-version\" content=\"1\">\n\n  </head>\n<body>\n<div class=\"mobile-nav\">\n    <input type=\"checkbox\" id=\"menuToggler\" class=\"toggler__input\" aria-controls=\"navigation\"\n           aria-pressed=\"false\" aria-expanded=\"false\" role=\"button\" aria-label=\"Menu\">\n    <nav class=\"nav-content\" role=\"navigation\">\n        <label for=\"menuToggler\" class=\"toggler__label\">\n            <span></span>\n        </label>\n        <span class=\"nav-items-wrapper\">\n            <a href=\"https://www.python.org/\" class=\"nav-logo\">\n                <img src=\"../_static/py.svg\" alt=\"Python logo\">\n            </a>\n            <span class=\"version_switcher_placeholder\"></span>\n            <form role=\"search\" class=\"search\" action=\"../search.html\" method=\"get\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" class=\"search-icon\">\n                    <path fill-rule=\"nonzero\" fill=\"currentColor\" d=\"M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n                </svg>\n                <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\">\n                <input type=\"submit\" value=\"Go\">\n            </form>\n        </span>\n    </nav>\n    <div class=\"menu-wrapper\">\n        <nav class=\"menu\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"language_switcher_placeholder\"></div>\n            \n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label>\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code> — A foreign function library for Python</a><ul>\n<li><a class=\"reference internal\" href=\"#ctypes-tutorial\">ctypes tutorial</a><ul>\n<li><a class=\"reference internal\" href=\"#loading-dynamic-link-libraries\">Loading dynamic link libraries</a></li>\n<li><a class=\"reference internal\" href=\"#accessing-functions-from-loaded-dlls\">Accessing functions from loaded dlls</a></li>\n<li><a class=\"reference internal\" href=\"#calling-functions\">Calling functions</a></li>\n<li><a class=\"reference internal\" href=\"#fundamental-data-types\">Fundamental data types</a></li>\n<li><a class=\"reference internal\" href=\"#calling-functions-continued\">Calling functions, continued</a></li>\n<li><a class=\"reference internal\" href=\"#calling-variadic-functions\">Calling variadic functions</a></li>\n<li><a class=\"reference internal\" href=\"#calling-functions-with-your-own-custom-data-types\">Calling functions with your own custom data types</a></li>\n<li><a class=\"reference internal\" href=\"#specifying-the-required-argument-types-function-prototypes\">Specifying the required argument types (function prototypes)</a></li>\n<li><a class=\"reference internal\" href=\"#return-types\">Return types</a></li>\n<li><a class=\"reference internal\" href=\"#passing-pointers-or-passing-parameters-by-reference\">Passing pointers (or: passing parameters by reference)</a></li>\n<li><a class=\"reference internal\" href=\"#structures-and-unions\">Structures and unions</a></li>\n<li><a class=\"reference internal\" href=\"#structure-union-layout-alignment-and-byte-order\">Structure/union layout, alignment and byte order</a></li>\n<li><a class=\"reference internal\" href=\"#bit-fields-in-structures-and-unions\">Bit fields in structures and unions</a></li>\n<li><a class=\"reference internal\" href=\"#arrays\">Arrays</a></li>\n<li><a class=\"reference internal\" href=\"#pointers\">Pointers</a></li>\n<li><a class=\"reference internal\" href=\"#thread-safety-without-the-gil\">Thread safety without the GIL</a></li>\n<li><a class=\"reference internal\" href=\"#type-conversions\">Type conversions</a></li>\n<li><a class=\"reference internal\" href=\"#incomplete-types\">Incomplete Types</a></li>\n<li><a class=\"reference internal\" href=\"#callback-functions\">Callback functions</a></li>\n<li><a class=\"reference internal\" href=\"#accessing-values-exported-from-dlls\">Accessing values exported from dlls</a></li>\n<li><a class=\"reference internal\" href=\"#surprises\">Surprises</a></li>\n<li><a class=\"reference internal\" href=\"#variable-sized-data-types\">Variable-sized data types</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#ctypes-reference\">ctypes reference</a><ul>\n<li><a class=\"reference internal\" href=\"#finding-shared-libraries\">Finding shared libraries</a></li>\n<li><a class=\"reference internal\" href=\"#listing-loaded-shared-libraries\">Listing loaded shared libraries</a></li>\n<li><a class=\"reference internal\" href=\"#loading-shared-libraries\">Loading shared libraries</a></li>\n<li><a class=\"reference internal\" href=\"#foreign-functions\">Foreign functions</a></li>\n<li><a class=\"reference internal\" href=\"#function-prototypes\">Function prototypes</a></li>\n<li><a class=\"reference internal\" href=\"#utility-functions\">Utility functions</a></li>\n<li><a class=\"reference internal\" href=\"#data-types\">Data types</a></li>\n<li><a class=\"reference internal\" href=\"#ctypes-fundamental-data-types-2\">Fundamental data types</a></li>\n<li><a class=\"reference internal\" href=\"#structured-data-types\">Structured data types</a></li>\n<li><a class=\"reference internal\" href=\"#arrays-and-pointers\">Arrays and pointers</a></li>\n<li><a class=\"reference internal\" href=\"#exceptions\">Exceptions</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"errno.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">errno</span></code> — Standard errno system symbols</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"cmdlinelibs.html\"\n                          title=\"next chapter\">Command-line interface libraries</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/ctypes.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </nav>\n    </div>\n</div>\n\n  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             accesskey=\"I\">index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"cmdlinelibs.html\" title=\"Command-line interface libraries\"\n             accesskey=\"N\">next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"errno.html\" title=\"errno — Standard errno system symbols\"\n             accesskey=\"P\">previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"allos.html\" accesskey=\"U\">Generic Operating System Services</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code> — A foreign function library for Python</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>    \n\n    <div class=\"document\">\n      <div class=\"documentwrapper\">\n        <div class=\"bodywrapper\">\n          <div class=\"body\" role=\"main\">\n            \n  <section id=\"module-ctypes\">\n<span id=\"ctypes-a-foreign-function-library-for-python\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code> — A foreign function library for Python<a class=\"headerlink\" href=\"#module-ctypes\" title=\"Link to this heading\">¶</a></h1>\n<p><strong>Source code:</strong> <a class=\"extlink-source reference external\" href=\"https://github.com/python/cpython/tree/3.14/Lib/ctypes\">Lib/ctypes</a></p>\n<hr class=\"docutils\" />\n<p><a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> is a foreign function library for Python.  It provides C compatible\ndata types, and allows calling functions in DLLs or shared libraries.  It can be\nused to wrap these libraries in pure Python.</p>\n<p>This is an <a class=\"reference internal\" href=\"../glossary.html#term-optional-module\"><span class=\"xref std std-term\">optional module</span></a>.\nIf it is missing from your copy of CPython,\nlook for documentation from your distributor (that is,\nwhoever provided Python to you).\nIf you are the distributor, see <a class=\"reference internal\" href=\"../using/configure.html#optional-module-requirements\"><span class=\"std std-ref\">Requirements for optional modules</span></a>.</p>\n<section id=\"ctypes-tutorial\">\n<span id=\"ctypes-ctypes-tutorial\"></span><h2>ctypes tutorial<a class=\"headerlink\" href=\"#ctypes-tutorial\" title=\"Link to this heading\">¶</a></h2>\n<p>Note: The code samples in this tutorial use <a class=\"reference internal\" href=\"doctest.html#module-doctest\" title=\"doctest: Test pieces of code within docstrings.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">doctest</span></code></a> to make sure that\nthey actually work.  Since some code samples behave differently under Linux,\nWindows, or macOS, they contain doctest directives in comments.</p>\n<p>Note: Some code samples reference the ctypes <a class=\"reference internal\" href=\"#ctypes.c_int\" title=\"ctypes.c_int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int</span></code></a> type.  On platforms\nwhere <code class=\"docutils literal notranslate\"><span class=\"pre\">sizeof(long)</span> <span class=\"pre\">==</span> <span class=\"pre\">sizeof(int)</span></code> it is an alias to <a class=\"reference internal\" href=\"#ctypes.c_long\" title=\"ctypes.c_long\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_long</span></code></a>.\nSo, you should not be confused if <a class=\"reference internal\" href=\"#ctypes.c_long\" title=\"ctypes.c_long\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_long</span></code></a> is printed if you would expect\n<a class=\"reference internal\" href=\"#ctypes.c_int\" title=\"ctypes.c_int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int</span></code></a> — they are actually the same type.</p>\n<section id=\"loading-dynamic-link-libraries\">\n<span id=\"ctypes-loading-dynamic-link-libraries\"></span><h3>Loading dynamic link libraries<a class=\"headerlink\" href=\"#loading-dynamic-link-libraries\" title=\"Link to this heading\">¶</a></h3>\n<p><a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> exports the <em>cdll</em>, and on Windows <em>windll</em> and <em>oledll</em>\nobjects, for loading dynamic link libraries.</p>\n<p>You load libraries by accessing them as attributes of these objects. <em>cdll</em>\nloads libraries which export functions using the standard <code class=\"docutils literal notranslate\"><span class=\"pre\">cdecl</span></code> calling\nconvention, while <em>windll</em> libraries call functions using the <code class=\"docutils literal notranslate\"><span class=\"pre\">stdcall</span></code>\ncalling convention. <em>oledll</em> also uses the <code class=\"docutils literal notranslate\"><span class=\"pre\">stdcall</span></code> calling convention, and\nassumes the functions return a Windows <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">HRESULT</span></code> error code. The error\ncode is used to automatically raise an <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a> exception when the\nfunction call fails.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>Windows errors used to raise <a class=\"reference internal\" href=\"exceptions.html#WindowsError\" title=\"WindowsError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">WindowsError</span></code></a>, which is now an alias\nof <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a>.</p>\n</div>\n<p>Here are some examples for Windows. Note that <code class=\"docutils literal notranslate\"><span class=\"pre\">msvcrt</span></code> is the MS standard C\nlibrary containing most standard C functions, and uses the <code class=\"docutils literal notranslate\"><span class=\"pre\">cdecl</span></code> calling\nconvention:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">windll</span><span class=\"o\">.</span><span class=\"n\">kernel32</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;WinDLL &#39;kernel32&#39;, handle ... at ...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">cdll</span><span class=\"o\">.</span><span class=\"n\">msvcrt</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;CDLL &#39;msvcrt&#39;, handle ... at ...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">libc</span> <span class=\"o\">=</span> <span class=\"n\">cdll</span><span class=\"o\">.</span><span class=\"n\">msvcrt</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Windows appends the usual <code class=\"docutils literal notranslate\"><span class=\"pre\">.dll</span></code> file suffix automatically.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Accessing the standard C library through <code class=\"docutils literal notranslate\"><span class=\"pre\">cdll.msvcrt</span></code> will use an\noutdated version of the library that may be incompatible with the one\nbeing used by Python. Where possible, use native Python functionality,\nor else import and use the <code class=\"docutils literal notranslate\"><span class=\"pre\">msvcrt</span></code> module.</p>\n</div>\n<p>On Linux, it is required to specify the filename <em>including</em> the extension to\nload a library, so attribute access can not be used to load libraries. Either the\n<a class=\"reference internal\" href=\"#ctypes.LibraryLoader.LoadLibrary\" title=\"ctypes.LibraryLoader.LoadLibrary\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">LoadLibrary()</span></code></a> method of the dll loaders should be used,\nor you should load the library by creating an instance of CDLL by calling\nthe constructor:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cdll</span><span class=\"o\">.</span><span class=\"n\">LoadLibrary</span><span class=\"p\">(</span><span class=\"s2\">&quot;libc.so.6&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;CDLL &#39;libc.so.6&#39;, handle ... at ...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">libc</span> <span class=\"o\">=</span> <span class=\"n\">CDLL</span><span class=\"p\">(</span><span class=\"s2\">&quot;libc.so.6&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">libc</span>\n<span class=\"go\">&lt;CDLL &#39;libc.so.6&#39;, handle ... at ...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"accessing-functions-from-loaded-dlls\">\n<span id=\"ctypes-accessing-functions-from-loaded-dlls\"></span><h3>Accessing functions from loaded dlls<a class=\"headerlink\" href=\"#accessing-functions-from-loaded-dlls\" title=\"Link to this heading\">¶</a></h3>\n<p>Functions are accessed as attributes of dll objects:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">printf</span>\n<span class=\"go\">&lt;_FuncPtr object at 0x...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">windll</span><span class=\"o\">.</span><span class=\"n\">kernel32</span><span class=\"o\">.</span><span class=\"n\">GetModuleHandleA</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;_FuncPtr object at 0x...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">windll</span><span class=\"o\">.</span><span class=\"n\">kernel32</span><span class=\"o\">.</span><span class=\"n\">MyOwnFunction</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n  File <span class=\"nb\">&quot;ctypes.py&quot;</span>, line <span class=\"m\">239</span>, in <span class=\"n\">__getattr__</span>\n<span class=\"w\">    </span><span class=\"n\">func</span> <span class=\"o\">=</span> <span class=\"n\">_StdcallFuncPtr</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span>\n<span class=\"gr\">AttributeError</span>: <span class=\"n\">function &#39;MyOwnFunction&#39; not found</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Note that win32 system dlls like <code class=\"docutils literal notranslate\"><span class=\"pre\">kernel32</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">user32</span></code> often export ANSI\nas well as UNICODE versions of a function. The UNICODE version is exported with\na <code class=\"docutils literal notranslate\"><span class=\"pre\">W</span></code> appended to the name, while the ANSI version is exported with an <code class=\"docutils literal notranslate\"><span class=\"pre\">A</span></code>\nappended to the name. The win32 <code class=\"docutils literal notranslate\"><span class=\"pre\">GetModuleHandle</span></code> function, which returns a\n<em>module handle</em> for a given module name, has the following C prototype, and a\nmacro is used to expose one of them as <code class=\"docutils literal notranslate\"><span class=\"pre\">GetModuleHandle</span></code> depending on whether\nUNICODE is defined or not:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"o\">/*</span> <span class=\"n\">ANSI</span> <span class=\"n\">version</span> <span class=\"o\">*/</span>\n<span class=\"n\">HMODULE</span> <span class=\"n\">GetModuleHandleA</span><span class=\"p\">(</span><span class=\"n\">LPCSTR</span> <span class=\"n\">lpModuleName</span><span class=\"p\">);</span>\n<span class=\"o\">/*</span> <span class=\"n\">UNICODE</span> <span class=\"n\">version</span> <span class=\"o\">*/</span>\n<span class=\"n\">HMODULE</span> <span class=\"n\">GetModuleHandleW</span><span class=\"p\">(</span><span class=\"n\">LPCWSTR</span> <span class=\"n\">lpModuleName</span><span class=\"p\">);</span>\n</pre></div>\n</div>\n<p><em>windll</em> does not try to select one of them by magic, you must access the\nversion you need by specifying <code class=\"docutils literal notranslate\"><span class=\"pre\">GetModuleHandleA</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">GetModuleHandleW</span></code>\nexplicitly, and then call it with bytes or string objects respectively.</p>\n<p>Sometimes, dlls export functions with names which aren’t valid Python\nidentifiers, like <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;??2&#64;YAPAXI&#64;Z&quot;</span></code>. In this case you have to use\n<a class=\"reference internal\" href=\"functions.html#getattr\" title=\"getattr\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">getattr()</span></code></a> to retrieve the function:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">cdll</span><span class=\"o\">.</span><span class=\"n\">msvcrt</span><span class=\"p\">,</span> <span class=\"s2\">&quot;??2@YAPAXI@Z&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;_FuncPtr object at 0x...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>On Windows, some dlls export functions not by name but by ordinal. These\nfunctions can be accessed by indexing the dll object with the ordinal number:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cdll</span><span class=\"o\">.</span><span class=\"n\">kernel32</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"go\">&lt;_FuncPtr object at 0x...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cdll</span><span class=\"o\">.</span><span class=\"n\">kernel32</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n  File <span class=\"nb\">&quot;ctypes.py&quot;</span>, line <span class=\"m\">310</span>, in <span class=\"n\">__getitem__</span>\n<span class=\"w\">    </span><span class=\"n\">func</span> <span class=\"o\">=</span> <span class=\"n\">_StdcallFuncPtr</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span>\n<span class=\"gr\">AttributeError</span>: <span class=\"n\">function ordinal 0 not found</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"calling-functions\">\n<span id=\"ctypes-calling-functions\"></span><h3>Calling functions<a class=\"headerlink\" href=\"#calling-functions\" title=\"Link to this heading\">¶</a></h3>\n<p>You can call these functions like any other Python callable. This example uses\nthe <code class=\"docutils literal notranslate\"><span class=\"pre\">rand()</span></code> function, which takes no arguments and returns a pseudo-random integer:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">rand</span><span class=\"p\">())</span>\n<span class=\"go\">1804289383</span>\n</pre></div>\n</div>\n<p>On Windows, you can call the <code class=\"docutils literal notranslate\"><span class=\"pre\">GetModuleHandleA()</span></code> function, which returns a win32 module\nhandle (passing <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> as single argument to call it with a <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> pointer):</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">hex</span><span class=\"p\">(</span><span class=\"n\">windll</span><span class=\"o\">.</span><span class=\"n\">kernel32</span><span class=\"o\">.</span><span class=\"n\">GetModuleHandleA</span><span class=\"p\">(</span><span class=\"kc\">None</span><span class=\"p\">)))</span>\n<span class=\"go\">0x1d000000</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p><a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised when you call an <code class=\"docutils literal notranslate\"><span class=\"pre\">stdcall</span></code> function with the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">cdecl</span></code> calling convention, or vice versa:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cdll</span><span class=\"o\">.</span><span class=\"n\">kernel32</span><span class=\"o\">.</span><span class=\"n\">GetModuleHandleA</span><span class=\"p\">(</span><span class=\"kc\">None</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">Procedure probably called with not enough arguments (4 bytes missing)</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">windll</span><span class=\"o\">.</span><span class=\"n\">msvcrt</span><span class=\"o\">.</span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;spam&quot;</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">Procedure probably called with too many arguments (4 bytes in excess)</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>To find out the correct calling convention you have to look into the C header\nfile or the documentation for the function you want to call.</p>\n<p>On Windows, <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> uses win32 structured exception handling to prevent\ncrashes from general protection faults when functions are called with invalid\nargument values:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">windll</span><span class=\"o\">.</span><span class=\"n\">kernel32</span><span class=\"o\">.</span><span class=\"n\">GetModuleHandleA</span><span class=\"p\">(</span><span class=\"mi\">32</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"gr\">OSError</span>: <span class=\"n\">exception: access violation reading 0x00000020</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>There are, however, enough ways to crash Python with <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a>, so you\nshould be careful anyway.  The <a class=\"reference internal\" href=\"faulthandler.html#module-faulthandler\" title=\"faulthandler: Dump the Python traceback.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">faulthandler</span></code></a> module can be helpful in\ndebugging crashes (e.g. from segmentation faults produced by erroneous C library\ncalls).</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, integers, bytes objects and (unicode) strings are the only native\nPython objects that can directly be used as parameters in these function calls.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> is passed as a C <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> pointer, bytes objects and strings are passed\nas pointer to the memory block that contains their data (<span class=\"c-expr sig sig-inline c\"><span class=\"kt\">char</span><span class=\"p\">*</span></span> or\n<span class=\"c-expr sig sig-inline c\"><span class=\"n\">wchar_t</span><span class=\"p\">*</span></span>).  Python integers are passed as the platform’s default C\n<span class=\"c-expr sig sig-inline c\"><span class=\"kt\">int</span></span> type, their value is masked to fit into the C type.</p>\n<p>Before we move on calling functions with other parameter types, we have to learn\nmore about <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> data types.</p>\n</section>\n<section id=\"fundamental-data-types\">\n<span id=\"ctypes-fundamental-data-types\"></span><h3>Fundamental data types<a class=\"headerlink\" href=\"#fundamental-data-types\" title=\"Link to this heading\">¶</a></h3>\n<p><a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> defines a number of primitive C compatible data types:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>ctypes type</p></th>\n<th class=\"head\"><p>C type</p></th>\n<th class=\"head\"><p>Python type</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_bool\" title=\"ctypes.c_bool\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_bool</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">_Bool</span></span></p></td>\n<td><p>bool (1)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_char\" title=\"ctypes.c_char\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_char</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">char</span></span></p></td>\n<td><p>1-character bytes object</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_wchar\" title=\"ctypes.c_wchar\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_wchar</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">wchar_t</span></code></p></td>\n<td><p>1-character string</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_byte\" title=\"ctypes.c_byte\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_byte</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">char</span></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_ubyte\" title=\"ctypes.c_ubyte\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_ubyte</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">char</span></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_short\" title=\"ctypes.c_short\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_short</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">short</span></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_ushort\" title=\"ctypes.c_ushort\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_ushort</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">short</span></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_int\" title=\"ctypes.c_int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">int</span></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_int8\" title=\"ctypes.c_int8\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int8</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">int8_t</span></code></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_int16\" title=\"ctypes.c_int16\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int16</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">int16_t</span></code></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_int32\" title=\"ctypes.c_int32\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int32</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">int32_t</span></code></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_int64\" title=\"ctypes.c_int64\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int64</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">int64_t</span></code></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_uint\" title=\"ctypes.c_uint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_uint</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">int</span></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_uint8\" title=\"ctypes.c_uint8\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_uint8</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">uint8_t</span></code></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_uint16\" title=\"ctypes.c_uint16\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_uint16</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">uint16_t</span></code></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_uint32\" title=\"ctypes.c_uint32\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_uint32</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">uint32_t</span></code></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_uint64\" title=\"ctypes.c_uint64\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_uint64</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">uint64_t</span></code></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_long\" title=\"ctypes.c_long\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_long</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">long</span></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_ulong\" title=\"ctypes.c_ulong\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_ulong</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">long</span></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_longlong\" title=\"ctypes.c_longlong\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_longlong</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"n\">__int64</span></span> or <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">long</span><span class=\"w\"> </span><span class=\"kt\">long</span></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_ulonglong\" title=\"ctypes.c_ulonglong\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_ulonglong</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">__int64</span></span> or\n<span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">long</span><span class=\"w\"> </span><span class=\"kt\">long</span></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_size_t\" title=\"ctypes.c_size_t\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_size_t</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">size_t</span></code></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_ssize_t\" title=\"ctypes.c_ssize_t\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_ssize_t</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">ssize_t</span></code> or\n<span class=\"c-expr sig sig-inline c\"><a class=\"reference internal\" href=\"../c-api/intro.html#c.Py_ssize_t\" title=\"Py_ssize_t\"><span class=\"n\">Py_ssize_t</span></a></span></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_time_t\" title=\"ctypes.c_time_t\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_time_t</span></code></a></p></td>\n<td><p><code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">time_t</span></code></p></td>\n<td><p>int</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_float\" title=\"ctypes.c_float\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_float</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">float</span></span></p></td>\n<td><p>float</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_double\" title=\"ctypes.c_double\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_double</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">double</span></span></p></td>\n<td><p>float</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_longdouble\" title=\"ctypes.c_longdouble\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_longdouble</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">long</span><span class=\"w\"> </span><span class=\"kt\">double</span></span></p></td>\n<td><p>float</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_char_p\" title=\"ctypes.c_char_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_char_p</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">char</span><span class=\"p\">*</span></span> (NUL terminated)</p></td>\n<td><p>bytes object or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_wchar_p\" title=\"ctypes.c_wchar_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_wchar_p</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"n\">wchar_t</span><span class=\"p\">*</span></span> (NUL terminated)</p></td>\n<td><p>string or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_void_p\" title=\"ctypes.c_void_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_void_p</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">void</span><span class=\"p\">*</span></span></p></td>\n<td><p>int or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code></p></td>\n</tr>\n</tbody>\n</table>\n<ol class=\"arabic simple\">\n<li><p>The constructor accepts any object with a truth value.</p></li>\n</ol>\n<p>Additionally, if IEC 60559 compatible complex arithmetic (Annex G) is supported\nin both C and <code class=\"docutils literal notranslate\"><span class=\"pre\">libffi</span></code>, the following complex types are available:</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>ctypes type</p></th>\n<th class=\"head\"><p>C type</p></th>\n<th class=\"head\"><p>Python type</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_float_complex\" title=\"ctypes.c_float_complex\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_float_complex</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"kt\">complex</span></span></p></td>\n<td><p>complex</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_double_complex\" title=\"ctypes.c_double_complex\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_double_complex</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">double</span><span class=\"w\"> </span><span class=\"kt\">complex</span></span></p></td>\n<td><p>complex</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"#ctypes.c_longdouble_complex\" title=\"ctypes.c_longdouble_complex\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_longdouble_complex</span></code></a></p></td>\n<td><p><span class=\"c-expr sig sig-inline c\"><span class=\"kt\">long</span><span class=\"w\"> </span><span class=\"kt\">double</span><span class=\"w\"> </span><span class=\"kt\">complex</span></span></p></td>\n<td><p>complex</p></td>\n</tr>\n</tbody>\n</table>\n<p>All these types can be created by calling them with an optional initializer of\nthe correct type and value:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_int</span><span class=\"p\">()</span>\n<span class=\"go\">c_long(0)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_wchar_p</span><span class=\"p\">(</span><span class=\"s2\">&quot;Hello, World&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">c_wchar_p(140018365411392)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_ushort</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">c_ushort(65533)</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Since these types are mutable, their value can also be changed afterwards:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"n\">c_int</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span>\n<span class=\"go\">c_long(42)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">)</span>\n<span class=\"go\">42</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mi\">99</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">)</span>\n<span class=\"go\">-99</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Assigning a new value to instances of the pointer types <a class=\"reference internal\" href=\"#ctypes.c_char_p\" title=\"ctypes.c_char_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_char_p</span></code></a>,\n<a class=\"reference internal\" href=\"#ctypes.c_wchar_p\" title=\"ctypes.c_wchar_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_wchar_p</span></code></a>, and <a class=\"reference internal\" href=\"#ctypes.c_void_p\" title=\"ctypes.c_void_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_void_p</span></code></a> changes the <em>memory location</em> they\npoint to, <em>not the contents</em> of the memory block (of course not, because Python\nstring objects are immutable):</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;Hello, World&quot;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_s</span> <span class=\"o\">=</span> <span class=\"n\">c_wchar_p</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">c_s</span><span class=\"p\">)</span>\n<span class=\"go\">c_wchar_p(139966785747344)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">c_s</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">)</span>\n<span class=\"go\">Hello World</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_s</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;Hi, there&quot;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">c_s</span><span class=\"p\">)</span>              <span class=\"c1\"># the memory location has changed</span>\n<span class=\"go\">c_wchar_p(139966783348904)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">c_s</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">)</span>\n<span class=\"go\">Hi, there</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span>                <span class=\"c1\"># first object is unchanged</span>\n<span class=\"go\">Hello, World</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>You should be careful, however, not to pass them to functions expecting pointers\nto mutable memory. If you need mutable memory blocks, ctypes has a\n<a class=\"reference internal\" href=\"#ctypes.create_string_buffer\" title=\"ctypes.create_string_buffer\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">create_string_buffer()</span></code></a> function which creates these in various ways.  The\ncurrent memory block contents can be accessed (or changed) with the <code class=\"docutils literal notranslate\"><span class=\"pre\">raw</span></code>\nproperty; if you want to access it as NUL terminated string, use the <code class=\"docutils literal notranslate\"><span class=\"pre\">value</span></code>\nproperty:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">create_string_buffer</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span>            <span class=\"c1\"># create a 3 byte buffer, initialized to NUL bytes</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">sizeof</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">),</span> <span class=\"nb\">repr</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">raw</span><span class=\"p\">))</span>\n<span class=\"go\">3 b&#39;\\x00\\x00\\x00&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">create_string_buffer</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;Hello&quot;</span><span class=\"p\">)</span>     <span class=\"c1\"># create a buffer containing a NUL terminated string</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">sizeof</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">),</span> <span class=\"nb\">repr</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">raw</span><span class=\"p\">))</span>\n<span class=\"go\">6 b&#39;Hello\\x00&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">repr</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">))</span>\n<span class=\"go\">b&#39;Hello&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">create_string_buffer</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;Hello&quot;</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span> <span class=\"c1\"># create a 10 byte buffer</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">sizeof</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">),</span> <span class=\"nb\">repr</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">raw</span><span class=\"p\">))</span>\n<span class=\"go\">10 b&#39;Hello\\x00\\x00\\x00\\x00\\x00&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;Hi&quot;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">sizeof</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">),</span> <span class=\"nb\">repr</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">raw</span><span class=\"p\">))</span>\n<span class=\"go\">10 b&#39;Hi\\x00lo\\x00\\x00\\x00\\x00\\x00&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>The <a class=\"reference internal\" href=\"#ctypes.create_string_buffer\" title=\"ctypes.create_string_buffer\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">create_string_buffer()</span></code></a> function replaces the old <code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">c_buffer()</span></code>\nfunction (which is still available as an alias).  To create a mutable memory\nblock containing unicode characters of the C type <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">wchar_t</span></code>, use the\n<a class=\"reference internal\" href=\"#ctypes.create_unicode_buffer\" title=\"ctypes.create_unicode_buffer\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">create_unicode_buffer()</span></code></a> function.</p>\n</section>\n<section id=\"calling-functions-continued\">\n<span id=\"ctypes-calling-functions-continued\"></span><h3>Calling functions, continued<a class=\"headerlink\" href=\"#calling-functions-continued\" title=\"Link to this heading\">¶</a></h3>\n<p>Note that printf prints to the real standard output channel, <em>not</em> to\n<a class=\"reference internal\" href=\"sys.html#sys.stdout\" title=\"sys.stdout\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">sys.stdout</span></code></a>, so these examples will only work at the console prompt, not\nfrom within <em>IDLE</em> or <em>PythonWin</em>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span> <span class=\"o\">=</span> <span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">printf</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;Hello, </span><span class=\"si\">%s</span><span class=\"se\">\\n</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;World!&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">Hello, World!</span>\n<span class=\"go\">14</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;Hello, %S</span><span class=\"se\">\\n</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;World!&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">Hello, World!</span>\n<span class=\"go\">14</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;</span><span class=\"si\">%d</span><span class=\"s2\"> bottles of beer</span><span class=\"se\">\\n</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span> <span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"go\">42 bottles of beer</span>\n<span class=\"go\">19</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;</span><span class=\"si\">%f</span><span class=\"s2\"> bottles of beer</span><span class=\"se\">\\n</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span> <span class=\"mf\">42.5</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"gr\">ctypes.ArgumentError</span>: <span class=\"n\">argument 2: TypeError: Don&#39;t know how to convert parameter 2</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>As has been mentioned before, all Python types except integers, strings, and\nbytes objects have to be wrapped in their corresponding <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> type, so\nthat they can be converted to the required C data type:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;An int </span><span class=\"si\">%d</span><span class=\"s2\">, a double </span><span class=\"si\">%f</span><span class=\"se\">\\n</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1234</span><span class=\"p\">,</span> <span class=\"n\">c_double</span><span class=\"p\">(</span><span class=\"mf\">3.14</span><span class=\"p\">))</span>\n<span class=\"go\">An int 1234, a double 3.140000</span>\n<span class=\"go\">31</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"calling-variadic-functions\">\n<span id=\"ctypes-calling-variadic-functions\"></span><h3>Calling variadic functions<a class=\"headerlink\" href=\"#calling-variadic-functions\" title=\"Link to this heading\">¶</a></h3>\n<p>On a lot of platforms calling variadic functions through ctypes is exactly the same\nas calling functions with a fixed number of parameters. On some platforms, and in\nparticular ARM64 for Apple Platforms, the calling convention for variadic functions\nis different than that for regular functions.</p>\n<p>On those platforms it is required to specify the <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a>\nattribute for the regular, non-variadic, function arguments:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">printf</span><span class=\"o\">.</span><span class=\"n\">argtypes</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">ctypes</span><span class=\"o\">.</span><span class=\"n\">c_char_p</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n<p>Because specifying the attribute does not inhibit portability it is advised to always\nspecify <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a> for all variadic functions.</p>\n</section>\n<section id=\"calling-functions-with-your-own-custom-data-types\">\n<span id=\"ctypes-calling-functions-with-own-custom-data-types\"></span><h3>Calling functions with your own custom data types<a class=\"headerlink\" href=\"#calling-functions-with-your-own-custom-data-types\" title=\"Link to this heading\">¶</a></h3>\n<p>You can also customize <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> argument conversion to allow instances of\nyour own classes be used as function arguments. <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> looks for an\n<code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_as_parameter_</span></code> attribute and uses this as the function argument. The\nattribute must be an integer, string, bytes, a <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> instance, or an\nobject with an <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_as_parameter_</span></code> attribute:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Bottles</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">number</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_as_parameter_</span> <span class=\"o\">=</span> <span class=\"n\">number</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bottles</span> <span class=\"o\">=</span> <span class=\"n\">Bottles</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;</span><span class=\"si\">%d</span><span class=\"s2\"> bottles of beer</span><span class=\"se\">\\n</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span> <span class=\"n\">bottles</span><span class=\"p\">)</span>\n<span class=\"go\">42 bottles of beer</span>\n<span class=\"go\">19</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>If you don’t want to store the instance’s data in the <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_as_parameter_</span></code>\ninstance variable, you could define a <a class=\"reference internal\" href=\"functions.html#property\" title=\"property\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">property</span></code></a> which makes the\nattribute available on request.</p>\n</section>\n<section id=\"specifying-the-required-argument-types-function-prototypes\">\n<span id=\"ctypes-specifying-required-argument-types\"></span><h3>Specifying the required argument types (function prototypes)<a class=\"headerlink\" href=\"#specifying-the-required-argument-types-function-prototypes\" title=\"Link to this heading\">¶</a></h3>\n<p>It is possible to specify the required argument types of functions exported from\nDLLs by setting the <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a> attribute.</p>\n<p><a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a> must be a sequence of C data types (the <code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">printf()</span></code> function is\nprobably not a good example here, because it takes a variable number and\ndifferent types of parameters depending on the format string, on the other hand\nthis is quite handy to experiment with this feature):</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span><span class=\"o\">.</span><span class=\"n\">argtypes</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">c_char_p</span><span class=\"p\">,</span> <span class=\"n\">c_char_p</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">,</span> <span class=\"n\">c_double</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;String &#39;</span><span class=\"si\">%s</span><span class=\"s2\">&#39;, Int </span><span class=\"si\">%d</span><span class=\"s2\">, Double </span><span class=\"si\">%f</span><span class=\"se\">\\n</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;Hi&quot;</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mf\">2.2</span><span class=\"p\">)</span>\n<span class=\"go\">String &#39;Hi&#39;, Int 10, Double 2.200000</span>\n<span class=\"go\">37</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Specifying a format protects against incompatible argument types (just as a\nprototype for a C function), and tries to convert the arguments to valid types:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;</span><span class=\"si\">%d</span><span class=\"s2\"> </span><span class=\"si\">%d</span><span class=\"s2\"> </span><span class=\"si\">%d</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"gr\">ctypes.ArgumentError</span>: <span class=\"n\">argument 2: TypeError: &#39;int&#39; object cannot be interpreted as ctypes.c_char_p</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;</span><span class=\"si\">%s</span><span class=\"s2\"> </span><span class=\"si\">%d</span><span class=\"s2\"> </span><span class=\"si\">%f</span><span class=\"se\">\\n</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;X&quot;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">X 2 3.000000</span>\n<span class=\"go\">13</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>If you have defined your own classes which you pass to function calls, you have\nto implement a <a class=\"reference internal\" href=\"#ctypes._CData.from_param\" title=\"ctypes._CData.from_param\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">from_param()</span></code></a> class method for them to be able to use them\nin the <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a> sequence. The <a class=\"reference internal\" href=\"#ctypes._CData.from_param\" title=\"ctypes._CData.from_param\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">from_param()</span></code></a> class method receives\nthe Python object passed to the function call, it should do a typecheck or\nwhatever is needed to make sure this object is acceptable, and then return the\nobject itself, its <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_as_parameter_</span></code> attribute, or whatever you want to\npass as the C function argument in this case. Again, the result should be an\ninteger, string, bytes, a <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> instance, or an object with an\n<code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_as_parameter_</span></code> attribute.</p>\n</section>\n<section id=\"return-types\">\n<span id=\"ctypes-return-types\"></span><h3>Return types<a class=\"headerlink\" href=\"#return-types\" title=\"Link to this heading\">¶</a></h3>\n<p>By default functions are assumed to return the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">int</span></span> type.  Other\nreturn types can be specified by setting the <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.restype\" title=\"ctypes._CFuncPtr.restype\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">restype</span></code></a> attribute of the\nfunction object.</p>\n<p>The C prototype of <code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">time()</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">time_t</span> <span class=\"pre\">time(time_t</span> <span class=\"pre\">*)</span></code>. Because <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">time_t</span></code>\nmight be of a different type than the default return type <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">int</span></span>, you should\nspecify the <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">restype</span></code> attribute:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">restype</span> <span class=\"o\">=</span> <span class=\"n\">c_time_t</span>\n</pre></div>\n</div>\n<p>The argument types can be specified using <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">argtypes</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_time_t</span><span class=\"p\">),)</span>\n</pre></div>\n</div>\n<p>To call the function with a <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> pointer as first argument, use <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">(</span><span class=\"kc\">None</span><span class=\"p\">))</span>\n<span class=\"go\">1150640792</span>\n</pre></div>\n</div>\n<p>Here is a more advanced example, it uses the <code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">strchr()</span></code> function, which expects\na string pointer and a char, and returns a pointer to a string:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">strchr</span> <span class=\"o\">=</span> <span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">strchr</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">strchr</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;abcdef&quot;</span><span class=\"p\">,</span> <span class=\"nb\">ord</span><span class=\"p\">(</span><span class=\"s2\">&quot;d&quot;</span><span class=\"p\">))</span>\n<span class=\"go\">8059983</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">strchr</span><span class=\"o\">.</span><span class=\"n\">restype</span> <span class=\"o\">=</span> <span class=\"n\">c_char_p</span>    <span class=\"c1\"># c_char_p is a pointer to a string</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">strchr</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;abcdef&quot;</span><span class=\"p\">,</span> <span class=\"nb\">ord</span><span class=\"p\">(</span><span class=\"s2\">&quot;d&quot;</span><span class=\"p\">))</span>\n<span class=\"go\">b&#39;def&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">strchr</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;abcdef&quot;</span><span class=\"p\">,</span> <span class=\"nb\">ord</span><span class=\"p\">(</span><span class=\"s2\">&quot;x&quot;</span><span class=\"p\">)))</span>\n<span class=\"go\">None</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>If you want to avoid the <a class=\"reference internal\" href=\"functions.html#ord\" title=\"ord\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">ord(&quot;x&quot;)</span></code></a> calls above, you can set the\n<a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a> attribute, and the second argument will be converted from a\nsingle character Python bytes object into a C char:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">strchr</span><span class=\"o\">.</span><span class=\"n\">restype</span> <span class=\"o\">=</span> <span class=\"n\">c_char_p</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">strchr</span><span class=\"o\">.</span><span class=\"n\">argtypes</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">c_char_p</span><span class=\"p\">,</span> <span class=\"n\">c_char</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">strchr</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;abcdef&quot;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;d&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">b&#39;def&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">strchr</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;abcdef&quot;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;def&quot;</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"gr\">ctypes.ArgumentError</span>: <span class=\"n\">argument 2: TypeError: one character bytes, bytearray or integer expected</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">strchr</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;abcdef&quot;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;x&quot;</span><span class=\"p\">))</span>\n<span class=\"go\">None</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">strchr</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;abcdef&quot;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;d&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">b&#39;def&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>You can also use a callable Python object (a function or a class for example) as\nthe <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.restype\" title=\"ctypes._CFuncPtr.restype\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">restype</span></code></a> attribute, if the foreign function returns an integer.  The\ncallable will be called with the <em>integer</em> the C function returns, and the\nresult of this call will be used as the result of your function call. This is\nuseful to check for error return values and automatically raise an exception:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">GetModuleHandle</span> <span class=\"o\">=</span> <span class=\"n\">windll</span><span class=\"o\">.</span><span class=\"n\">kernel32</span><span class=\"o\">.</span><span class=\"n\">GetModuleHandleA</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">ValidHandle</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">if</span> <span class=\"n\">value</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>        <span class=\"k\">raise</span> <span class=\"n\">WinError</span><span class=\"p\">()</span>\n<span class=\"gp\">... </span>    <span class=\"k\">return</span> <span class=\"n\">value</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">GetModuleHandle</span><span class=\"o\">.</span><span class=\"n\">restype</span> <span class=\"o\">=</span> <span class=\"n\">ValidHandle</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">GetModuleHandle</span><span class=\"p\">(</span><span class=\"kc\">None</span><span class=\"p\">)</span>\n<span class=\"go\">486539264</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">GetModuleHandle</span><span class=\"p\">(</span><span class=\"s2\">&quot;something silly&quot;</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">3</span>, in <span class=\"n\">ValidHandle</span>\n<span class=\"gr\">OSError</span>: <span class=\"n\">[Errno 126] The specified module could not be found.</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">WinError</span></code> is a function which will call Windows <code class=\"docutils literal notranslate\"><span class=\"pre\">FormatMessage()</span></code> api to\nget the string representation of an error code, and <em>returns</em> an exception.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">WinError</span></code> takes an optional error code parameter, if no one is used, it calls\n<a class=\"reference internal\" href=\"#ctypes.GetLastError\" title=\"ctypes.GetLastError\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">GetLastError()</span></code></a> to retrieve it.</p>\n<p>Please note that a much more powerful error checking mechanism is available\nthrough the <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.errcheck\" title=\"ctypes._CFuncPtr.errcheck\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">errcheck</span></code></a> attribute;\nsee the reference manual for details.</p>\n</section>\n<section id=\"passing-pointers-or-passing-parameters-by-reference\">\n<span id=\"ctypes-passing-pointers\"></span><h3>Passing pointers (or: passing parameters by reference)<a class=\"headerlink\" href=\"#passing-pointers-or-passing-parameters-by-reference\" title=\"Link to this heading\">¶</a></h3>\n<p>Sometimes a C api function expects a <em>pointer</em> to a data type as parameter,\nprobably to write into the corresponding location, or if the data is too large\nto be passed by value. This is also known as <em>passing parameters by reference</em>.</p>\n<p><a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> exports the <a class=\"reference internal\" href=\"#ctypes.byref\" title=\"ctypes.byref\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">byref()</span></code></a> function which is used to pass parameters\nby reference.  The same effect can be achieved with the <a class=\"reference internal\" href=\"#ctypes.pointer\" title=\"ctypes.pointer\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">pointer()</span></code></a> function,\nalthough <a class=\"reference internal\" href=\"#ctypes.pointer\" title=\"ctypes.pointer\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">pointer()</span></code></a> does a lot more work since it constructs a real pointer\nobject, so it is faster to use <a class=\"reference internal\" href=\"#ctypes.byref\" title=\"ctypes.byref\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">byref()</span></code></a> if you don’t need the pointer\nobject in Python itself:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"n\">c_int</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"n\">c_float</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">create_string_buffer</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s1\">&#39;</span><span class=\"se\">\\000</span><span class=\"s1\">&#39;</span> <span class=\"o\">*</span> <span class=\"mi\">32</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"nb\">repr</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">))</span>\n<span class=\"go\">0 0.0 b&#39;&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">sscanf</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">&quot;1 3.14 Hello&quot;</span><span class=\"p\">,</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;</span><span class=\"si\">%d</span><span class=\"s2\"> </span><span class=\"si\">%f</span><span class=\"s2\"> </span><span class=\"si\">%s</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>            <span class=\"n\">byref</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">),</span> <span class=\"n\">byref</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">),</span> <span class=\"n\">s</span><span class=\"p\">)</span>\n<span class=\"go\">3</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"nb\">repr</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">))</span>\n<span class=\"go\">1 3.1400001049 b&#39;Hello&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"structures-and-unions\">\n<span id=\"ctypes-structures-unions\"></span><h3>Structures and unions<a class=\"headerlink\" href=\"#structures-and-unions\" title=\"Link to this heading\">¶</a></h3>\n<p>Structures and unions must derive from the <a class=\"reference internal\" href=\"#ctypes.Structure\" title=\"ctypes.Structure\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Structure</span></code></a> and <a class=\"reference internal\" href=\"#ctypes.Union\" title=\"ctypes.Union\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Union</span></code></a>\nbase classes which are defined in the <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> module. Each subclass must\ndefine a <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> attribute.  <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code> must be a list of\n<em>2-tuples</em>, containing a <em>field name</em> and a <em>field type</em>.</p>\n<p>The field type must be a <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> type like <a class=\"reference internal\" href=\"#ctypes.c_int\" title=\"ctypes.c_int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int</span></code></a>, or any other\nderived <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> type: structure, union, array, pointer.</p>\n<p>Here is a simple example of a POINT structure, which contains two integers named\n<em>x</em> and <em>y</em>, and also shows how to initialize a structure in the constructor:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">POINT</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;x&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>                <span class=\"p\">(</span><span class=\"s2\">&quot;y&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">)]</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">point</span> <span class=\"o\">=</span> <span class=\"n\">POINT</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">)</span>\n<span class=\"go\">10 20</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">point</span> <span class=\"o\">=</span> <span class=\"n\">POINT</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">)</span>\n<span class=\"go\">0 5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">POINT</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"gr\">TypeError</span>: <span class=\"n\">too many initializers</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>You can, however, build much more complicated structures.  A structure can\nitself contain other structures by using a structure as a field type.</p>\n<p>Here is a RECT structure which contains two POINTs named <em>upperleft</em> and\n<em>lowerright</em>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">RECT</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;upperleft&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINT</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>                <span class=\"p\">(</span><span class=\"s2\">&quot;lowerright&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINT</span><span class=\"p\">)]</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rc</span> <span class=\"o\">=</span> <span class=\"n\">RECT</span><span class=\"p\">(</span><span class=\"n\">point</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">upperleft</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">upperleft</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">)</span>\n<span class=\"go\">0 5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">lowerright</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">lowerright</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">)</span>\n<span class=\"go\">0 0</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Nested structures can also be initialized in the constructor in several ways:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"n\">RECT</span><span class=\"p\">(</span><span class=\"n\">POINT</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"n\">POINT</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"n\">RECT</span><span class=\"p\">((</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>Field <a class=\"reference internal\" href=\"../glossary.html#term-descriptor\"><span class=\"xref std std-term\">descriptor</span></a>s can be retrieved from the <em>class</em>, they are useful\nfor debugging because they can provide useful information.\nSee <a class=\"reference internal\" href=\"#ctypes.CField\" title=\"ctypes.CField\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CField</span></code></a>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">POINT</span><span class=\"o\">.</span><span class=\"n\">x</span>\n<span class=\"go\">&lt;ctypes.CField &#39;x&#39; type=c_int, ofs=0, size=4&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">POINT</span><span class=\"o\">.</span><span class=\"n\">y</span>\n<span class=\"go\">&lt;ctypes.CField &#39;y&#39; type=c_int, ofs=4, size=4&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<div class=\"admonition warning\" id=\"ctypes-structureunion-alignment-byte-order\">\n<p class=\"admonition-title\">Warning</p>\n<p><a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> does not support passing unions or structures with bit-fields\nto functions by value.  While this may work on 32-bit x86, it’s not\nguaranteed by the library to work in the general case.  Unions and\nstructures with bit-fields should always be passed to functions by pointer.</p>\n</div>\n</section>\n<section id=\"structure-union-layout-alignment-and-byte-order\">\n<h3>Structure/union layout, alignment and byte order<a class=\"headerlink\" href=\"#structure-union-layout-alignment-and-byte-order\" title=\"Link to this heading\">¶</a></h3>\n<p>By default, Structure and Union fields are laid out in the same way the C\ncompiler does it.  It is possible to override this behavior entirely by specifying a\n<a class=\"reference internal\" href=\"#ctypes.Structure._layout_\" title=\"ctypes.Structure._layout_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_layout_</span></code></a> class attribute in the subclass definition; see\nthe attribute documentation for details.</p>\n<p>It is possible to specify the maximum alignment for the fields and/or for the\nstructure itself by setting the class attributes <a class=\"reference internal\" href=\"#ctypes.Structure._pack_\" title=\"ctypes.Structure._pack_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_pack_</span></code></a>\nand/or <a class=\"reference internal\" href=\"#ctypes.Structure._align_\" title=\"ctypes.Structure._align_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_align_</span></code></a>, respectively.\nSee the attribute documentation for details.</p>\n<p><a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> uses the native byte order for Structures and Unions.  To build\nstructures with non-native byte order, you can use one of the\n<a class=\"reference internal\" href=\"#ctypes.BigEndianStructure\" title=\"ctypes.BigEndianStructure\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BigEndianStructure</span></code></a>, <a class=\"reference internal\" href=\"#ctypes.LittleEndianStructure\" title=\"ctypes.LittleEndianStructure\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">LittleEndianStructure</span></code></a>,\n<a class=\"reference internal\" href=\"#ctypes.BigEndianUnion\" title=\"ctypes.BigEndianUnion\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BigEndianUnion</span></code></a>, and <a class=\"reference internal\" href=\"#ctypes.LittleEndianUnion\" title=\"ctypes.LittleEndianUnion\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">LittleEndianUnion</span></code></a> base classes.  These\nclasses cannot contain pointer fields.</p>\n</section>\n<section id=\"bit-fields-in-structures-and-unions\">\n<span id=\"ctypes-bit-fields-in-structures-unions\"></span><h3>Bit fields in structures and unions<a class=\"headerlink\" href=\"#bit-fields-in-structures-and-unions\" title=\"Link to this heading\">¶</a></h3>\n<p>It is possible to create structures and unions containing bit fields. Bit fields\nare only possible for integer fields, the bit width is specified as the third\nitem in the <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> tuples:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Int</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;first_16&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">,</span> <span class=\"mi\">16</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>                <span class=\"p\">(</span><span class=\"s2\">&quot;second_16&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">,</span> <span class=\"mi\">16</span><span class=\"p\">)]</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">Int</span><span class=\"o\">.</span><span class=\"n\">first_16</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;ctypes.CField &#39;first_16&#39; type=c_int, ofs=0, bit_size=16, bit_offset=0&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">Int</span><span class=\"o\">.</span><span class=\"n\">second_16</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;ctypes.CField &#39;second_16&#39; type=c_int, ofs=0, bit_size=16, bit_offset=16&gt;</span>\n</pre></div>\n</div>\n<p>It is important to note that bit field allocation and layout in memory are not\ndefined as a C standard; their implementation is compiler-specific.\nBy default, Python will attempt to match the behavior of a “native” compiler\nfor the current platform.\nSee the <a class=\"reference internal\" href=\"#ctypes.Structure._layout_\" title=\"ctypes.Structure._layout_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_layout_</span></code></a> attribute for details on the default\nbehavior and how to change it.</p>\n</section>\n<section id=\"arrays\">\n<span id=\"ctypes-arrays\"></span><h3>Arrays<a class=\"headerlink\" href=\"#arrays\" title=\"Link to this heading\">¶</a></h3>\n<p>Arrays are sequences, containing a fixed number of instances of the same type.</p>\n<p>The recommended way to create array types is by multiplying a data type with a\npositive integer:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">TenPointsArrayType</span> <span class=\"o\">=</span> <span class=\"n\">POINT</span> <span class=\"o\">*</span> <span class=\"mi\">10</span>\n</pre></div>\n</div>\n<p>Here is an example of a somewhat artificial data type, a structure containing 4\nPOINTs among other stuff:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">POINT</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s2\">&quot;x&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;y&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MyStruct</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;a&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>                <span class=\"p\">(</span><span class=\"s2\">&quot;b&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_float</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>                <span class=\"p\">(</span><span class=\"s2\">&quot;point_array&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINT</span> <span class=\"o\">*</span> <span class=\"mi\">4</span><span class=\"p\">)]</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">MyStruct</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">point_array</span><span class=\"p\">))</span>\n<span class=\"go\">4</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Instances are created in the usual way, by calling the class:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">arr</span> <span class=\"o\">=</span> <span class=\"n\">TenPointsArrayType</span><span class=\"p\">()</span>\n<span class=\"k\">for</span> <span class=\"n\">pt</span> <span class=\"ow\">in</span> <span class=\"n\">arr</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>The above code print a series of <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span> <span class=\"pre\">0</span></code> lines, because the array contents is\ninitialized to zeros.</p>\n<p>Initializers of the correct type can also be specified:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">TenIntegers</span> <span class=\"o\">=</span> <span class=\"n\">c_int</span> <span class=\"o\">*</span> <span class=\"mi\">10</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ii</span> <span class=\"o\">=</span> <span class=\"n\">TenIntegers</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">ii</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;c_long_Array_10 object at 0x...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">ii</span><span class=\"p\">:</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"o\">=</span><span class=\"s2\">&quot; &quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">1 2 3 4 5 6 7 8 9 10</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"pointers\">\n<span id=\"ctypes-pointers\"></span><h3>Pointers<a class=\"headerlink\" href=\"#pointers\" title=\"Link to this heading\">¶</a></h3>\n<p>Pointer instances are created by calling the <a class=\"reference internal\" href=\"#ctypes.pointer\" title=\"ctypes.pointer\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">pointer()</span></code></a> function on a\n<a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> type:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"n\">c_int</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pi</span> <span class=\"o\">=</span> <span class=\"n\">pointer</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Pointer instances have a <a class=\"reference internal\" href=\"#ctypes._Pointer.contents\" title=\"ctypes._Pointer.contents\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">contents</span></code></a> attribute which\nreturns the object to which the pointer points, the <code class=\"docutils literal notranslate\"><span class=\"pre\">i</span></code> object above:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pi</span><span class=\"o\">.</span><span class=\"n\">contents</span>\n<span class=\"go\">c_long(42)</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Note that <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> does not have OOR (original object return), it constructs a\nnew, equivalent object each time you retrieve an attribute:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pi</span><span class=\"o\">.</span><span class=\"n\">contents</span> <span class=\"ow\">is</span> <span class=\"n\">i</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pi</span><span class=\"o\">.</span><span class=\"n\">contents</span> <span class=\"ow\">is</span> <span class=\"n\">pi</span><span class=\"o\">.</span><span class=\"n\">contents</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Assigning another <a class=\"reference internal\" href=\"#ctypes.c_int\" title=\"ctypes.c_int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int</span></code></a> instance to the pointer’s contents attribute\nwould cause the pointer to point to the memory location where this is stored:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"n\">c_int</span><span class=\"p\">(</span><span class=\"mi\">99</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pi</span><span class=\"o\">.</span><span class=\"n\">contents</span> <span class=\"o\">=</span> <span class=\"n\">i</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pi</span><span class=\"o\">.</span><span class=\"n\">contents</span>\n<span class=\"go\">c_long(99)</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Pointer instances can also be indexed with integers:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pi</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"go\">99</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Assigning to an integer index changes the pointed to value:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span>\n<span class=\"go\">c_long(99)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pi</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">22</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span>\n<span class=\"go\">c_long(22)</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>It is also possible to use indexes different from 0, but you must know what\nyou’re doing, just as in C: You can access or change arbitrary memory locations.\nGenerally you only use this feature if you receive a pointer from a C function,\nand you <em>know</em> that the pointer actually points to an array instead of a single\nitem.</p>\n<p>Behind the scenes, the <a class=\"reference internal\" href=\"#ctypes.pointer\" title=\"ctypes.pointer\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">pointer()</span></code></a> function does more than simply create\npointer instances, it has to create pointer <em>types</em> first. This is done with the\n<a class=\"reference internal\" href=\"#ctypes.POINTER\" title=\"ctypes.POINTER\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">POINTER()</span></code></a> function, which accepts any <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> type, and returns a\nnew type:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">PI</span> <span class=\"o\">=</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">PI</span>\n<span class=\"go\">&lt;class &#39;ctypes.LP_c_long&#39;&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">PI</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"gr\">TypeError</span>: <span class=\"n\">expected c_long instead of int</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">PI</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">))</span>\n<span class=\"go\">&lt;ctypes.LP_c_long object at 0x...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Calling the pointer type without an argument creates a <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> pointer.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> pointers have a <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> boolean value:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">null_ptr</span> <span class=\"o\">=</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">)()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">bool</span><span class=\"p\">(</span><span class=\"n\">null_ptr</span><span class=\"p\">))</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p><a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> checks for <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> when dereferencing pointers (but dereferencing\ninvalid non-<code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> pointers would crash Python):</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">null_ptr</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"w\">    </span><span class=\"o\">....</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">NULL pointer access</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">null_ptr</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1234</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"w\">    </span><span class=\"o\">....</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">NULL pointer access</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"thread-safety-without-the-gil\">\n<span id=\"ctypes-thread-safety\"></span><h3>Thread safety without the GIL<a class=\"headerlink\" href=\"#thread-safety-without-the-gil\" title=\"Link to this heading\">¶</a></h3>\n<p>From Python 3.13 onward, the <a class=\"reference internal\" href=\"../glossary.html#term-GIL\"><span class=\"xref std std-term\">GIL</span></a> can be disabled on <a class=\"reference internal\" href=\"../glossary.html#term-free-threading\"><span class=\"xref std std-term\">free threaded</span></a> builds.\nIn ctypes, reads and writes to a single object concurrently is safe, but not across multiple objects:</p>\n<blockquote>\n<div><div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">number</span> <span class=\"o\">=</span> <span class=\"n\">c_int</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pointer_a</span> <span class=\"o\">=</span> <span class=\"n\">pointer</span><span class=\"p\">(</span><span class=\"n\">number</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pointer_b</span> <span class=\"o\">=</span> <span class=\"n\">pointer</span><span class=\"p\">(</span><span class=\"n\">number</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div></blockquote>\n<p>In the above, it’s only safe for one object to read and write to the address at once if the GIL is disabled.\nSo, <code class=\"docutils literal notranslate\"><span class=\"pre\">pointer_a</span></code> can be shared and written to across multiple threads, but only if <code class=\"docutils literal notranslate\"><span class=\"pre\">pointer_b</span></code>\nis not also attempting to do the same. If this is an issue, consider using a <a class=\"reference internal\" href=\"threading.html#threading.Lock\" title=\"threading.Lock\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.Lock</span></code></a>\nto synchronize access to memory:</p>\n<blockquote>\n<div><div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">threading</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">lock</span> <span class=\"o\">=</span> <span class=\"n\">threading</span><span class=\"o\">.</span><span class=\"n\">Lock</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Thread 1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">with</span> <span class=\"n\">lock</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>   <span class=\"n\">pointer_a</span><span class=\"o\">.</span><span class=\"n\">contents</span> <span class=\"o\">=</span> <span class=\"mi\">24</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Thread 2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">with</span> <span class=\"n\">lock</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>   <span class=\"n\">pointer_b</span><span class=\"o\">.</span><span class=\"n\">contents</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>\n</pre></div>\n</div>\n</div></blockquote>\n</section>\n<section id=\"type-conversions\">\n<span id=\"ctypes-type-conversions\"></span><h3>Type conversions<a class=\"headerlink\" href=\"#type-conversions\" title=\"Link to this heading\">¶</a></h3>\n<p>Usually, ctypes does strict type checking.  This means, if you have\n<code class=\"docutils literal notranslate\"><span class=\"pre\">POINTER(c_int)</span></code> in the <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a> list of a function or as the type of\na member field in a structure definition, only instances of exactly the same\ntype are accepted.  There are some exceptions to this rule, where ctypes accepts\nother objects.  For example, you can pass compatible array instances instead of\npointer types.  So, for <code class=\"docutils literal notranslate\"><span class=\"pre\">POINTER(c_int)</span></code>, ctypes accepts an array of c_int:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Bar</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;count&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;values&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">))]</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bar</span> <span class=\"o\">=</span> <span class=\"n\">Bar</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bar</span><span class=\"o\">.</span><span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">c_int</span> <span class=\"o\">*</span> <span class=\"mi\">3</span><span class=\"p\">)(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bar</span><span class=\"o\">.</span><span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"mi\">3</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">bar</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">bar</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">])</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">1</span>\n<span class=\"go\">2</span>\n<span class=\"go\">3</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>In addition, if a function argument is explicitly declared to be a pointer type\n(such as <code class=\"docutils literal notranslate\"><span class=\"pre\">POINTER(c_int)</span></code>) in <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a>, an object of the pointed\ntype (<code class=\"docutils literal notranslate\"><span class=\"pre\">c_int</span></code> in this case) can be passed to the function.  ctypes will apply\nthe required <a class=\"reference internal\" href=\"#ctypes.byref\" title=\"ctypes.byref\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">byref()</span></code></a> conversion in this case automatically.</p>\n<p>To set a POINTER type field to <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code>, you can assign <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bar</span><span class=\"o\">.</span><span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Sometimes you have instances of incompatible types.  In C, you can cast one type\ninto another type.  <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> provides a <a class=\"reference internal\" href=\"#ctypes.cast\" title=\"ctypes.cast\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">cast()</span></code></a> function which can be\nused in the same way.  The <code class=\"docutils literal notranslate\"><span class=\"pre\">Bar</span></code> structure defined above accepts\n<code class=\"docutils literal notranslate\"><span class=\"pre\">POINTER(c_int)</span></code> pointers or <a class=\"reference internal\" href=\"#ctypes.c_int\" title=\"ctypes.c_int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int</span></code></a> arrays for its <code class=\"docutils literal notranslate\"><span class=\"pre\">values</span></code> field,\nbut not instances of other types:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bar</span><span class=\"o\">.</span><span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">c_byte</span> <span class=\"o\">*</span> <span class=\"mi\">4</span><span class=\"p\">)()</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"gr\">TypeError</span>: <span class=\"n\">incompatible types, c_byte_Array_4 instance instead of LP_c_long instance</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>For these cases, the <a class=\"reference internal\" href=\"#ctypes.cast\" title=\"ctypes.cast\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">cast()</span></code></a> function is handy.</p>\n<p>The <a class=\"reference internal\" href=\"#ctypes.cast\" title=\"ctypes.cast\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">cast()</span></code></a> function can be used to cast a ctypes instance into a pointer\nto a different ctypes data type.  <a class=\"reference internal\" href=\"#ctypes.cast\" title=\"ctypes.cast\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">cast()</span></code></a> takes two parameters, a ctypes\nobject that is or can be converted to a pointer of some kind, and a ctypes\npointer type.  It returns an instance of the second argument, which references\nthe same memory block as the first argument:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">c_byte</span> <span class=\"o\">*</span> <span class=\"mi\">4</span><span class=\"p\">)()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cast</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">))</span>\n<span class=\"go\">&lt;ctypes.LP_c_long object at ...&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>So, <a class=\"reference internal\" href=\"#ctypes.cast\" title=\"ctypes.cast\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">cast()</span></code></a> can be used to assign to the <code class=\"docutils literal notranslate\"><span class=\"pre\">values</span></code> field of <code class=\"docutils literal notranslate\"><span class=\"pre\">Bar</span></code> the\nstructure:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bar</span> <span class=\"o\">=</span> <span class=\"n\">Bar</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bar</span><span class=\"o\">.</span><span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"n\">cast</span><span class=\"p\">((</span><span class=\"n\">c_byte</span> <span class=\"o\">*</span> <span class=\"mi\">4</span><span class=\"p\">)(),</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">bar</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"go\">0</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"incomplete-types\">\n<span id=\"ctypes-incomplete-types\"></span><h3>Incomplete Types<a class=\"headerlink\" href=\"#incomplete-types\" title=\"Link to this heading\">¶</a></h3>\n<p><em>Incomplete Types</em> are structures, unions or arrays whose members are not yet\nspecified. In C, they are specified by forward declarations, which are defined\nlater:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">struct</span> <span class=\"n\">cell</span><span class=\"p\">;</span> <span class=\"o\">/*</span> <span class=\"n\">forward</span> <span class=\"n\">declaration</span> <span class=\"o\">*/</span>\n\n<span class=\"n\">struct</span> <span class=\"n\">cell</span> <span class=\"p\">{</span>\n    <span class=\"n\">char</span> <span class=\"o\">*</span><span class=\"n\">name</span><span class=\"p\">;</span>\n    <span class=\"n\">struct</span> <span class=\"n\">cell</span> <span class=\"o\">*</span><span class=\"nb\">next</span><span class=\"p\">;</span>\n<span class=\"p\">};</span>\n</pre></div>\n</div>\n<p>The straightforward translation into ctypes code would be this, but it does not\nwork:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">cell</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_char_p</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>                <span class=\"p\">(</span><span class=\"s2\">&quot;next&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">cell</span><span class=\"p\">))]</span>\n<span class=\"gp\">...</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n  File <span class=\"nb\">&quot;&lt;stdin&gt;&quot;</span>, line <span class=\"m\">2</span>, in <span class=\"n\">cell</span>\n<span class=\"gr\">NameError</span>: <span class=\"n\">name &#39;cell&#39; is not defined</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>because the new <code class=\"docutils literal notranslate\"><span class=\"pre\">class</span> <span class=\"pre\">cell</span></code> is not available in the class statement itself.\nIn <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a>, we can define the <code class=\"docutils literal notranslate\"><span class=\"pre\">cell</span></code> class and set the\n<a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> attribute later, after the class statement:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">cell</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">pass</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cell</span><span class=\"o\">.</span><span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_char_p</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>                 <span class=\"p\">(</span><span class=\"s2\">&quot;next&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">cell</span><span class=\"p\">))]</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Let’s try it. We create two instances of <code class=\"docutils literal notranslate\"><span class=\"pre\">cell</span></code>, and let them point to each\nother, and finally follow the pointer chain a few times:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c1</span> <span class=\"o\">=</span> <span class=\"n\">cell</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c1</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;foo&quot;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c2</span> <span class=\"o\">=</span> <span class=\"n\">cell</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c2</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;bar&quot;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c1</span><span class=\"o\">.</span><span class=\"n\">next</span> <span class=\"o\">=</span> <span class=\"n\">pointer</span><span class=\"p\">(</span><span class=\"n\">c2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c2</span><span class=\"o\">.</span><span class=\"n\">next</span> <span class=\"o\">=</span> <span class=\"n\">pointer</span><span class=\"p\">(</span><span class=\"n\">c1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">c1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"o\">=</span><span class=\"s2\">&quot; &quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">next</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">foo bar foo bar foo bar foo bar</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"callback-functions\">\n<span id=\"ctypes-callback-functions\"></span><h3>Callback functions<a class=\"headerlink\" href=\"#callback-functions\" title=\"Link to this heading\">¶</a></h3>\n<p><a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> allows creating C callable function pointers from Python callables.\nThese are sometimes called <em>callback functions</em>.</p>\n<p>First, you must create a class for the callback function. The class knows the\ncalling convention, the return type, and the number and types of arguments this\nfunction will receive.</p>\n<p>The <a class=\"reference internal\" href=\"#ctypes.CFUNCTYPE\" title=\"ctypes.CFUNCTYPE\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">CFUNCTYPE()</span></code></a> factory function creates types for callback functions\nusing the <code class=\"docutils literal notranslate\"><span class=\"pre\">cdecl</span></code> calling convention. On Windows, the <a class=\"reference internal\" href=\"#ctypes.WINFUNCTYPE\" title=\"ctypes.WINFUNCTYPE\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">WINFUNCTYPE()</span></code></a>\nfactory function creates types for callback functions using the <code class=\"docutils literal notranslate\"><span class=\"pre\">stdcall</span></code>\ncalling convention.</p>\n<p>Both of these factory functions are called with the result type as first\nargument, and the callback functions expected argument types as the remaining\narguments.</p>\n<p>I will present an example here which uses the standard C library’s\n<code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">qsort()</span></code> function, that is used to sort items with the help of a callback\nfunction.  <code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">qsort()</span></code> will be used to sort an array of integers:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">IntArray5</span> <span class=\"o\">=</span> <span class=\"n\">c_int</span> <span class=\"o\">*</span> <span class=\"mi\">5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ia</span> <span class=\"o\">=</span> <span class=\"n\">IntArray5</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">33</span><span class=\"p\">,</span> <span class=\"mi\">99</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qsort</span> <span class=\"o\">=</span> <span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">qsort</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qsort</span><span class=\"o\">.</span><span class=\"n\">restype</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">qsort()</span></code> must be called with a pointer to the data to sort, the number of\nitems in the data array, the size of one item, and a pointer to the comparison\nfunction, the callback. The callback will then be called with two pointers to\nitems, and it must return a negative integer if the first item is smaller than\nthe second, a zero if they are equal, and a positive integer otherwise.</p>\n<p>So our callback function receives pointers to integers, and must return an\ninteger. First we create the <code class=\"docutils literal notranslate\"><span class=\"pre\">type</span></code> for the callback function:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">CMPFUNC</span> <span class=\"o\">=</span> <span class=\"n\">CFUNCTYPE</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">),</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>To get started, here is a simple callback that shows the values it gets\npassed:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">py_cmp_func</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;py_cmp_func&quot;</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">b</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"gp\">... </span>    <span class=\"k\">return</span> <span class=\"mi\">0</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cmp_func</span> <span class=\"o\">=</span> <span class=\"n\">CMPFUNC</span><span class=\"p\">(</span><span class=\"n\">py_cmp_func</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>The result:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qsort</span><span class=\"p\">(</span><span class=\"n\">ia</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">ia</span><span class=\"p\">),</span> <span class=\"n\">sizeof</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">),</span> <span class=\"n\">cmp_func</span><span class=\"p\">)</span>\n<span class=\"go\">py_cmp_func 5 1</span>\n<span class=\"go\">py_cmp_func 33 99</span>\n<span class=\"go\">py_cmp_func 7 33</span>\n<span class=\"go\">py_cmp_func 5 7</span>\n<span class=\"go\">py_cmp_func 1 7</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Now we can actually compare the two items and return a useful result:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">py_cmp_func</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;py_cmp_func&quot;</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">b</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"gp\">... </span>    <span class=\"k\">return</span> <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"n\">b</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qsort</span><span class=\"p\">(</span><span class=\"n\">ia</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">ia</span><span class=\"p\">),</span> <span class=\"n\">sizeof</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">),</span> <span class=\"n\">CMPFUNC</span><span class=\"p\">(</span><span class=\"n\">py_cmp_func</span><span class=\"p\">))</span>\n<span class=\"go\">py_cmp_func 5 1</span>\n<span class=\"go\">py_cmp_func 33 99</span>\n<span class=\"go\">py_cmp_func 7 33</span>\n<span class=\"go\">py_cmp_func 1 7</span>\n<span class=\"go\">py_cmp_func 5 7</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>As we can easily check, our array is sorted now:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">ia</span><span class=\"p\">:</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"o\">=</span><span class=\"s2\">&quot; &quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">1 5 7 33 99</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>The function factories can be used as decorator factories, so we may as well\nwrite:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nd\">@CFUNCTYPE</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">),</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">))</span>\n<span class=\"gp\">... </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">py_cmp_func</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;py_cmp_func&quot;</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">b</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"gp\">... </span>    <span class=\"k\">return</span> <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"n\">b</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qsort</span><span class=\"p\">(</span><span class=\"n\">ia</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">ia</span><span class=\"p\">),</span> <span class=\"n\">sizeof</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">),</span> <span class=\"n\">py_cmp_func</span><span class=\"p\">)</span>\n<span class=\"go\">py_cmp_func 5 1</span>\n<span class=\"go\">py_cmp_func 33 99</span>\n<span class=\"go\">py_cmp_func 7 33</span>\n<span class=\"go\">py_cmp_func 1 7</span>\n<span class=\"go\">py_cmp_func 5 7</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Make sure you keep references to <a class=\"reference internal\" href=\"#ctypes.CFUNCTYPE\" title=\"ctypes.CFUNCTYPE\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">CFUNCTYPE()</span></code></a> objects as long as they\nare used from C code. <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> doesn’t, and if you don’t, they may be\ngarbage collected, crashing your program when a callback is made.</p>\n<p>Also, note that if the callback function is called in a thread created\noutside of Python’s control (e.g. by the foreign code that calls the\ncallback), ctypes creates a new dummy Python thread on every invocation. This\nbehavior is correct for most purposes, but it means that values stored with\n<a class=\"reference internal\" href=\"threading.html#threading.local\" title=\"threading.local\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">threading.local</span></code></a> will <em>not</em> survive across different callbacks, even when\nthose calls are made from the same C thread.</p>\n</div>\n</section>\n<section id=\"accessing-values-exported-from-dlls\">\n<span id=\"ctypes-accessing-values-exported-from-dlls\"></span><h3>Accessing values exported from dlls<a class=\"headerlink\" href=\"#accessing-values-exported-from-dlls\" title=\"Link to this heading\">¶</a></h3>\n<p>Some shared libraries not only export functions, they also export variables. An\nexample in the Python library itself is the <a class=\"reference internal\" href=\"../c-api/apiabiversion.html#c.Py_Version\" title=\"Py_Version\"><code class=\"xref c c-data docutils literal notranslate\"><span class=\"pre\">Py_Version</span></code></a>, Python\nruntime version number encoded in a single constant integer.</p>\n<p><a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> can access values like this with the <a class=\"reference internal\" href=\"#ctypes._CData.in_dll\" title=\"ctypes._CData.in_dll\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">in_dll()</span></code></a> class methods of\nthe type.  <em>pythonapi</em> is a predefined symbol giving access to the Python C\napi:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">version</span> <span class=\"o\">=</span> <span class=\"n\">ctypes</span><span class=\"o\">.</span><span class=\"n\">c_int</span><span class=\"o\">.</span><span class=\"n\">in_dll</span><span class=\"p\">(</span><span class=\"n\">ctypes</span><span class=\"o\">.</span><span class=\"n\">pythonapi</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Py_Version&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">hex</span><span class=\"p\">(</span><span class=\"n\">version</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">))</span>\n<span class=\"go\">0x30c00a0</span>\n</pre></div>\n</div>\n<p>An extended example which also demonstrates the use of pointers accesses the\n<a class=\"reference internal\" href=\"../c-api/import.html#c.PyImport_FrozenModules\" title=\"PyImport_FrozenModules\"><code class=\"xref c c-data docutils literal notranslate\"><span class=\"pre\">PyImport_FrozenModules</span></code></a> pointer exported by Python.</p>\n<p>Quoting the docs for that value:</p>\n<blockquote>\n<div><p>This pointer is initialized to point to an array of <a class=\"reference internal\" href=\"../c-api/import.html#c._frozen\" title=\"_frozen\"><code class=\"xref c c-struct docutils literal notranslate\"><span class=\"pre\">_frozen</span></code></a>\nrecords, terminated by one whose members are all <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> or zero.  When a frozen\nmodule is imported, it is searched in this table.  Third-party code could play\ntricks with this to provide a dynamically created collection of frozen modules.</p>\n</div></blockquote>\n<p>So manipulating this pointer could even prove useful. To restrict the example\nsize, we show only how this table can be read with <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">struct_frozen</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_char_p</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>                <span class=\"p\">(</span><span class=\"s2\">&quot;code&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_ubyte</span><span class=\"p\">)),</span>\n<span class=\"gp\">... </span>                <span class=\"p\">(</span><span class=\"s2\">&quot;size&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>                <span class=\"p\">(</span><span class=\"s2\">&quot;get_code&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">c_ubyte</span><span class=\"p\">)),</span>  <span class=\"c1\"># Function pointer</span>\n<span class=\"gp\">... </span>               <span class=\"p\">]</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>We have defined the <a class=\"reference internal\" href=\"../c-api/import.html#c._frozen\" title=\"_frozen\"><code class=\"xref c c-struct docutils literal notranslate\"><span class=\"pre\">_frozen</span></code></a> data type, so we can get the pointer\nto the table:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">FrozenTable</span> <span class=\"o\">=</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">struct_frozen</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">table</span> <span class=\"o\">=</span> <span class=\"n\">FrozenTable</span><span class=\"o\">.</span><span class=\"n\">in_dll</span><span class=\"p\">(</span><span class=\"n\">pythonapi</span><span class=\"p\">,</span> <span class=\"s2\">&quot;_PyImport_FrozenBootstrap&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Since <code class=\"docutils literal notranslate\"><span class=\"pre\">table</span></code> is a <code class=\"docutils literal notranslate\"><span class=\"pre\">pointer</span></code> to the array of <code class=\"docutils literal notranslate\"><span class=\"pre\">struct_frozen</span></code> records, we\ncan iterate over it, but we just have to make sure that our loop terminates,\nbecause pointers have no size. Sooner or later it would probably crash with an\naccess violation or whatever, so it’s better to break out of the loop when we\nhit the <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> entry:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">item</span> <span class=\"ow\">in</span> <span class=\"n\">table</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"k\">if</span> <span class=\"n\">item</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>        <span class=\"k\">break</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">item</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">(</span><span class=\"s2\">&quot;ascii&quot;</span><span class=\"p\">),</span> <span class=\"n\">item</span><span class=\"o\">.</span><span class=\"n\">size</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">_frozen_importlib 31764</span>\n<span class=\"go\">_frozen_importlib_external 41499</span>\n<span class=\"go\">zipimport 12345</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>The fact that standard Python has a frozen module and a frozen package\n(indicated by the negative <code class=\"docutils literal notranslate\"><span class=\"pre\">size</span></code> member) is not well known, it is only used\nfor testing. Try it out with <code class=\"docutils literal notranslate\"><span class=\"pre\">import</span> <span class=\"pre\">__hello__</span></code> for example.</p>\n</section>\n<section id=\"surprises\">\n<span id=\"ctypes-surprises\"></span><h3>Surprises<a class=\"headerlink\" href=\"#surprises\" title=\"Link to this heading\">¶</a></h3>\n<p>There are some edges in <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> where you might expect something other\nthan what actually happens.</p>\n<p>Consider the following example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">POINT</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s2\">&quot;x&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;y&quot;</span><span class=\"p\">,</span> <span class=\"n\">c_int</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">RECT</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s2\">&quot;a&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINT</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;b&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINT</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p1</span> <span class=\"o\">=</span> <span class=\"n\">POINT</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p2</span> <span class=\"o\">=</span> <span class=\"n\">POINT</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rc</span> <span class=\"o\">=</span> <span class=\"n\">RECT</span><span class=\"p\">(</span><span class=\"n\">p1</span><span class=\"p\">,</span> <span class=\"n\">p2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">)</span>\n<span class=\"go\">1 2 3 4</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># now swap the two points</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">a</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">)</span>\n<span class=\"go\">3 4 3 4</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Hm. We certainly expected the last statement to print <code class=\"docutils literal notranslate\"><span class=\"pre\">3</span> <span class=\"pre\">4</span> <span class=\"pre\">1</span> <span class=\"pre\">2</span></code>. What\nhappened? Here are the steps of the <code class=\"docutils literal notranslate\"><span class=\"pre\">rc.a,</span> <span class=\"pre\">rc.b</span> <span class=\"pre\">=</span> <span class=\"pre\">rc.b,</span> <span class=\"pre\">rc.a</span></code> line above:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">temp0</span><span class=\"p\">,</span> <span class=\"n\">temp1</span> <span class=\"o\">=</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">a</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">temp0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">temp1</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Note that <code class=\"docutils literal notranslate\"><span class=\"pre\">temp0</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">temp1</span></code> are objects still using the internal buffer of\nthe <code class=\"docutils literal notranslate\"><span class=\"pre\">rc</span></code> object above. So executing <code class=\"docutils literal notranslate\"><span class=\"pre\">rc.a</span> <span class=\"pre\">=</span> <span class=\"pre\">temp0</span></code> copies the buffer\ncontents of <code class=\"docutils literal notranslate\"><span class=\"pre\">temp0</span></code> into <code class=\"docutils literal notranslate\"><span class=\"pre\">rc</span></code> ‘s buffer.  This, in turn, changes the\ncontents of <code class=\"docutils literal notranslate\"><span class=\"pre\">temp1</span></code>. So, the last assignment <code class=\"docutils literal notranslate\"><span class=\"pre\">rc.b</span> <span class=\"pre\">=</span> <span class=\"pre\">temp1</span></code>, doesn’t have\nthe expected effect.</p>\n<p>Keep in mind that retrieving sub-objects from Structure, Unions, and Arrays\ndoesn’t <em>copy</em> the sub-object, instead it retrieves a wrapper object accessing\nthe root-object’s underlying buffer.</p>\n<p>Another example that may behave differently from what one would expect is this:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">c_char_p</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s2\">&quot;abc def ghi&quot;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">value</span>\n<span class=\"go\">b&#39;abc def ghi&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">value</span> <span class=\"ow\">is</span> <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">value</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Objects instantiated from <a class=\"reference internal\" href=\"#ctypes.c_char_p\" title=\"ctypes.c_char_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_char_p</span></code></a> can only have their value set to bytes\nor integers.</p>\n</div>\n<p>Why is it printing <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>?  ctypes instances are objects containing a memory\nblock plus some <a class=\"reference internal\" href=\"../glossary.html#term-descriptor\"><span class=\"xref std std-term\">descriptor</span></a>s accessing the contents of the memory.\nStoring a Python object in the memory block does not store the object itself,\ninstead the <code class=\"docutils literal notranslate\"><span class=\"pre\">contents</span></code> of the object is stored.  Accessing the contents again\nconstructs a new Python object each time!</p>\n</section>\n<section id=\"variable-sized-data-types\">\n<span id=\"ctypes-variable-sized-data-types\"></span><h3>Variable-sized data types<a class=\"headerlink\" href=\"#variable-sized-data-types\" title=\"Link to this heading\">¶</a></h3>\n<p><a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> provides some support for variable-sized arrays and structures.</p>\n<p>The <a class=\"reference internal\" href=\"#ctypes.resize\" title=\"ctypes.resize\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">resize()</span></code></a> function can be used to resize the memory buffer of an\nexisting ctypes object.  The function takes the object as first argument, and\nthe requested size in bytes as the second argument.  The memory block cannot be\nmade smaller than the natural memory block specified by the objects type, a\n<a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised if this is tried:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">short_array</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">c_short</span> <span class=\"o\">*</span> <span class=\"mi\">4</span><span class=\"p\">)()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">sizeof</span><span class=\"p\">(</span><span class=\"n\">short_array</span><span class=\"p\">))</span>\n<span class=\"go\">8</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">resize</span><span class=\"p\">(</span><span class=\"n\">short_array</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"w\">    </span><span class=\"o\">...</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">minimum size is 8</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">resize</span><span class=\"p\">(</span><span class=\"n\">short_array</span><span class=\"p\">,</span> <span class=\"mi\">32</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sizeof</span><span class=\"p\">(</span><span class=\"n\">short_array</span><span class=\"p\">)</span>\n<span class=\"go\">32</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sizeof</span><span class=\"p\">(</span><span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"n\">short_array</span><span class=\"p\">))</span>\n<span class=\"go\">8</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>This is nice and fine, but how would one access the additional elements\ncontained in this array?  Since the type still only knows about 4 elements, we\nget errors accessing other elements:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">short_array</span><span class=\"p\">[:]</span>\n<span class=\"go\">[0, 0, 0, 0]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">short_array</span><span class=\"p\">[</span><span class=\"mi\">7</span><span class=\"p\">]</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"w\">    </span><span class=\"o\">...</span>\n<span class=\"gr\">IndexError</span>: <span class=\"n\">invalid index</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Another way to use variable-sized data types with <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> is to use the\ndynamic nature of Python, and (re-)define the data type after the required size\nis already known, on a case by case basis.</p>\n</section>\n</section>\n<section id=\"ctypes-reference\">\n<span id=\"ctypes-ctypes-reference\"></span><h2>ctypes reference<a class=\"headerlink\" href=\"#ctypes-reference\" title=\"Link to this heading\">¶</a></h2>\n<section id=\"finding-shared-libraries\">\n<span id=\"ctypes-finding-shared-libraries\"></span><h3>Finding shared libraries<a class=\"headerlink\" href=\"#finding-shared-libraries\" title=\"Link to this heading\">¶</a></h3>\n<p>When programming in a compiled language, shared libraries are accessed when\ncompiling/linking a program, and when the program is run.</p>\n<p>The purpose of the <a class=\"reference internal\" href=\"#ctypes.util.find_library\" title=\"ctypes.util.find_library\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">find_library()</span></code></a> function is to locate a library in a way\nsimilar to what the compiler or runtime loader does (on platforms with several\nversions of a shared library the most recent should be loaded), while the ctypes\nlibrary loaders act like when a program is run, and call the runtime loader\ndirectly.</p>\n<p>The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes.util</span></code> module provides a function which can help to determine\nthe library to load.</p>\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.util.</span></span><span class=\"sig-name descname\"><span class=\"pre\">find_library</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dd><p>Try to find a library and return a pathname.  <em>name</em> is the library name without\nany prefix like <em>lib</em>, suffix like <code class=\"docutils literal notranslate\"><span class=\"pre\">.so</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">.dylib</span></code> or version number (this\nis the form used for the posix linker option <code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">-l</span></code>).  If no library can\nbe found, returns <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n</dd></dl>\n\n<p>The exact functionality is system dependent.</p>\n<p>On Linux, <a class=\"reference internal\" href=\"#ctypes.util.find_library\" title=\"ctypes.util.find_library\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">find_library()</span></code></a> tries to run external programs\n(<code class=\"docutils literal notranslate\"><span class=\"pre\">/sbin/ldconfig</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">gcc</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">objdump</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">ld</span></code>) to find the library file.\nIt returns the filename of the library file.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.6: </span>On Linux, the value of the environment variable <code class=\"docutils literal notranslate\"><span class=\"pre\">LD_LIBRARY_PATH</span></code> is used\nwhen searching for libraries, if a library cannot be found by any other means.</p>\n</div>\n<p>Here are some examples:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes.util</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">find_library</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">find_library</span><span class=\"p\">(</span><span class=\"s2\">&quot;m&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">&#39;libm.so.6&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">find_library</span><span class=\"p\">(</span><span class=\"s2\">&quot;c&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">&#39;libc.so.6&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">find_library</span><span class=\"p\">(</span><span class=\"s2\">&quot;bz2&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">&#39;libbz2.so.1.0&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>On macOS and Android, <a class=\"reference internal\" href=\"#ctypes.util.find_library\" title=\"ctypes.util.find_library\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">find_library()</span></code></a> uses the system’s\nstandard naming schemes and paths to locate the library, and returns a full\npathname if successful:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes.util</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">find_library</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">find_library</span><span class=\"p\">(</span><span class=\"s2\">&quot;c&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">&#39;/usr/lib/libc.dylib&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">find_library</span><span class=\"p\">(</span><span class=\"s2\">&quot;m&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">&#39;/usr/lib/libm.dylib&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">find_library</span><span class=\"p\">(</span><span class=\"s2\">&quot;bz2&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">&#39;/usr/lib/libbz2.dylib&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">find_library</span><span class=\"p\">(</span><span class=\"s2\">&quot;AGL&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">&#39;/System/Library/Frameworks/AGL.framework/AGL&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>On Windows, <a class=\"reference internal\" href=\"#ctypes.util.find_library\" title=\"ctypes.util.find_library\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">find_library()</span></code></a> searches along the system search path, and\nreturns the full pathname, but since there is no predefined naming scheme a call\nlike <code class=\"docutils literal notranslate\"><span class=\"pre\">find_library(&quot;c&quot;)</span></code> will fail and return <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n<p>If wrapping a shared library with <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a>, it <em>may</em> be better to determine\nthe shared library name at development time, and hardcode that into the wrapper\nmodule instead of using <a class=\"reference internal\" href=\"#ctypes.util.find_library\" title=\"ctypes.util.find_library\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">find_library()</span></code></a> to locate the library at runtime.</p>\n</section>\n<section id=\"listing-loaded-shared-libraries\">\n<span id=\"ctypes-listing-loaded-shared-libraries\"></span><h3>Listing loaded shared libraries<a class=\"headerlink\" href=\"#listing-loaded-shared-libraries\" title=\"Link to this heading\">¶</a></h3>\n<p>When writing code that relies on code loaded from shared libraries, it can be\nuseful to know which shared libraries have already been loaded into the current\nprocess.</p>\n<p>The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes.util</span></code> module provides the <a class=\"reference internal\" href=\"#ctypes.util.dllist\" title=\"ctypes.util.dllist\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">dllist()</span></code></a> function,\nwhich calls the different APIs provided by the various platforms to help determine\nwhich shared libraries have already been loaded into the current process.</p>\n<p>The exact output of this function will be system dependent. On most platforms,\nthe first entry of this list represents the current process itself, which may\nbe an empty string.\nFor example, on glibc-based Linux, the return may look like:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes.util</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dllist</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">dllist</span><span class=\"p\">()</span>\n<span class=\"go\">[&#39;&#39;, &#39;linux-vdso.so.1&#39;, &#39;/lib/x86_64-linux-gnu/libm.so.6&#39;, &#39;/lib/x86_64-linux-gnu/libc.so.6&#39;, ... ]</span>\n</pre></div>\n</div>\n</section>\n<section id=\"loading-shared-libraries\">\n<span id=\"ctypes-loading-shared-libraries\"></span><h3>Loading shared libraries<a class=\"headerlink\" href=\"#loading-shared-libraries\" title=\"Link to this heading\">¶</a></h3>\n<p>There are several ways to load shared libraries into the Python process.  One\nway is to instantiate one of the following classes:</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CDLL\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">CDLL</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">mode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">DEFAULT_MODE</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">handle</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_errno</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_last_error</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">winmode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.CDLL\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Instances of this class represent loaded shared libraries. Functions in these\nlibraries use the standard C calling convention, and are assumed to return\n<span class=\"c-expr sig sig-inline c\"><span class=\"kt\">int</span></span>.</p>\n<p>On Windows creating a <a class=\"reference internal\" href=\"#ctypes.CDLL\" title=\"ctypes.CDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CDLL</span></code></a> instance may fail even if the DLL name\nexists. When a dependent DLL of the loaded DLL is not found, a\n<a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a> error is raised with the message <em>“[WinError 126] The\nspecified module could not be found”.</em> This error message does not contain\nthe name of the missing DLL because the Windows API does not return this\ninformation making this error hard to diagnose. To resolve this error and\ndetermine which DLL is not found, you need to find the list of dependent\nDLLs and determine which one is not found using Windows debugging and\ntracing tools.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span>The <em>name</em> parameter can now be a <a class=\"reference internal\" href=\"../glossary.html#term-path-like-object\"><span class=\"xref std std-term\">path-like object</span></a>.</p>\n</div>\n</dd></dl>\n\n<div class=\"admonition seealso\">\n<p class=\"admonition-title\">See also</p>\n<p><a class=\"reference external\" href=\"https://docs.microsoft.com/cpp/build/reference/dependents\">Microsoft DUMPBIN tool</a>\n– A tool to find DLL dependents.</p>\n</div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.OleDLL\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">OleDLL</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">mode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">DEFAULT_MODE</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">handle</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_errno</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_last_error</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">winmode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.OleDLL\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Instances of this class represent loaded shared libraries,\nfunctions in these libraries use the <code class=\"docutils literal notranslate\"><span class=\"pre\">stdcall</span></code> calling convention, and are\nassumed to return the windows specific <a class=\"reference internal\" href=\"#ctypes.HRESULT\" title=\"ctypes.HRESULT\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">HRESULT</span></code></a> code.  <a class=\"reference internal\" href=\"#ctypes.HRESULT\" title=\"ctypes.HRESULT\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">HRESULT</span></code></a>\nvalues contain information specifying whether the function call failed or\nsucceeded, together with additional error code.  If the return value signals a\nfailure, an <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a> is automatically raised.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span><a class=\"reference internal\" href=\"exceptions.html#WindowsError\" title=\"WindowsError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">WindowsError</span></code></a> used to be raised,\nwhich is now an alias of <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a>.</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span>The <em>name</em> parameter can now be a <a class=\"reference internal\" href=\"../glossary.html#term-path-like-object\"><span class=\"xref std std-term\">path-like object</span></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.WinDLL\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">WinDLL</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">mode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">DEFAULT_MODE</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">handle</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_errno</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_last_error</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">winmode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.WinDLL\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Instances of this class represent loaded shared libraries,\nfunctions in these libraries use the <code class=\"docutils literal notranslate\"><span class=\"pre\">stdcall</span></code> calling convention, and are\nassumed to return <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">int</span></span> by default.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span>The <em>name</em> parameter can now be a <a class=\"reference internal\" href=\"../glossary.html#term-path-like-object\"><span class=\"xref std std-term\">path-like object</span></a>.</p>\n</div>\n</dd></dl>\n\n<p>The Python <a class=\"reference internal\" href=\"../glossary.html#term-global-interpreter-lock\"><span class=\"xref std std-term\">global interpreter lock</span></a> is released before calling any\nfunction exported by these libraries, and reacquired afterwards.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.PyDLL\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">PyDLL</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">mode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">DEFAULT_MODE</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">handle</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.PyDLL\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Instances of this class behave like <a class=\"reference internal\" href=\"#ctypes.CDLL\" title=\"ctypes.CDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CDLL</span></code></a> instances, except that the\nPython GIL is <em>not</em> released during the function call, and after the function\nexecution the Python error flag is checked. If the error flag is set, a Python\nexception is raised.</p>\n<p>Thus, this is only useful to call Python C api functions directly.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.12: </span>The <em>name</em> parameter can now be a <a class=\"reference internal\" href=\"../glossary.html#term-path-like-object\"><span class=\"xref std std-term\">path-like object</span></a>.</p>\n</div>\n</dd></dl>\n\n<p>All these classes can be instantiated by calling them with at least one\nargument, the pathname of the shared library.  If you have an existing handle to\nan already loaded shared library, it can be passed as the <code class=\"docutils literal notranslate\"><span class=\"pre\">handle</span></code> named\nparameter, otherwise the underlying platform’s <code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">dlopen()</span></code> or\n<code class=\"xref c c-func docutils literal notranslate\"><span class=\"pre\">LoadLibrary()</span></code> function is used to load the library into\nthe process, and to get a handle to it.</p>\n<p>The <em>mode</em> parameter can be used to specify how the library is loaded.  For\ndetails, consult the <em class=\"manpage\"><a class=\"manpage reference external\" href=\"https://manpages.debian.org/dlopen(3)\">dlopen(3)</a></em> manpage.  On Windows, <em>mode</em> is\nignored.  On posix systems, RTLD_NOW is always added, and is not\nconfigurable.</p>\n<p>The <em>use_errno</em> parameter, when set to true, enables a ctypes mechanism that\nallows accessing the system <a class=\"reference internal\" href=\"errno.html#module-errno\" title=\"errno: Standard errno system symbols.\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">errno</span></code></a> error number in a safe way.\n<a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> maintains a thread-local copy of the system’s <a class=\"reference internal\" href=\"errno.html#module-errno\" title=\"errno: Standard errno system symbols.\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">errno</span></code></a>\nvariable; if you call foreign functions created with <code class=\"docutils literal notranslate\"><span class=\"pre\">use_errno=True</span></code> then the\n<a class=\"reference internal\" href=\"errno.html#module-errno\" title=\"errno: Standard errno system symbols.\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">errno</span></code></a> value before the function call is swapped with the ctypes private\ncopy, the same happens immediately after the function call.</p>\n<p>The function <a class=\"reference internal\" href=\"#ctypes.get_errno\" title=\"ctypes.get_errno\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">ctypes.get_errno()</span></code></a> returns the value of the ctypes private\ncopy, and the function <a class=\"reference internal\" href=\"#ctypes.set_errno\" title=\"ctypes.set_errno\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">ctypes.set_errno()</span></code></a> changes the ctypes private copy\nto a new value and returns the former value.</p>\n<p>The <em>use_last_error</em> parameter, when set to true, enables the same mechanism for\nthe Windows error code which is managed by the <a class=\"reference internal\" href=\"#ctypes.GetLastError\" title=\"ctypes.GetLastError\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">GetLastError()</span></code></a> and\n<code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">SetLastError()</span></code> Windows API functions; <a class=\"reference internal\" href=\"#ctypes.get_last_error\" title=\"ctypes.get_last_error\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">ctypes.get_last_error()</span></code></a> and\n<a class=\"reference internal\" href=\"#ctypes.set_last_error\" title=\"ctypes.set_last_error\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">ctypes.set_last_error()</span></code></a> are used to request and change the ctypes private\ncopy of the windows error code.</p>\n<p>The <em>winmode</em> parameter is used on Windows to specify how the library is loaded\n(since <em>mode</em> is ignored). It takes any value that is valid for the Win32 API\n<code class=\"docutils literal notranslate\"><span class=\"pre\">LoadLibraryEx</span></code> flags parameter. When omitted, the default is to use the\nflags that result in the most secure DLL load, which avoids issues such as DLL\nhijacking. Passing the full path to the DLL is the safest way to ensure the\ncorrect library and dependencies are loaded.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.8: </span>Added <em>winmode</em> parameter.</p>\n</div>\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">RTLD_GLOBAL</span></span></dt>\n<dd><p>Flag to use as <em>mode</em> parameter.  On platforms where this flag is not available,\nit is defined as the integer zero.</p>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">RTLD_LOCAL</span></span></dt>\n<dd><p>Flag to use as <em>mode</em> parameter.  On platforms where this is not available, it\nis the same as <em>RTLD_GLOBAL</em>.</p>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">DEFAULT_MODE</span></span></dt>\n<dd><p>The default mode which is used to load shared libraries.  On OSX 10.3, this is\n<em>RTLD_GLOBAL</em>, otherwise it is the same as <em>RTLD_LOCAL</em>.</p>\n</dd></dl>\n\n<p>Instances of these classes have no public methods.  Functions exported by the\nshared library can be accessed as attributes or by index.  Please note that\naccessing the function through an attribute caches the result and therefore\naccessing it repeatedly returns the same object each time.  On the other hand,\naccessing it through an index returns a new object each time:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CDLL</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">libc</span> <span class=\"o\">=</span> <span class=\"n\">CDLL</span><span class=\"p\">(</span><span class=\"s2\">&quot;libc.so.6&quot;</span><span class=\"p\">)</span>  <span class=\"c1\"># On Linux</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">time</span> <span class=\"o\">==</span> <span class=\"n\">libc</span><span class=\"o\">.</span><span class=\"n\">time</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">libc</span><span class=\"p\">[</span><span class=\"s1\">&#39;time&#39;</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"n\">libc</span><span class=\"p\">[</span><span class=\"s1\">&#39;time&#39;</span><span class=\"p\">]</span>\n<span class=\"go\">False</span>\n</pre></div>\n</div>\n<p>The following public attributes are available, their name starts with an\nunderscore to not clash with exported function names:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.PyDLL._handle\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">PyDLL.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_handle</span></span><a class=\"headerlink\" href=\"#ctypes.PyDLL._handle\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The system handle used to access the library.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.PyDLL._name\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">PyDLL.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_name</span></span><a class=\"headerlink\" href=\"#ctypes.PyDLL._name\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The name of the library passed in the constructor.</p>\n</dd></dl>\n\n<p>Shared libraries can also be loaded by using one of the prefabricated objects,\nwhich are instances of the <a class=\"reference internal\" href=\"#ctypes.LibraryLoader\" title=\"ctypes.LibraryLoader\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">LibraryLoader</span></code></a> class, either by calling the\n<a class=\"reference internal\" href=\"#ctypes.LibraryLoader.LoadLibrary\" title=\"ctypes.LibraryLoader.LoadLibrary\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">LoadLibrary()</span></code></a> method, or by retrieving the library as\nattribute of the loader instance.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.LibraryLoader\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">LibraryLoader</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dlltype</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.LibraryLoader\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Class which loads shared libraries.  <em>dlltype</em> should be one of the\n<a class=\"reference internal\" href=\"#ctypes.CDLL\" title=\"ctypes.CDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CDLL</span></code></a>, <a class=\"reference internal\" href=\"#ctypes.PyDLL\" title=\"ctypes.PyDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">PyDLL</span></code></a>, <a class=\"reference internal\" href=\"#ctypes.WinDLL\" title=\"ctypes.WinDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">WinDLL</span></code></a>, or <a class=\"reference internal\" href=\"#ctypes.OleDLL\" title=\"ctypes.OleDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OleDLL</span></code></a> types.</p>\n<p><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">__getattr__()</span></code> has special behavior: It allows loading a shared library by\naccessing it as attribute of a library loader instance.  The result is cached,\nso repeated attribute accesses return the same library each time.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"ctypes.LibraryLoader.LoadLibrary\">\n<span class=\"sig-name descname\"><span class=\"pre\">LoadLibrary</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.LibraryLoader.LoadLibrary\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Load a shared library into the process and return it.  This method always\nreturns a new instance of the library.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>These prefabricated library loaders are available:</p>\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">cdll</span></span></dt>\n<dd><p>Creates <a class=\"reference internal\" href=\"#ctypes.CDLL\" title=\"ctypes.CDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CDLL</span></code></a> instances.</p>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">windll</span></span></dt>\n<dd><p>Creates <a class=\"reference internal\" href=\"#ctypes.WinDLL\" title=\"ctypes.WinDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">WinDLL</span></code></a> instances.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">oledll</span></span></dt>\n<dd><p>Creates <a class=\"reference internal\" href=\"#ctypes.OleDLL\" title=\"ctypes.OleDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OleDLL</span></code></a> instances.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">pydll</span></span></dt>\n<dd><p>Creates <a class=\"reference internal\" href=\"#ctypes.PyDLL\" title=\"ctypes.PyDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">PyDLL</span></code></a> instances.</p>\n</dd></dl>\n\n<p>For accessing the C Python api directly, a ready-to-use Python shared library\nobject is available:</p>\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">pythonapi</span></span></dt>\n<dd><p>An instance of <a class=\"reference internal\" href=\"#ctypes.PyDLL\" title=\"ctypes.PyDLL\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">PyDLL</span></code></a> that exposes Python C API functions as\nattributes.  Note that all these functions are assumed to return C\n<span class=\"c-expr sig sig-inline c\"><span class=\"kt\">int</span></span>, which is of course not always the truth, so you have to assign\nthe correct <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">restype</span></code> attribute to use these functions.</p>\n</dd></dl>\n\n<p class=\"audit-hook\"><p>Loading a library through any of these objects raises an\n<a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.dlopen</span></code> with string argument\n<code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code>, the name used to load the library.</p>\n</p>\n<p class=\"audit-hook\"><p>Accessing a function on a loaded library raises an auditing event\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.dlsym</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">library</span></code> (the library object) and <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code>\n(the symbol’s name as a string or integer).</p>\n</p>\n<p class=\"audit-hook\"><p>In cases when only the library handle is available rather than the object,\naccessing a function raises an auditing event <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.dlsym/handle</span></code> with\narguments <code class=\"docutils literal notranslate\"><span class=\"pre\">handle</span></code> (the raw library handle) and <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code>.</p>\n</p>\n</section>\n<section id=\"foreign-functions\">\n<span id=\"ctypes-foreign-functions\"></span><h3>Foreign functions<a class=\"headerlink\" href=\"#foreign-functions\" title=\"Link to this heading\">¶</a></h3>\n<p>As explained in the previous section, foreign functions can be accessed as\nattributes of loaded shared libraries.  The function objects created in this way\nby default accept any number of arguments, accept any ctypes data instances as\narguments, and return the default result type specified by the library loader.</p>\n<p>They are instances of a private local class <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">_FuncPtr</span></code> (not exposed\nin <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code>) which inherits from the private <a class=\"reference internal\" href=\"#ctypes._CFuncPtr\" title=\"ctypes._CFuncPtr\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">_CFuncPtr</span></code></a> class:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">lib</span> <span class=\"o\">=</span> <span class=\"n\">ctypes</span><span class=\"o\">.</span><span class=\"n\">CDLL</span><span class=\"p\">(</span><span class=\"kc\">None</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">issubclass</span><span class=\"p\">(</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">_FuncPtr</span><span class=\"p\">,</span> <span class=\"n\">ctypes</span><span class=\"o\">.</span><span class=\"n\">_CFuncPtr</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">_FuncPtr</span> <span class=\"ow\">is</span> <span class=\"n\">ctypes</span><span class=\"o\">.</span><span class=\"n\">_CFuncPtr</span>\n<span class=\"go\">False</span>\n</pre></div>\n</div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CFuncPtr\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_CFuncPtr</span></span><a class=\"headerlink\" href=\"#ctypes._CFuncPtr\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Base class for C callable foreign functions.</p>\n<p>Instances of foreign functions are also C compatible data types; they\nrepresent C function pointers.</p>\n<p>This behavior can be customized by assigning to special attributes of the\nforeign function object.</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CFuncPtr.restype\">\n<span class=\"sig-name descname\"><span class=\"pre\">restype</span></span><a class=\"headerlink\" href=\"#ctypes._CFuncPtr.restype\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Assign a ctypes type to specify the result type of the foreign function.\nUse <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> for <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">void</span></span>, a function not returning anything.</p>\n<p>It is possible to assign a callable Python object that is not a ctypes\ntype, in this case the function is assumed to return a C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">int</span></span>, and\nthe callable will be called with this integer, allowing further\nprocessing or error checking.  Using this is deprecated, for more flexible\npost processing or error checking use a ctypes data type as\n<code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">restype</span></code> and assign a callable to the <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.errcheck\" title=\"ctypes._CFuncPtr.errcheck\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">errcheck</span></code></a> attribute.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CFuncPtr.argtypes\">\n<span class=\"sig-name descname\"><span class=\"pre\">argtypes</span></span><a class=\"headerlink\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Assign a tuple of ctypes types to specify the argument types that the\nfunction accepts.  Functions using the <code class=\"docutils literal notranslate\"><span class=\"pre\">stdcall</span></code> calling convention can\nonly be called with the same number of arguments as the length of this\ntuple; functions using the C calling convention accept additional,\nunspecified arguments as well.</p>\n<p>When a foreign function is called, each actual argument is passed to the\n<a class=\"reference internal\" href=\"#ctypes._CData.from_param\" title=\"ctypes._CData.from_param\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">from_param()</span></code></a> class method of the items in the <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a>\ntuple, this method allows adapting the actual argument to an object that\nthe foreign function accepts.  For example, a <a class=\"reference internal\" href=\"#ctypes.c_char_p\" title=\"ctypes.c_char_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_char_p</span></code></a> item in\nthe <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a> tuple will convert a string passed as argument into\na bytes object using ctypes conversion rules.</p>\n<p>New: It is now possible to put items in argtypes which are not ctypes\ntypes, but each item must have a <a class=\"reference internal\" href=\"#ctypes._CData.from_param\" title=\"ctypes._CData.from_param\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">from_param()</span></code></a> method which returns a\nvalue usable as argument (integer, string, ctypes instance).  This allows\ndefining adapters that can adapt custom objects as function parameters.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CFuncPtr.errcheck\">\n<span class=\"sig-name descname\"><span class=\"pre\">errcheck</span></span><a class=\"headerlink\" href=\"#ctypes._CFuncPtr.errcheck\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Assign a Python function or another callable to this attribute. The\ncallable will be called with three or more arguments:</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-name descname\"><span class=\"pre\">callable</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">result</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">arguments</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dd><p><em>result</em> is what the foreign function returns, as specified by the\n<code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">restype</span></code> attribute.</p>\n<p><em>func</em> is the foreign function object itself, this allows reusing the\nsame callable object to check or post process the results of several\nfunctions.</p>\n<p><em>arguments</em> is a tuple containing the parameters originally passed to\nthe function call, this allows specializing the behavior on the\narguments used.</p>\n</dd></dl>\n\n<p>The object that this function returns will be returned from the\nforeign function call, but it can also check the result value\nand raise an exception if the foreign function call failed.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p class=\"audit-hook\"><p>On Windows, when a foreign function call raises a system exception (for\nexample, due to an access violation), it will be captured and replaced with\na suitable Python exception. Further, an auditing event\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.set_exception</span></code> with argument <code class=\"docutils literal notranslate\"><span class=\"pre\">code</span></code> will be raised, allowing an\naudit hook to replace the exception with its own.</p>\n</p>\n<p class=\"audit-hook\"><p>Some ways to invoke foreign function calls as well as some of the\nfunctions in this module may raise an auditing event\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.call_function</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">function</span> <span class=\"pre\">pointer</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">arguments</span></code>.</p>\n</p>\n</section>\n<section id=\"function-prototypes\">\n<span id=\"ctypes-function-prototypes\"></span><h3>Function prototypes<a class=\"headerlink\" href=\"#function-prototypes\" title=\"Link to this heading\">¶</a></h3>\n<p>Foreign functions can also be created by instantiating function prototypes.\nFunction prototypes are similar to function prototypes in C; they describe a\nfunction (return type, argument types, calling convention) without defining an\nimplementation.  The factory functions must be called with the desired result\ntype and the argument types of the function, and can be used as decorator\nfactories, and as such, be applied to functions through the <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;wrapper</span></code> syntax.\nSee <a class=\"reference internal\" href=\"#ctypes-callback-functions\"><span class=\"std std-ref\">Callback functions</span></a> for examples.</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CFUNCTYPE\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">CFUNCTYPE</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">restype</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">argtypes</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_errno</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_last_error</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.CFUNCTYPE\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The returned function prototype creates functions that use the standard C\ncalling convention.  The function will release the GIL during the call.  If\n<em>use_errno</em> is set to true, the ctypes private copy of the system\n<a class=\"reference internal\" href=\"errno.html#module-errno\" title=\"errno: Standard errno system symbols.\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">errno</span></code></a> variable is exchanged with the real <a class=\"reference internal\" href=\"errno.html#module-errno\" title=\"errno: Standard errno system symbols.\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">errno</span></code></a> value before\nand after the call; <em>use_last_error</em> does the same for the Windows error\ncode.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.WINFUNCTYPE\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">WINFUNCTYPE</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">restype</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">argtypes</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_errno</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_last_error</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.WINFUNCTYPE\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The returned function prototype creates functions that use the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">stdcall</span></code> calling convention.  The function will\nrelease the GIL during the call.  <em>use_errno</em> and <em>use_last_error</em> have the\nsame meaning as above.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.PYFUNCTYPE\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">PYFUNCTYPE</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">restype</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">argtypes</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.PYFUNCTYPE\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The returned function prototype creates functions that use the Python calling\nconvention.  The function will <em>not</em> release the GIL during the call.</p>\n</dd></dl>\n\n<p>Function prototypes created by these factory functions can be instantiated in\ndifferent ways, depending on the type and number of the parameters in the call:</p>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-name descname\"><span class=\"pre\">prototype</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">address</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dd><p>Returns a foreign function at the specified address which must be an integer.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-name descname\"><span class=\"pre\">prototype</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">callable</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dd><p>Create a C callable function (a callback function) from a Python <em>callable</em>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-name descname\"><span class=\"pre\">prototype</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">func_spec</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">paramflags</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span></dt>\n<dd><p>Returns a foreign function exported by a shared library. <em>func_spec</em> must\nbe a 2-tuple <code class=\"docutils literal notranslate\"><span class=\"pre\">(name_or_ordinal,</span> <span class=\"pre\">library)</span></code>. The first item is the name of\nthe exported function as string, or the ordinal of the exported function\nas small integer.  The second item is the shared library instance.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\">\n<span class=\"sig-name descname\"><span class=\"pre\">prototype</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">vtbl_index</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">paramflags</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">iid</span></span></em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span></dt>\n<dd><p>Returns a foreign function that will call a COM method. <em>vtbl_index</em> is\nthe index into the virtual function table, a small non-negative\ninteger. <em>name</em> is name of the COM method. <em>iid</em> is an optional pointer to\nthe interface identifier which is used in extended error reporting.</p>\n<p>If <em>iid</em> is not specified, an <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a> is raised if the COM method\ncall fails. If <em>iid</em> is specified, a <a class=\"reference internal\" href=\"#ctypes.COMError\" title=\"ctypes.COMError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">COMError</span></code></a> is raised\ninstead.</p>\n<p>COM methods use a special calling convention: They require a pointer to\nthe COM interface as first argument, in addition to those parameters that\nare specified in the <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code> tuple.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n</dd></dl>\n\n<p>The optional <em>paramflags</em> parameter creates foreign function wrappers with much\nmore functionality than the features described above.</p>\n<p><em>paramflags</em> must be a tuple of the same length as <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a>.</p>\n<p>Each item in this tuple contains further information about a parameter, it must\nbe a tuple containing one, two, or three items.</p>\n<p>The first item is an integer containing a combination of direction\nflags for the parameter:</p>\n<blockquote>\n<div><dl class=\"simple\">\n<dt>1</dt><dd><p>Specifies an input parameter to the function.</p>\n</dd>\n<dt>2</dt><dd><p>Output parameter.  The foreign function fills in a value.</p>\n</dd>\n<dt>4</dt><dd><p>Input parameter which defaults to the integer zero.</p>\n</dd>\n</dl>\n</div></blockquote>\n<p>The optional second item is the parameter name as string.  If this is specified,\nthe foreign function can be called with named parameters.</p>\n<p>The optional third item is the default value for this parameter.</p>\n<p>The following example demonstrates how to wrap the Windows <code class=\"docutils literal notranslate\"><span class=\"pre\">MessageBoxW</span></code> function so\nthat it supports default parameters and named arguments. The C declaration from\nthe windows header file is this:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">WINUSERAPI</span> <span class=\"nb\">int</span> <span class=\"n\">WINAPI</span>\n<span class=\"n\">MessageBoxW</span><span class=\"p\">(</span>\n    <span class=\"n\">HWND</span> <span class=\"n\">hWnd</span><span class=\"p\">,</span>\n    <span class=\"n\">LPCWSTR</span> <span class=\"n\">lpText</span><span class=\"p\">,</span>\n    <span class=\"n\">LPCWSTR</span> <span class=\"n\">lpCaption</span><span class=\"p\">,</span>\n    <span class=\"n\">UINT</span> <span class=\"n\">uType</span><span class=\"p\">);</span>\n</pre></div>\n</div>\n<p>Here is the wrapping with <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">c_int</span><span class=\"p\">,</span> <span class=\"n\">WINFUNCTYPE</span><span class=\"p\">,</span> <span class=\"n\">windll</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes.wintypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">HWND</span><span class=\"p\">,</span> <span class=\"n\">LPCWSTR</span><span class=\"p\">,</span> <span class=\"n\">UINT</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">prototype</span> <span class=\"o\">=</span> <span class=\"n\">WINFUNCTYPE</span><span class=\"p\">(</span><span class=\"n\">c_int</span><span class=\"p\">,</span> <span class=\"n\">HWND</span><span class=\"p\">,</span> <span class=\"n\">LPCWSTR</span><span class=\"p\">,</span> <span class=\"n\">LPCWSTR</span><span class=\"p\">,</span> <span class=\"n\">UINT</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">paramflags</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;hwnd&quot;</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;text&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Hi&quot;</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;caption&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Hello from ctypes&quot;</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;flags&quot;</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">MessageBox</span> <span class=\"o\">=</span> <span class=\"n\">prototype</span><span class=\"p\">((</span><span class=\"s2\">&quot;MessageBoxW&quot;</span><span class=\"p\">,</span> <span class=\"n\">windll</span><span class=\"o\">.</span><span class=\"n\">user32</span><span class=\"p\">),</span> <span class=\"n\">paramflags</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">MessageBox</span></code> foreign function can now be called in these ways:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">MessageBox</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">MessageBox</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"o\">=</span><span class=\"s2\">&quot;Spam, spam, spam&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">MessageBox</span><span class=\"p\">(</span><span class=\"n\">flags</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">text</span><span class=\"o\">=</span><span class=\"s2\">&quot;foo bar&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>A second example demonstrates output parameters.  The win32 <code class=\"docutils literal notranslate\"><span class=\"pre\">GetWindowRect</span></code>\nfunction retrieves the dimensions of a specified window by copying them into\n<code class=\"docutils literal notranslate\"><span class=\"pre\">RECT</span></code> structure that the caller has to supply.  Here is the C declaration:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">WINUSERAPI</span> <span class=\"n\">BOOL</span> <span class=\"n\">WINAPI</span>\n<span class=\"n\">GetWindowRect</span><span class=\"p\">(</span>\n     <span class=\"n\">HWND</span> <span class=\"n\">hWnd</span><span class=\"p\">,</span>\n     <span class=\"n\">LPRECT</span> <span class=\"n\">lpRect</span><span class=\"p\">);</span>\n</pre></div>\n</div>\n<p>Here is the wrapping with <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a>:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">POINTER</span><span class=\"p\">,</span> <span class=\"n\">WINFUNCTYPE</span><span class=\"p\">,</span> <span class=\"n\">windll</span><span class=\"p\">,</span> <span class=\"n\">WinError</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ctypes.wintypes</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">BOOL</span><span class=\"p\">,</span> <span class=\"n\">HWND</span><span class=\"p\">,</span> <span class=\"n\">RECT</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">prototype</span> <span class=\"o\">=</span> <span class=\"n\">WINFUNCTYPE</span><span class=\"p\">(</span><span class=\"n\">BOOL</span><span class=\"p\">,</span> <span class=\"n\">HWND</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">RECT</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">paramflags</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;hwnd&quot;</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s2\">&quot;lprect&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">GetWindowRect</span> <span class=\"o\">=</span> <span class=\"n\">prototype</span><span class=\"p\">((</span><span class=\"s2\">&quot;GetWindowRect&quot;</span><span class=\"p\">,</span> <span class=\"n\">windll</span><span class=\"o\">.</span><span class=\"n\">user32</span><span class=\"p\">),</span> <span class=\"n\">paramflags</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>Functions with output parameters will automatically return the output parameter\nvalue if there is a single one, or a tuple containing the output parameter\nvalues when there are more than one, so the GetWindowRect function now returns a\nRECT instance, when called.</p>\n<p>Output parameters can be combined with the <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.errcheck\" title=\"ctypes._CFuncPtr.errcheck\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">errcheck</span></code></a> protocol to do\nfurther output processing and error checking.  The win32 <code class=\"docutils literal notranslate\"><span class=\"pre\">GetWindowRect</span></code> api\nfunction returns a <code class=\"docutils literal notranslate\"><span class=\"pre\">BOOL</span></code> to signal success or failure, so this function could\ndo the error checking, and raises an exception when the api call failed:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">errcheck</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">,</span> <span class=\"n\">func</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">result</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>        <span class=\"k\">raise</span> <span class=\"n\">WinError</span><span class=\"p\">()</span>\n<span class=\"gp\">... </span>    <span class=\"k\">return</span> <span class=\"n\">args</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">GetWindowRect</span><span class=\"o\">.</span><span class=\"n\">errcheck</span> <span class=\"o\">=</span> <span class=\"n\">errcheck</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n<p>If the <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.errcheck\" title=\"ctypes._CFuncPtr.errcheck\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">errcheck</span></code></a> function returns the argument tuple it receives\nunchanged, <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> continues the normal processing it does on the output\nparameters.  If you want to return a tuple of window coordinates instead of a\n<code class=\"docutils literal notranslate\"><span class=\"pre\">RECT</span></code> instance, you can retrieve the fields in the function and return them\ninstead, the normal processing will no longer take place:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">errcheck</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">,</span> <span class=\"n\">func</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">result</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>        <span class=\"k\">raise</span> <span class=\"n\">WinError</span><span class=\"p\">()</span>\n<span class=\"gp\">... </span>    <span class=\"n\">rc</span> <span class=\"o\">=</span> <span class=\"n\">args</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span>    <span class=\"k\">return</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">left</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">top</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">bottom</span><span class=\"p\">,</span> <span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">right</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">GetWindowRect</span><span class=\"o\">.</span><span class=\"n\">errcheck</span> <span class=\"o\">=</span> <span class=\"n\">errcheck</span>\n<span class=\"gp\">&gt;&gt;&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"utility-functions\">\n<span id=\"ctypes-utility-functions\"></span><h3>Utility functions<a class=\"headerlink\" href=\"#utility-functions\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.addressof\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">addressof</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.addressof\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns the address of the memory buffer as integer.  <em>obj</em> must be an\ninstance of a ctypes type.</p>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.addressof</span></code> with argument <code class=\"docutils literal notranslate\"><span class=\"pre\">obj</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.alignment\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">alignment</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj_or_type</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.alignment\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns the alignment requirements of a ctypes type. <em>obj_or_type</em> must be a\nctypes type or instance.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.byref\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">byref</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">offset</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.byref\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns a light-weight pointer to <em>obj</em>, which must be an instance of a\nctypes type.  <em>offset</em> defaults to zero, and must be an integer that will be\nadded to the internal pointer value.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">byref(obj,</span> <span class=\"pre\">offset)</span></code> corresponds to this C code:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">(((</span><span class=\"n\">char</span> <span class=\"o\">*</span><span class=\"p\">)</span><span class=\"o\">&amp;</span><span class=\"n\">obj</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">offset</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>The returned object can only be used as a foreign function call parameter.\nIt behaves similar to <code class=\"docutils literal notranslate\"><span class=\"pre\">pointer(obj)</span></code>, but the construction is a lot faster.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CopyComPointer\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">CopyComPointer</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">src</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dst</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.CopyComPointer\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Copies a COM pointer from <em>src</em> to <em>dst</em> and returns the Windows specific\n<code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">HRESULT</span></code> value.</p>\n<p>If <em>src</em> is not <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code>, its <code class=\"docutils literal notranslate\"><span class=\"pre\">AddRef</span></code> method is called, incrementing the\nreference count.</p>\n<p>In contrast, the reference count of <em>dst</em> will not be decremented before\nassigning the new value. Unless <em>dst</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code>, the caller is responsible\nfor decrementing the reference count by calling its <code class=\"docutils literal notranslate\"><span class=\"pre\">Release</span></code> method when\nnecessary.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.cast\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">cast</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">type</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.cast\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This function is similar to the cast operator in C. It returns a new instance\nof <em>type</em> which points to the same memory block as <em>obj</em>.  <em>type</em> must be a\npointer type, and <em>obj</em> must be an object that can be interpreted as a\npointer.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.create_string_buffer\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">create_string_buffer</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">init</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.create_string_buffer\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">create_string_buffer</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dd><p>This function creates a mutable character buffer. The returned object is a\nctypes array of <a class=\"reference internal\" href=\"#ctypes.c_char\" title=\"ctypes.c_char\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_char</span></code></a>.</p>\n<p>If <em>size</em> is given (and not <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>), it must be an <a class=\"reference internal\" href=\"functions.html#int\" title=\"int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a>.\nIt specifies the size of the returned array.</p>\n<p>If the <em>init</em> argument is given, it must be <a class=\"reference internal\" href=\"stdtypes.html#bytes\" title=\"bytes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bytes</span></code></a>. It is used\nto initialize the array items. Bytes not initialized this way are\nset to zero (NUL).</p>\n<p>If <em>size</em> is not given (or if it is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>), the buffer is made one element\nlarger than <em>init</em>, effectively adding a NUL terminator.</p>\n<p>If both arguments are given, <em>size</em> must not be less than <code class=\"docutils literal notranslate\"><span class=\"pre\">len(init)</span></code>.</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>If <em>size</em> is equal to <code class=\"docutils literal notranslate\"><span class=\"pre\">len(init)</span></code>, a NUL terminator is\nnot added. Do not treat such a buffer as a C string.</p>\n</div>\n<p>For example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">bytes</span><span class=\"p\">(</span><span class=\"n\">create_string_buffer</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">))</span>\n<span class=\"go\">b&#39;\\x00\\x00&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">bytes</span><span class=\"p\">(</span><span class=\"n\">create_string_buffer</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s1\">&#39;ab&#39;</span><span class=\"p\">))</span>\n<span class=\"go\">b&#39;ab\\x00&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">bytes</span><span class=\"p\">(</span><span class=\"n\">create_string_buffer</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s1\">&#39;ab&#39;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">))</span>\n<span class=\"go\">b&#39;ab&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">bytes</span><span class=\"p\">(</span><span class=\"n\">create_string_buffer</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s1\">&#39;ab&#39;</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">))</span>\n<span class=\"go\">b&#39;ab\\x00\\x00&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">bytes</span><span class=\"p\">(</span><span class=\"n\">create_string_buffer</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s1\">&#39;abcdef&#39;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">))</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n<span class=\"w\">   </span><span class=\"c\">...</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">byte string too long</span>\n</pre></div>\n</div>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.create_string_buffer</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">init</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">size</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.create_unicode_buffer\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">create_unicode_buffer</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">init</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.create_unicode_buffer\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">create_unicode_buffer</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span></em><span class=\"sig-paren\">)</span></dt>\n<dd><p>This function creates a mutable unicode character buffer. The returned object is\na ctypes array of <a class=\"reference internal\" href=\"#ctypes.c_wchar\" title=\"ctypes.c_wchar\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_wchar</span></code></a>.</p>\n<p>The function takes the same arguments as <a class=\"reference internal\" href=\"#ctypes.create_string_buffer\" title=\"ctypes.create_string_buffer\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">create_string_buffer()</span></code></a> except\n<em>init</em> must be a string and <em>size</em> counts <a class=\"reference internal\" href=\"#ctypes.c_wchar\" title=\"ctypes.c_wchar\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_wchar</span></code></a>.</p>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.create_unicode_buffer</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">init</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">size</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.DllCanUnloadNow\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">DllCanUnloadNow</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.DllCanUnloadNow\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This function is a hook which allows implementing in-process\nCOM servers with ctypes.  It is called from the DllCanUnloadNow function that\nthe _ctypes extension dll exports.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.DllGetClassObject\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">DllGetClassObject</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.DllGetClassObject\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This function is a hook which allows implementing in-process\nCOM servers with ctypes.  It is called from the DllGetClassObject function\nthat the <code class=\"docutils literal notranslate\"><span class=\"pre\">_ctypes</span></code> extension dll exports.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.util.find_library\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.util.</span></span><span class=\"sig-name descname\"><span class=\"pre\">find_library</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.util.find_library\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Try to find a library and return a pathname.  <em>name</em> is the library name\nwithout any prefix like <code class=\"docutils literal notranslate\"><span class=\"pre\">lib</span></code>, suffix like <code class=\"docutils literal notranslate\"><span class=\"pre\">.so</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">.dylib</span></code> or version\nnumber (this is the form used for the posix linker option <code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">-l</span></code>).  If\nno library can be found, returns <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n<p>The exact functionality is system dependent.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.util.find_msvcrt\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.util.</span></span><span class=\"sig-name descname\"><span class=\"pre\">find_msvcrt</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.util.find_msvcrt\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns the filename of the VC runtime library used by Python,\nand by the extension modules.  If the name of the library cannot be\ndetermined, <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> is returned.</p>\n<p>If you need to free memory, for example, allocated by an extension module\nwith a call to the <code class=\"docutils literal notranslate\"><span class=\"pre\">free(void</span> <span class=\"pre\">*)</span></code>, it is important that you use the\nfunction in the same library that allocated the memory.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.util.dllist\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.util.</span></span><span class=\"sig-name descname\"><span class=\"pre\">dllist</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.util.dllist\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Try to provide a list of paths of the shared libraries loaded into the current\nprocess.  These paths are not normalized or processed in any way.  The function\ncan raise <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a> if the underlying platform APIs fail.\nThe exact functionality is system dependent.</p>\n<p>On most platforms, the first element of the list represents the current\nexecutable file. It may be an empty string.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows, macOS, iOS, glibc, BSD libc, musl</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.FormatError\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">FormatError</span></span><span class=\"sig-paren\">(</span><span class=\"optional\">[</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">code</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.FormatError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns a textual description of the error code <em>code</em>.  If no error code is\nspecified, the last error code is used by calling the Windows API function\n<a class=\"reference internal\" href=\"#ctypes.GetLastError\" title=\"ctypes.GetLastError\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">GetLastError()</span></code></a>.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.GetLastError\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">GetLastError</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.GetLastError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns the last error code set by Windows in the calling thread.\nThis function calls the Windows <code class=\"docutils literal notranslate\"><span class=\"pre\">GetLastError()</span></code> function directly,\nit does not return the ctypes-private copy of the error code.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.get_errno\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">get_errno</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.get_errno\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns the current value of the ctypes-private copy of the system\n<a class=\"reference internal\" href=\"errno.html#module-errno\" title=\"errno: Standard errno system symbols.\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">errno</span></code></a> variable in the calling thread.</p>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.get_errno</span></code> with no arguments.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.get_last_error\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">get_last_error</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.get_last_error\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns the current value of the ctypes-private copy of the system\n<code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">LastError</span></code> variable in the calling thread.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.get_last_error</span></code> with no arguments.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.memmove\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">memmove</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dst</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">src</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">count</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.memmove\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Same as the standard C memmove library function: copies <em>count</em> bytes from\n<em>src</em> to <em>dst</em>. <em>dst</em> and <em>src</em> must be integers or ctypes instances that can\nbe converted to pointers.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.memset\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">memset</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dst</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">c</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">count</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.memset\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Same as the standard C memset library function: fills the memory block at\naddress <em>dst</em> with <em>count</em> bytes of value <em>c</em>. <em>dst</em> must be an integer\nspecifying an address, or a ctypes instance.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.POINTER\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">POINTER</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">type</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.POINTER\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create or return a ctypes pointer type. Pointer types are cached and\nreused internally, so calling this function repeatedly is cheap.\n<em>type</em> must be a ctypes type.</p>\n<div class=\"impl-detail compound\">\n<p><strong>CPython implementation detail:</strong> The resulting pointer type is cached in the <code class=\"docutils literal notranslate\"><span class=\"pre\">__pointer_type__</span></code>\nattribute of <em>type</em>.\nIt is possible to set this attribute before the first call to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">POINTER</span></code> in order to set a custom pointer type.\nHowever, doing this is discouraged: manually creating a suitable\npointer type is difficult without relying on implementation\ndetails that may change in future Python versions.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.pointer\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">pointer</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em>, <em class=\"sig-param\"><span class=\"positional-only-separator o\"><abbr title=\"Positional-only parameter separator (PEP 570)\"><span class=\"pre\">/</span></abbr></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.pointer\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create a new pointer instance, pointing to <em>obj</em>.\nThe returned object is of the type <code class=\"docutils literal notranslate\"><span class=\"pre\">POINTER(type(obj))</span></code>.</p>\n<p>Note: If you just want to pass a pointer to an object to a foreign function\ncall, you should use <code class=\"docutils literal notranslate\"><span class=\"pre\">byref(obj)</span></code> which is much faster.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.resize\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">resize</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.resize\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This function resizes the internal memory buffer of <em>obj</em>, which must be an\ninstance of a ctypes type.  It is not possible to make the buffer smaller\nthan the native size of the objects type, as given by <code class=\"docutils literal notranslate\"><span class=\"pre\">sizeof(type(obj))</span></code>,\nbut it is possible to enlarge the buffer.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.set_errno\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">set_errno</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.set_errno\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Set the current value of the ctypes-private copy of the system <a class=\"reference internal\" href=\"errno.html#module-errno\" title=\"errno: Standard errno system symbols.\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">errno</span></code></a>\nvariable in the calling thread to <em>value</em> and return the previous value.</p>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.set_errno</span></code> with argument <code class=\"docutils literal notranslate\"><span class=\"pre\">errno</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.set_last_error\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">set_last_error</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">value</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.set_last_error\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Sets the current value of the ctypes-private copy of the system\n<code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">LastError</span></code> variable in the calling thread to <em>value</em> and return the\nprevious value.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.set_last_error</span></code> with argument <code class=\"docutils literal notranslate\"><span class=\"pre\">error</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.sizeof\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">sizeof</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj_or_type</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.sizeof\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns the size in bytes of a ctypes type or instance memory buffer.\nDoes the same as the C <code class=\"docutils literal notranslate\"><span class=\"pre\">sizeof</span></code> operator.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.string_at\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">string_at</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ptr</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">-1</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.string_at\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the byte string at <em>void *ptr</em>.\nIf <em>size</em> is specified, it is used as size, otherwise the string is assumed\nto be zero-terminated.</p>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.string_at</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">ptr</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">size</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.WinError\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">WinError</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">code</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">descr</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.WinError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Creates an instance of <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a>.  If <em>code</em> is not specified,\n<a class=\"reference internal\" href=\"#ctypes.GetLastError\" title=\"ctypes.GetLastError\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">GetLastError()</span></code></a> is called to determine the error code. If <em>descr</em> is not\nspecified, <a class=\"reference internal\" href=\"#ctypes.FormatError\" title=\"ctypes.FormatError\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">FormatError()</span></code></a> is called to get a textual description of the\nerror.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.3: </span>An instance of <a class=\"reference internal\" href=\"exceptions.html#WindowsError\" title=\"WindowsError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">WindowsError</span></code></a> used to be created, which is now an\nalias of <a class=\"reference internal\" href=\"exceptions.html#OSError\" title=\"OSError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">OSError</span></code></a>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.wstring_at\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">wstring_at</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ptr</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">-1</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.wstring_at\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return the wide-character string at <em>void *ptr</em>.\nIf <em>size</em> is specified, it is used as the number of\ncharacters of the string, otherwise the string is assumed to be\nzero-terminated.</p>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.wstring_at</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">ptr</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">size</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.memoryview_at\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">memoryview_at</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ptr</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">size</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">readonly</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.memoryview_at\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Return a <a class=\"reference internal\" href=\"stdtypes.html#memoryview\" title=\"memoryview\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">memoryview</span></code></a> object of length <em>size</em> that references memory\nstarting at <em>void *ptr</em>.</p>\n<p>If <em>readonly</em> is true, the returned <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">memoryview</span></code> object can\nnot be used to modify the underlying memory.\n(Changes made by other means will still be reflected in the returned\nobject.)</p>\n<p>This function is similar to <a class=\"reference internal\" href=\"#ctypes.string_at\" title=\"ctypes.string_at\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">string_at()</span></code></a> with the key\ndifference of not making a copy of the specified memory.\nIt is a semantically equivalent (but more efficient) alternative to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">memoryview((c_byte</span> <span class=\"pre\">*</span> <span class=\"pre\">size).from_address(ptr))</span></code>.\n(While <a class=\"reference internal\" href=\"#ctypes._CData.from_address\" title=\"ctypes._CData.from_address\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">from_address()</span></code></a> only takes integers, <em>ptr</em> can also\nbe given as a <a class=\"reference internal\" href=\"#ctypes.POINTER\" title=\"ctypes.POINTER\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ctypes.POINTER</span></code></a> or a <a class=\"reference internal\" href=\"#ctypes.byref\" title=\"ctypes.byref\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">byref()</span></code></a> object.)</p>\n<p class=\"audit-hook\" id=\"audit_event_ctypes_memoryview_at_0\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.memoryview_at</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">address</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">size</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">readonly</span></code>.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n</section>\n<section id=\"data-types\">\n<span id=\"ctypes-data-types\"></span><h3>Data types<a class=\"headerlink\" href=\"#data-types\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CData\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_CData</span></span><a class=\"headerlink\" href=\"#ctypes._CData\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This non-public class is the common base class of all ctypes data types.\nAmong other things, all ctypes type instances contain a memory block that\nhold C compatible data; the address of the memory block is returned by the\n<a class=\"reference internal\" href=\"#ctypes.addressof\" title=\"ctypes.addressof\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">addressof()</span></code></a> helper function. Another instance variable is exposed as\n<a class=\"reference internal\" href=\"#ctypes._CData._objects\" title=\"ctypes._CData._objects\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_objects</span></code></a>; this contains other Python objects that need to be kept\nalive in case the memory block contains pointers.</p>\n<p>Common methods of ctypes data types, these are all class methods (to be\nexact, they are methods of the <a class=\"reference internal\" href=\"../glossary.html#term-metaclass\"><span class=\"xref std std-term\">metaclass</span></a>):</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CData.from_buffer\">\n<span class=\"sig-name descname\"><span class=\"pre\">from_buffer</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">source</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">offset</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes._CData.from_buffer\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This method returns a ctypes instance that shares the buffer of the\n<em>source</em> object.  The <em>source</em> object must support the writeable buffer\ninterface.  The optional <em>offset</em> parameter specifies an offset into the\nsource buffer in bytes; the default is zero.  If the source buffer is not\nlarge enough a <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is raised.</p>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.cdata/buffer</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">pointer</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">size</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">offset</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CData.from_buffer_copy\">\n<span class=\"sig-name descname\"><span class=\"pre\">from_buffer_copy</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">source</span></span></em><span class=\"optional\">[</span>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">offset</span></span></em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes._CData.from_buffer_copy\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This method creates a ctypes instance, copying the buffer from the\n<em>source</em> object buffer which must be readable.  The optional <em>offset</em>\nparameter specifies an offset into the source buffer in bytes; the default\nis zero.  If the source buffer is not large enough a <a class=\"reference internal\" href=\"exceptions.html#ValueError\" title=\"ValueError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></a> is\nraised.</p>\n<p class=\"audit-hook\">Raises an <a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.cdata/buffer</span></code> with arguments <code class=\"docutils literal notranslate\"><span class=\"pre\">pointer</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">size</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">offset</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CData.from_address\">\n<span class=\"sig-name descname\"><span class=\"pre\">from_address</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">address</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes._CData.from_address\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This method returns a ctypes type instance using the memory specified by\n<em>address</em> which must be an integer.</p>\n<p class=\"audit-hook\"><p>This method, and others that indirectly call this method, raises an\n<a class=\"reference internal\" href=\"sys.html#auditing\"><span class=\"std std-ref\">auditing event</span></a> <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.cdata</span></code> with argument\n<code class=\"docutils literal notranslate\"><span class=\"pre\">address</span></code>.</p>\n</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CData.from_param\">\n<span class=\"sig-name descname\"><span class=\"pre\">from_param</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes._CData.from_param\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This method adapts <em>obj</em> to a ctypes type.  It is called with the actual\nobject used in a foreign function call when the type is present in the\nforeign function’s <a class=\"reference internal\" href=\"#ctypes._CFuncPtr.argtypes\" title=\"ctypes._CFuncPtr.argtypes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">argtypes</span></code></a> tuple;\nit must return an object that can be used as a function call parameter.</p>\n<p>All ctypes data types have a default implementation of this classmethod\nthat normally returns <em>obj</em> if that is an instance of the type.  Some\ntypes accept other objects as well.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CData.in_dll\">\n<span class=\"sig-name descname\"><span class=\"pre\">in_dll</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">library</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes._CData.in_dll\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This method returns a ctypes type instance exported by a shared\nlibrary. <em>name</em> is the name of the symbol that exports the data, <em>library</em>\nis the loaded shared library.</p>\n</dd></dl>\n\n<p>Common class variables of ctypes data types:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CData.__pointer_type__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__pointer_type__</span></span><a class=\"headerlink\" href=\"#ctypes._CData.__pointer_type__\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The pointer type that was created by calling\n<a class=\"reference internal\" href=\"#ctypes.POINTER\" title=\"ctypes.POINTER\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">POINTER()</span></code></a> for corresponding ctypes data type. If a pointer type\nwas not yet created, the attribute is missing.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n<p>Common instance variables of ctypes data types:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CData._b_base_\">\n<span class=\"sig-name descname\"><span class=\"pre\">_b_base_</span></span><a class=\"headerlink\" href=\"#ctypes._CData._b_base_\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Sometimes ctypes data instances do not own the memory block they contain,\ninstead they share part of the memory block of a base object.  The\n<a class=\"reference internal\" href=\"#ctypes._CData._b_base_\" title=\"ctypes._CData._b_base_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_b_base_</span></code></a> read-only member is the root ctypes object that owns the\nmemory block.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CData._b_needsfree_\">\n<span class=\"sig-name descname\"><span class=\"pre\">_b_needsfree_</span></span><a class=\"headerlink\" href=\"#ctypes._CData._b_needsfree_\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This read-only variable is true when the ctypes data instance has\nallocated the memory block itself, false otherwise.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes._CData._objects\">\n<span class=\"sig-name descname\"><span class=\"pre\">_objects</span></span><a class=\"headerlink\" href=\"#ctypes._CData._objects\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This member is either <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> or a dictionary containing Python objects\nthat need to be kept alive so that the memory block contents is kept\nvalid.  This object is only exposed for debugging; never modify the\ncontents of this dictionary.</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"ctypes-fundamental-data-types-2\">\n<span id=\"id1\"></span><h3>Fundamental data types<a class=\"headerlink\" href=\"#ctypes-fundamental-data-types-2\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes._SimpleCData\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_SimpleCData</span></span><a class=\"headerlink\" href=\"#ctypes._SimpleCData\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This non-public class is the base class of all fundamental ctypes data\ntypes. It is mentioned here because it contains the common attributes of the\nfundamental ctypes data types.  <a class=\"reference internal\" href=\"#ctypes._SimpleCData\" title=\"ctypes._SimpleCData\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">_SimpleCData</span></code></a> is a subclass of\n<a class=\"reference internal\" href=\"#ctypes._CData\" title=\"ctypes._CData\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">_CData</span></code></a>, so it inherits their methods and attributes. ctypes data\ntypes that are not and do not contain pointers can now be pickled.</p>\n<p>Instances have a single attribute:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes._SimpleCData.value\">\n<span class=\"sig-name descname\"><span class=\"pre\">value</span></span><a class=\"headerlink\" href=\"#ctypes._SimpleCData.value\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This attribute contains the actual value of the instance. For integer and\npointer types, it is an integer, for character types, it is a single\ncharacter bytes object or string, for character pointer types it is a\nPython bytes object or string.</p>\n<p>When the <code class=\"docutils literal notranslate\"><span class=\"pre\">value</span></code> attribute is retrieved from a ctypes instance, usually\na new object is returned each time.  <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> does <em>not</em> implement\noriginal object return, always a new object is constructed.  The same is\ntrue for all other ctypes object instances.</p>\n</dd></dl>\n\n</dd></dl>\n\n<p>Fundamental data types, when returned as foreign function call results, or, for\nexample, by retrieving structure field members or array items, are transparently\nconverted to native Python types.  In other words, if a foreign function has a\n<a class=\"reference internal\" href=\"#ctypes._CFuncPtr.restype\" title=\"ctypes._CFuncPtr.restype\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">restype</span></code></a> of <a class=\"reference internal\" href=\"#ctypes.c_char_p\" title=\"ctypes.c_char_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_char_p</span></code></a>, you will always receive a Python bytes\nobject, <em>not</em> a <a class=\"reference internal\" href=\"#ctypes.c_char_p\" title=\"ctypes.c_char_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_char_p</span></code></a> instance.</p>\n<p>Subclasses of fundamental data types do <em>not</em> inherit this behavior. So, if a\nforeign functions <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">restype</span></code> is a subclass of <a class=\"reference internal\" href=\"#ctypes.c_void_p\" title=\"ctypes.c_void_p\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_void_p</span></code></a>, you will\nreceive an instance of this subclass from the function call. Of course, you can\nget the value of the pointer by accessing the <code class=\"docutils literal notranslate\"><span class=\"pre\">value</span></code> attribute.</p>\n<p>These are the fundamental ctypes data types:</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_byte\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_byte</span></span><a class=\"headerlink\" href=\"#ctypes.c_byte\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">signed</span><span class=\"w\"> </span><span class=\"kt\">char</span></span> datatype, and interprets the value as\nsmall integer.  The constructor accepts an optional integer initializer; no\noverflow checking is done.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_char\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_char</span></span><a class=\"headerlink\" href=\"#ctypes.c_char\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">char</span></span> datatype, and interprets the value as a single\ncharacter.  The constructor accepts an optional string initializer, the\nlength of the string must be exactly one character.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_char_p\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_char_p</span></span><a class=\"headerlink\" href=\"#ctypes.c_char_p\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">char</span><span class=\"p\">*</span></span> datatype when it points to a zero-terminated\nstring.  For a general character pointer that may also point to binary data,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">POINTER(c_char)</span></code> must be used.  The constructor accepts an integer\naddress, or a bytes object.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_double\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_double</span></span><a class=\"headerlink\" href=\"#ctypes.c_double\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">double</span></span> datatype.  The constructor accepts an\noptional float initializer.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_longdouble\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_longdouble</span></span><a class=\"headerlink\" href=\"#ctypes.c_longdouble\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">long</span><span class=\"w\"> </span><span class=\"kt\">double</span></span> datatype.  The constructor accepts an\noptional float initializer.  On platforms where <code class=\"docutils literal notranslate\"><span class=\"pre\">sizeof(long</span> <span class=\"pre\">double)</span> <span class=\"pre\">==</span>\n<span class=\"pre\">sizeof(double)</span></code> it is an alias to <a class=\"reference internal\" href=\"#ctypes.c_double\" title=\"ctypes.c_double\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_double</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_float\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_float</span></span><a class=\"headerlink\" href=\"#ctypes.c_float\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">float</span></span> datatype.  The constructor accepts an\noptional float initializer.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_double_complex\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_double_complex</span></span><a class=\"headerlink\" href=\"#ctypes.c_double_complex\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">double</span><span class=\"w\"> </span><span class=\"kt\">complex</span></span> datatype, if available.  The\nconstructor accepts an optional <a class=\"reference internal\" href=\"functions.html#complex\" title=\"complex\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">complex</span></code></a> initializer.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_float_complex\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_float_complex</span></span><a class=\"headerlink\" href=\"#ctypes.c_float_complex\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"kt\">complex</span></span> datatype, if available.  The\nconstructor accepts an optional <a class=\"reference internal\" href=\"functions.html#complex\" title=\"complex\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">complex</span></code></a> initializer.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_longdouble_complex\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_longdouble_complex</span></span><a class=\"headerlink\" href=\"#ctypes.c_longdouble_complex\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">long</span><span class=\"w\"> </span><span class=\"kt\">double</span><span class=\"w\"> </span><span class=\"kt\">complex</span></span> datatype, if available.  The\nconstructor accepts an optional <a class=\"reference internal\" href=\"functions.html#complex\" title=\"complex\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">complex</span></code></a> initializer.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_int\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_int</span></span><a class=\"headerlink\" href=\"#ctypes.c_int\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">signed</span><span class=\"w\"> </span><span class=\"kt\">int</span></span> datatype.  The constructor accepts an\noptional integer initializer; no overflow checking is done.  On platforms\nwhere <code class=\"docutils literal notranslate\"><span class=\"pre\">sizeof(int)</span> <span class=\"pre\">==</span> <span class=\"pre\">sizeof(long)</span></code> it is an alias to <a class=\"reference internal\" href=\"#ctypes.c_long\" title=\"ctypes.c_long\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_long</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_int8\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_int8</span></span><a class=\"headerlink\" href=\"#ctypes.c_int8\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C 8-bit <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">signed</span><span class=\"w\"> </span><span class=\"kt\">int</span></span> datatype.  It is an alias for\n<a class=\"reference internal\" href=\"#ctypes.c_byte\" title=\"ctypes.c_byte\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_byte</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_int16\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_int16</span></span><a class=\"headerlink\" href=\"#ctypes.c_int16\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C 16-bit <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">signed</span><span class=\"w\"> </span><span class=\"kt\">int</span></span> datatype.  Usually an alias for\n<a class=\"reference internal\" href=\"#ctypes.c_short\" title=\"ctypes.c_short\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_short</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_int32\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_int32</span></span><a class=\"headerlink\" href=\"#ctypes.c_int32\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C 32-bit <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">signed</span><span class=\"w\"> </span><span class=\"kt\">int</span></span> datatype.  Usually an alias for\n<a class=\"reference internal\" href=\"#ctypes.c_int\" title=\"ctypes.c_int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_int64\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_int64</span></span><a class=\"headerlink\" href=\"#ctypes.c_int64\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C 64-bit <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">signed</span><span class=\"w\"> </span><span class=\"kt\">int</span></span> datatype.  Usually an alias for\n<a class=\"reference internal\" href=\"#ctypes.c_longlong\" title=\"ctypes.c_longlong\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_longlong</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_long\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_long</span></span><a class=\"headerlink\" href=\"#ctypes.c_long\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">signed</span><span class=\"w\"> </span><span class=\"kt\">long</span></span> datatype.  The constructor accepts an\noptional integer initializer; no overflow checking is done.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_longlong\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_longlong</span></span><a class=\"headerlink\" href=\"#ctypes.c_longlong\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">signed</span><span class=\"w\"> </span><span class=\"kt\">long</span><span class=\"w\"> </span><span class=\"kt\">long</span></span> datatype.  The constructor accepts\nan optional integer initializer; no overflow checking is done.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_short\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_short</span></span><a class=\"headerlink\" href=\"#ctypes.c_short\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">signed</span><span class=\"w\"> </span><span class=\"kt\">short</span></span> datatype.  The constructor accepts an\noptional integer initializer; no overflow checking is done.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_size_t\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_size_t</span></span><a class=\"headerlink\" href=\"#ctypes.c_size_t\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">size_t</span></code> datatype.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_ssize_t\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_ssize_t</span></span><a class=\"headerlink\" href=\"#ctypes.c_ssize_t\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">ssize_t</span></code> datatype.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.2.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_time_t\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_time_t</span></span><a class=\"headerlink\" href=\"#ctypes.c_time_t\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">time_t</span></code> datatype.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.12.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_ubyte\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_ubyte</span></span><a class=\"headerlink\" href=\"#ctypes.c_ubyte\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">char</span></span> datatype, it interprets the value as\nsmall integer.  The constructor accepts an optional integer initializer; no\noverflow checking is done.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_uint\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_uint</span></span><a class=\"headerlink\" href=\"#ctypes.c_uint\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">int</span></span> datatype.  The constructor accepts an\noptional integer initializer; no overflow checking is done.  On platforms\nwhere <code class=\"docutils literal notranslate\"><span class=\"pre\">sizeof(int)</span> <span class=\"pre\">==</span> <span class=\"pre\">sizeof(long)</span></code> it is an alias for <a class=\"reference internal\" href=\"#ctypes.c_ulong\" title=\"ctypes.c_ulong\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_ulong</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_uint8\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_uint8</span></span><a class=\"headerlink\" href=\"#ctypes.c_uint8\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C 8-bit <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">int</span></span> datatype.  It is an alias for\n<a class=\"reference internal\" href=\"#ctypes.c_ubyte\" title=\"ctypes.c_ubyte\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_ubyte</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_uint16\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_uint16</span></span><a class=\"headerlink\" href=\"#ctypes.c_uint16\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C 16-bit <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">int</span></span> datatype.  Usually an alias for\n<a class=\"reference internal\" href=\"#ctypes.c_ushort\" title=\"ctypes.c_ushort\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_ushort</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_uint32\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_uint32</span></span><a class=\"headerlink\" href=\"#ctypes.c_uint32\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C 32-bit <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">int</span></span> datatype.  Usually an alias for\n<a class=\"reference internal\" href=\"#ctypes.c_uint\" title=\"ctypes.c_uint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_uint</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_uint64\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_uint64</span></span><a class=\"headerlink\" href=\"#ctypes.c_uint64\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C 64-bit <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">int</span></span> datatype.  Usually an alias for\n<a class=\"reference internal\" href=\"#ctypes.c_ulonglong\" title=\"ctypes.c_ulonglong\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_ulonglong</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_ulong\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_ulong</span></span><a class=\"headerlink\" href=\"#ctypes.c_ulong\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">long</span></span> datatype.  The constructor accepts an\noptional integer initializer; no overflow checking is done.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_ulonglong\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_ulonglong</span></span><a class=\"headerlink\" href=\"#ctypes.c_ulonglong\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">long</span><span class=\"w\"> </span><span class=\"kt\">long</span></span> datatype.  The constructor\naccepts an optional integer initializer; no overflow checking is done.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_ushort\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_ushort</span></span><a class=\"headerlink\" href=\"#ctypes.c_ushort\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">unsigned</span><span class=\"w\"> </span><span class=\"kt\">short</span></span> datatype.  The constructor accepts\nan optional integer initializer; no overflow checking is done.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_void_p\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_void_p</span></span><a class=\"headerlink\" href=\"#ctypes.c_void_p\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">void</span><span class=\"p\">*</span></span> type.  The value is represented as integer.\nThe constructor accepts an optional integer initializer.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_wchar\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_wchar</span></span><a class=\"headerlink\" href=\"#ctypes.c_wchar\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">wchar_t</span></code> datatype, and interprets the value as a\nsingle character unicode string.  The constructor accepts an optional string\ninitializer, the length of the string must be exactly one character.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_wchar_p\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_wchar_p</span></span><a class=\"headerlink\" href=\"#ctypes.c_wchar_p\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><span class=\"n\">wchar_t</span><span class=\"p\">*</span></span> datatype, which must be a pointer to a\nzero-terminated wide character string.  The constructor accepts an integer\naddress, or a string.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.c_bool\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">c_bool</span></span><a class=\"headerlink\" href=\"#ctypes.c_bool\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represent the C <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">bool</span></span> datatype (more accurately, <span class=\"c-expr sig sig-inline c\"><span class=\"kt\">_Bool</span></span> from\nC99).  Its value can be <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, and the constructor accepts any object\nthat has a truth value.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.HRESULT\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">HRESULT</span></span><a class=\"headerlink\" href=\"#ctypes.HRESULT\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents a <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">HRESULT</span></code> value, which contains success or\nerror information for a function or method call.</p>\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.py_object\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">py_object</span></span><a class=\"headerlink\" href=\"#ctypes.py_object\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Represents the C <span class=\"c-expr sig sig-inline c\"><a class=\"reference internal\" href=\"../c-api/structures.html#c.PyObject\" title=\"PyObject\"><span class=\"n\">PyObject</span></a><span class=\"p\">*</span></span> datatype.  Calling this without an\nargument creates a <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> <span class=\"c-expr sig sig-inline c\"><a class=\"reference internal\" href=\"../c-api/structures.html#c.PyObject\" title=\"PyObject\"><span class=\"n\">PyObject</span></a><span class=\"p\">*</span></span> pointer.</p>\n<div class=\"versionchanged\">\n<p><span class=\"versionmodified changed\">Changed in version 3.14: </span><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">py_object</span></code> is now a <a class=\"reference internal\" href=\"../glossary.html#term-generic-type\"><span class=\"xref std std-term\">generic type</span></a>.</p>\n</div>\n</dd></dl>\n\n<p>The <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes.wintypes</span></code> module provides quite some other Windows specific\ndata types, for example <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">HWND</span></code>, <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">WPARAM</span></code>, or <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">DWORD</span></code>.\nSome useful structures like <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">MSG</span></code> or <code class=\"xref c c-type docutils literal notranslate\"><span class=\"pre\">RECT</span></code> are also defined.</p>\n</section>\n<section id=\"structured-data-types\">\n<span id=\"ctypes-structured-data-types\"></span><h3>Structured data types<a class=\"headerlink\" href=\"#structured-data-types\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.Union\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Union</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kw</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.Union\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Abstract base class for unions in native byte order.</p>\n<p>Unions share common attributes and behavior with structures;\nsee <a class=\"reference internal\" href=\"#ctypes.Structure\" title=\"ctypes.Structure\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Structure</span></code></a> documentation for details.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.BigEndianUnion\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">BigEndianUnion</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kw</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.BigEndianUnion\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Abstract base class for unions in <em>big endian</em> byte order.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.LittleEndianUnion\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">LittleEndianUnion</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kw</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.LittleEndianUnion\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Abstract base class for unions in <em>little endian</em> byte order.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.11.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.BigEndianStructure\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">BigEndianStructure</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kw</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.BigEndianStructure\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Abstract base class for structures in <em>big endian</em> byte order.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.LittleEndianStructure\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">LittleEndianStructure</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kw</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.LittleEndianStructure\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Abstract base class for structures in <em>little endian</em> byte order.</p>\n</dd></dl>\n\n<p>Structures and unions with non-native byte order cannot contain pointer type\nfields, or any other data types containing pointer type fields.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.Structure\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Structure</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kw</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.Structure\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Abstract base class for structures in <em>native</em> byte order.</p>\n<p>Concrete structure and union types must be created by subclassing one of these\ntypes, and at least define a <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> class variable. <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> will\ncreate <a class=\"reference internal\" href=\"../glossary.html#term-descriptor\"><span class=\"xref std std-term\">descriptor</span></a>s which allow reading and writing the fields by direct\nattribute accesses.  These are the</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.Structure._fields_\">\n<span class=\"sig-name descname\"><span class=\"pre\">_fields_</span></span><a class=\"headerlink\" href=\"#ctypes.Structure._fields_\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A sequence defining the structure fields.  The items must be 2-tuples or\n3-tuples.  The first item is the name of the field, the second item\nspecifies the type of the field; it can be any ctypes data type.</p>\n<p>For integer type fields like <a class=\"reference internal\" href=\"#ctypes.c_int\" title=\"ctypes.c_int\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">c_int</span></code></a>, a third optional item can be\ngiven.  It must be a small positive integer defining the bit width of the\nfield.</p>\n<p>Field names must be unique within one structure or union.  This is not\nchecked, only one field can be accessed when names are repeated.</p>\n<p>It is possible to define the <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> class variable <em>after</em> the\nclass statement that defines the Structure subclass, this allows creating\ndata types that directly or indirectly reference themselves:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">List</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n<span class=\"n\">List</span><span class=\"o\">.</span><span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;pnext&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">List</span><span class=\"p\">)),</span>\n                 <span class=\"o\">...</span>\n                <span class=\"p\">]</span>\n</pre></div>\n</div>\n<p>The <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code> class variable can only be set once.\nLater assignments will raise an <a class=\"reference internal\" href=\"exceptions.html#AttributeError\" title=\"AttributeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AttributeError</span></code></a>.</p>\n<p>Additionally, the <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code> class variable must be defined before\nthe structure or union type is first used: an instance or subclass is\ncreated, <a class=\"reference internal\" href=\"#ctypes.sizeof\" title=\"ctypes.sizeof\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sizeof()</span></code></a> is called on it, and so on.\nLater assignments to <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code> will raise an <a class=\"reference internal\" href=\"exceptions.html#AttributeError\" title=\"AttributeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">AttributeError</span></code></a>.\nIf <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code> has not been set before such use,\nthe structure or union will have no own fields, as if <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code>\nwas empty.</p>\n<p>Sub-subclasses of structure types inherit the fields of the base class\nplus the <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> defined in the sub-subclass, if any.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.Structure._pack_\">\n<span class=\"sig-name descname\"><span class=\"pre\">_pack_</span></span><a class=\"headerlink\" href=\"#ctypes.Structure._pack_\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>An optional small integer that allows overriding the alignment of\nstructure fields in the instance.</p>\n<p>This is only implemented for the MSVC-compatible memory layout\n(see <a class=\"reference internal\" href=\"#ctypes.Structure._layout_\" title=\"ctypes.Structure._layout_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_layout_</span></code></a>).</p>\n<p>Setting <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_pack_</span></code> to 0 is the same as not setting it at all.\nOtherwise, the value must be a positive power of two.\nThe effect is equivalent to <code class=\"docutils literal notranslate\"><span class=\"pre\">#pragma</span> <span class=\"pre\">pack(N)</span></code> in C, except\n<a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> may allow larger <em>n</em> than what the compiler accepts.</p>\n<p><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_pack_</span></code> must already be defined\nwhen <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> is assigned, otherwise it will have no effect.</p>\n<div class=\"deprecated-removed\">\n<p><span class=\"versionmodified deprecated\">Deprecated since version 3.14, will be removed in version 3.19: </span>For historical reasons, if <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_pack_</span></code> is non-zero,\nthe MSVC-compatible layout will be used by default.\nOn non-Windows platforms, this default is deprecated and is slated to\nbecome an error in Python 3.19.\nIf it is intended, set <a class=\"reference internal\" href=\"#ctypes.Structure._layout_\" title=\"ctypes.Structure._layout_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_layout_</span></code></a> to <code class=\"docutils literal notranslate\"><span class=\"pre\">'ms'</span></code>\nexplicitly.</p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.Structure._align_\">\n<span class=\"sig-name descname\"><span class=\"pre\">_align_</span></span><a class=\"headerlink\" href=\"#ctypes.Structure._align_\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>An optional small integer that allows increasing the alignment of\nthe structure when being packed or unpacked to/from memory.</p>\n<p>The value must not be negative.\nThe effect is equivalent to <code class=\"docutils literal notranslate\"><span class=\"pre\">__attribute__((aligned(N)))</span></code> on GCC\nor <code class=\"docutils literal notranslate\"><span class=\"pre\">#pragma</span> <span class=\"pre\">align(N)</span></code> on MSVC, except <a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> may allow\nvalues that the compiler would reject.</p>\n<p><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_align_</span></code> can only <em>increase</em> a structure’s alignment\nrequirements. Setting it to 0 or 1 has no effect.</p>\n<p>Using values that are not powers of two is discouraged and may lead to\nsurprising behavior.</p>\n<p><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_align_</span></code> must already be defined\nwhen <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> is assigned, otherwise it will have no effect.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.13.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.Structure._layout_\">\n<span class=\"sig-name descname\"><span class=\"pre\">_layout_</span></span><a class=\"headerlink\" href=\"#ctypes.Structure._layout_\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>An optional string naming the struct/union layout. It can currently\nbe set to:</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;ms&quot;</span></code>: the layout used by the Microsoft compiler (MSVC).\nOn GCC and Clang, this layout can be selected with\n<code class=\"docutils literal notranslate\"><span class=\"pre\">__attribute__((ms_struct))</span></code>.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;gcc-sysv&quot;</span></code>: the layout used by GCC with the System V or “SysV-like”\ndata model, as used on Linux and macOS.\nWith this layout, <a class=\"reference internal\" href=\"#ctypes.Structure._pack_\" title=\"ctypes.Structure._pack_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_pack_</span></code></a> must be unset or zero.</p></li>\n</ul>\n<p>If not set explicitly, <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes</span></code> will use a default that\nmatches the platform conventions. This default may change in future\nPython releases (for example, when a new platform gains official support,\nor when a difference between similar platforms is found).\nCurrently the default will be:</p>\n<ul class=\"simple\">\n<li><p>On Windows: <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;ms&quot;</span></code></p></li>\n<li><p>When <a class=\"reference internal\" href=\"#ctypes.Structure._pack_\" title=\"ctypes.Structure._pack_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_pack_</span></code></a> is specified: <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;ms&quot;</span></code>.\n(This is deprecated; see <a class=\"reference internal\" href=\"#ctypes.Structure._pack_\" title=\"ctypes.Structure._pack_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_pack_</span></code></a> documentation.)</p></li>\n<li><p>Otherwise: <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;gcc-sysv&quot;</span></code></p></li>\n</ul>\n<p><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_layout_</span></code> must already be defined when\n<a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> is assigned, otherwise it will have no effect.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.Structure._anonymous_\">\n<span class=\"sig-name descname\"><span class=\"pre\">_anonymous_</span></span><a class=\"headerlink\" href=\"#ctypes.Structure._anonymous_\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>An optional sequence that lists the names of unnamed (anonymous) fields.\n<a class=\"reference internal\" href=\"#ctypes.Structure._anonymous_\" title=\"ctypes.Structure._anonymous_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_anonymous_</span></code></a> must be already defined when <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> is\nassigned, otherwise it will have no effect.</p>\n<p>The fields listed in this variable must be structure or union type fields.\n<a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> will create descriptors in the structure type that allows\naccessing the nested fields directly, without the need to create the\nstructure or union field.</p>\n<p>Here is an example type (Windows):</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">_U</span><span class=\"p\">(</span><span class=\"n\">Union</span><span class=\"p\">):</span>\n    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;lptdesc&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">TYPEDESC</span><span class=\"p\">)),</span>\n                <span class=\"p\">(</span><span class=\"s2\">&quot;lpadesc&quot;</span><span class=\"p\">,</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">ARRAYDESC</span><span class=\"p\">)),</span>\n                <span class=\"p\">(</span><span class=\"s2\">&quot;hreftype&quot;</span><span class=\"p\">,</span> <span class=\"n\">HREFTYPE</span><span class=\"p\">)]</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">TYPEDESC</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n    <span class=\"n\">_anonymous_</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s2\">&quot;u&quot;</span><span class=\"p\">,)</span>\n    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;u&quot;</span><span class=\"p\">,</span> <span class=\"n\">_U</span><span class=\"p\">),</span>\n                <span class=\"p\">(</span><span class=\"s2\">&quot;vt&quot;</span><span class=\"p\">,</span> <span class=\"n\">VARTYPE</span><span class=\"p\">)]</span>\n</pre></div>\n</div>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">TYPEDESC</span></code> structure describes a COM data type, the <code class=\"docutils literal notranslate\"><span class=\"pre\">vt</span></code> field\nspecifies which one of the union fields is valid.  Since the <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> field\nis defined as anonymous field, it is now possible to access the members\ndirectly off the TYPEDESC instance. <code class=\"docutils literal notranslate\"><span class=\"pre\">td.lptdesc</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">td.u.lptdesc</span></code>\nare equivalent, but the former is faster since it does not need to create\na temporary union instance:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">td</span> <span class=\"o\">=</span> <span class=\"n\">TYPEDESC</span><span class=\"p\">()</span>\n<span class=\"n\">td</span><span class=\"o\">.</span><span class=\"n\">vt</span> <span class=\"o\">=</span> <span class=\"n\">VT_PTR</span>\n<span class=\"n\">td</span><span class=\"o\">.</span><span class=\"n\">lptdesc</span> <span class=\"o\">=</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">some_type</span><span class=\"p\">)</span>\n<span class=\"n\">td</span><span class=\"o\">.</span><span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">lptdesc</span> <span class=\"o\">=</span> <span class=\"n\">POINTER</span><span class=\"p\">(</span><span class=\"n\">some_type</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<p>It is possible to define sub-subclasses of structures, they inherit the\nfields of the base class.  If the subclass definition has a separate\n<a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> variable, the fields specified in this are appended to the\nfields of the base class.</p>\n<p>Structure and union constructors accept both positional and keyword\narguments.  Positional arguments are used to initialize member fields in the\nsame order as they are appear in <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a>.  Keyword arguments in the\nconstructor are interpreted as attribute assignments, so they will initialize\n<a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a> with the same name, or create new attributes for names not\npresent in <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CField\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">CField</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kw</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.CField\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Descriptor for fields of a <a class=\"reference internal\" href=\"#ctypes.Structure\" title=\"ctypes.Structure\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Structure</span></code></a> and <a class=\"reference internal\" href=\"#ctypes.Union\" title=\"ctypes.Union\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Union</span></code></a>.\nFor example:</p>\n<div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">Color</span><span class=\"p\">(</span><span class=\"n\">Structure</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_fields_</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n<span class=\"gp\">... </span>        <span class=\"p\">(</span><span class=\"s1\">&#39;red&#39;</span><span class=\"p\">,</span> <span class=\"n\">c_uint8</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>        <span class=\"p\">(</span><span class=\"s1\">&#39;green&#39;</span><span class=\"p\">,</span> <span class=\"n\">c_uint8</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>        <span class=\"p\">(</span><span class=\"s1\">&#39;blue&#39;</span><span class=\"p\">,</span> <span class=\"n\">c_uint8</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>        <span class=\"p\">(</span><span class=\"s1\">&#39;intense&#39;</span><span class=\"p\">,</span> <span class=\"n\">c_bool</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>        <span class=\"p\">(</span><span class=\"s1\">&#39;blinking&#39;</span><span class=\"p\">,</span> <span class=\"n\">c_bool</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>   <span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Color</span><span class=\"o\">.</span><span class=\"n\">red</span>\n<span class=\"go\">&lt;ctypes.CField &#39;red&#39; type=c_ubyte, ofs=0, size=1&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Color</span><span class=\"o\">.</span><span class=\"n\">green</span><span class=\"o\">.</span><span class=\"n\">type</span>\n<span class=\"go\">&lt;class &#39;ctypes.c_ubyte&#39;&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Color</span><span class=\"o\">.</span><span class=\"n\">blue</span><span class=\"o\">.</span><span class=\"n\">byte_offset</span>\n<span class=\"go\">2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Color</span><span class=\"o\">.</span><span class=\"n\">intense</span>\n<span class=\"go\">&lt;ctypes.CField &#39;intense&#39; type=c_bool, ofs=3, bit_size=1, bit_offset=0&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Color</span><span class=\"o\">.</span><span class=\"n\">blinking</span><span class=\"o\">.</span><span class=\"n\">bit_offset</span>\n<span class=\"go\">1</span>\n</pre></div>\n</div>\n<p>All attributes are read-only.</p>\n<p><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CField</span></code> objects are created via <a class=\"reference internal\" href=\"#ctypes.Structure._fields_\" title=\"ctypes.Structure._fields_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_fields_</span></code></a>;\ndo not instantiate the class directly.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14: </span>Previously, descriptors only had <code class=\"docutils literal notranslate\"><span class=\"pre\">offset</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">size</span></code> attributes\nand a readable string representation; the <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CField</span></code> class was not\navailable directly.</p>\n</div>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CField.name\">\n<span class=\"sig-name descname\"><span class=\"pre\">name</span></span><a class=\"headerlink\" href=\"#ctypes.CField.name\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Name of the field, as a string.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CField.type\">\n<span class=\"sig-name descname\"><span class=\"pre\">type</span></span><a class=\"headerlink\" href=\"#ctypes.CField.type\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Type of the field, as a <a class=\"reference internal\" href=\"#ctypes-data-types\"><span class=\"std std-ref\">ctypes class</span></a>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CField.offset\">\n<span class=\"sig-name descname\"><span class=\"pre\">offset</span></span><a class=\"headerlink\" href=\"#ctypes.CField.offset\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"ctypes.CField.byte_offset\">\n<span class=\"sig-name descname\"><span class=\"pre\">byte_offset</span></span><a class=\"headerlink\" href=\"#ctypes.CField.byte_offset\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Offset of the field, in bytes.</p>\n<p>For bitfields, this is the offset of the underlying byte-aligned\n<em>storage unit</em>; see <a class=\"reference internal\" href=\"#ctypes.CField.bit_offset\" title=\"ctypes.CField.bit_offset\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">bit_offset</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CField.byte_size\">\n<span class=\"sig-name descname\"><span class=\"pre\">byte_size</span></span><a class=\"headerlink\" href=\"#ctypes.CField.byte_size\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Size of the field, in bytes.</p>\n<p>For bitfields, this is the size of the underlying <em>storage unit</em>.\nTypically, it has the same size as the bitfield’s type.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CField.size\">\n<span class=\"sig-name descname\"><span class=\"pre\">size</span></span><a class=\"headerlink\" href=\"#ctypes.CField.size\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>For non-bitfields, equivalent to <a class=\"reference internal\" href=\"#ctypes.CField.byte_size\" title=\"ctypes.CField.byte_size\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">byte_size</span></code></a>.</p>\n<p>For bitfields, this contains a backwards-compatible bit-packed\nvalue that combines <a class=\"reference internal\" href=\"#ctypes.CField.bit_size\" title=\"ctypes.CField.bit_size\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">bit_size</span></code></a> and\n<a class=\"reference internal\" href=\"#ctypes.CField.bit_offset\" title=\"ctypes.CField.bit_offset\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">bit_offset</span></code></a>.\nPrefer using the explicit attributes instead.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CField.is_bitfield\">\n<span class=\"sig-name descname\"><span class=\"pre\">is_bitfield</span></span><a class=\"headerlink\" href=\"#ctypes.CField.is_bitfield\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>True if this is a bitfield.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CField.bit_offset\">\n<span class=\"sig-name descname\"><span class=\"pre\">bit_offset</span></span><a class=\"headerlink\" href=\"#ctypes.CField.bit_offset\" title=\"Link to this definition\">¶</a></dt>\n<dt class=\"sig sig-object py\" id=\"ctypes.CField.bit_size\">\n<span class=\"sig-name descname\"><span class=\"pre\">bit_size</span></span><a class=\"headerlink\" href=\"#ctypes.CField.bit_size\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The location of a bitfield within its <em>storage unit</em>, that is, within\n<a class=\"reference internal\" href=\"#ctypes.CField.byte_size\" title=\"ctypes.CField.byte_size\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">byte_size</span></code></a> bytes of memory starting at\n<a class=\"reference internal\" href=\"#ctypes.CField.byte_offset\" title=\"ctypes.CField.byte_offset\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">byte_offset</span></code></a>.</p>\n<p>To get the field’s value, read the storage unit as an integer,\n<a class=\"reference internal\" href=\"../reference/expressions.html#shifting\"><span class=\"std std-ref\">shift left</span></a> by <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">bit_offset</span></code> and\ntake the <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">bit_size</span></code> least significant bits.</p>\n<p>For non-bitfields, <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">bit_offset</span></code> is zero\nand <code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">bit_size</span></code> is equal to <code class=\"docutils literal notranslate\"><span class=\"pre\">byte_size</span> <span class=\"pre\">*</span> <span class=\"pre\">8</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.CField.is_anonymous\">\n<span class=\"sig-name descname\"><span class=\"pre\">is_anonymous</span></span><a class=\"headerlink\" href=\"#ctypes.CField.is_anonymous\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>True if this field is anonymous, that is, it contains nested sub-fields\nthat should be merged into a containing structure or union.</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"arrays-and-pointers\">\n<span id=\"ctypes-arrays-pointers\"></span><h3>Arrays and pointers<a class=\"headerlink\" href=\"#arrays-and-pointers\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes.Array\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Array</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.Array\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Abstract base class for arrays.</p>\n<p>The recommended way to create concrete array types is by multiplying any\n<a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> data type with a non-negative integer.  Alternatively, you can subclass\nthis type and define <a class=\"reference internal\" href=\"#ctypes.Array._length_\" title=\"ctypes.Array._length_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_length_</span></code></a> and <a class=\"reference internal\" href=\"#ctypes.Array._type_\" title=\"ctypes.Array._type_\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">_type_</span></code></a> class variables.\nArray elements can be read and written using standard\nsubscript and slice accesses; for slice reads, the resulting object is\n<em>not</em> itself an <a class=\"reference internal\" href=\"#ctypes.Array\" title=\"ctypes.Array\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Array</span></code></a>.</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.Array._length_\">\n<span class=\"sig-name descname\"><span class=\"pre\">_length_</span></span><a class=\"headerlink\" href=\"#ctypes.Array._length_\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>A positive integer specifying the number of elements in the array.\nOut-of-range subscripts result in an <a class=\"reference internal\" href=\"exceptions.html#IndexError\" title=\"IndexError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">IndexError</span></code></a>. Will be\nreturned by <a class=\"reference internal\" href=\"functions.html#len\" title=\"len\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">len()</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.Array._type_\">\n<span class=\"sig-name descname\"><span class=\"pre\">_type_</span></span><a class=\"headerlink\" href=\"#ctypes.Array._type_\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Specifies the type of each element in the array.</p>\n</dd></dl>\n\n<p>Array subclass constructors accept positional arguments, used to\ninitialize the elements in order.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"ctypes.ARRAY\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">ARRAY</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">type</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">length</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.ARRAY\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Create an array.\nEquivalent to <code class=\"docutils literal notranslate\"><span class=\"pre\">type</span> <span class=\"pre\">*</span> <span class=\"pre\">length</span></code>, where <em>type</em> is a\n<a class=\"reference internal\" href=\"#module-ctypes\" title=\"ctypes: A foreign function library for Python.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code></a> data type and <em>length</em> an integer.</p>\n<p>This function is <a class=\"reference internal\" href=\"../glossary.html#term-soft-deprecated\"><span class=\"xref std std-term\">soft deprecated</span></a> in favor of multiplication.\nThere are no plans to remove it.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"ctypes._Pointer\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">class</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">_Pointer</span></span><a class=\"headerlink\" href=\"#ctypes._Pointer\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Private, abstract base class for pointers.</p>\n<p>Concrete pointer types are created by calling <a class=\"reference internal\" href=\"#ctypes.POINTER\" title=\"ctypes.POINTER\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">POINTER()</span></code></a> with the\ntype that will be pointed to; this is done automatically by\n<a class=\"reference internal\" href=\"#ctypes.pointer\" title=\"ctypes.pointer\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">pointer()</span></code></a>.</p>\n<p>If a pointer points to an array, its elements can be read and\nwritten using standard subscript and slice accesses.  Pointer objects\nhave no size, so <a class=\"reference internal\" href=\"functions.html#len\" title=\"len\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">len()</span></code></a> will raise <a class=\"reference internal\" href=\"exceptions.html#TypeError\" title=\"TypeError\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">TypeError</span></code></a>.  Negative\nsubscripts will read from the memory <em>before</em> the pointer (as in C), and\nout-of-range subscripts will probably crash with an access violation (if\nyou’re lucky).</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes._Pointer._type_\">\n<span class=\"sig-name descname\"><span class=\"pre\">_type_</span></span><a class=\"headerlink\" href=\"#ctypes._Pointer._type_\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Specifies the type pointed to.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes._Pointer.contents\">\n<span class=\"sig-name descname\"><span class=\"pre\">contents</span></span><a class=\"headerlink\" href=\"#ctypes._Pointer.contents\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>Returns the object to which to pointer points.  Assigning to this\nattribute changes the pointer to point to the assigned object.</p>\n</dd></dl>\n\n</dd></dl>\n\n</section>\n<section id=\"exceptions\">\n<span id=\"ctypes-exceptions\"></span><h3>Exceptions<a class=\"headerlink\" href=\"#exceptions\" title=\"Link to this heading\">¶</a></h3>\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"ctypes.ArgumentError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">ArgumentError</span></span><a class=\"headerlink\" href=\"#ctypes.ArgumentError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This exception is raised when a foreign function call cannot convert one of the\npassed arguments.</p>\n</dd></dl>\n\n<dl class=\"py exception\">\n<dt class=\"sig sig-object py\" id=\"ctypes.COMError\">\n<em class=\"property\"><span class=\"k\"><span class=\"pre\">exception</span></span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">ctypes.</span></span><span class=\"sig-name descname\"><span class=\"pre\">COMError</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">hresult</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">text</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">details</span></span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#ctypes.COMError\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>This exception is raised when a COM method call failed.</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.COMError.hresult\">\n<span class=\"sig-name descname\"><span class=\"pre\">hresult</span></span><a class=\"headerlink\" href=\"#ctypes.COMError.hresult\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The integer value representing the error code.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.COMError.text\">\n<span class=\"sig-name descname\"><span class=\"pre\">text</span></span><a class=\"headerlink\" href=\"#ctypes.COMError.text\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The error message.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"ctypes.COMError.details\">\n<span class=\"sig-name descname\"><span class=\"pre\">details</span></span><a class=\"headerlink\" href=\"#ctypes.COMError.details\" title=\"Link to this definition\">¶</a></dt>\n<dd><p>The 5-tuple <code class=\"docutils literal notranslate\"><span class=\"pre\">(descr,</span> <span class=\"pre\">source,</span> <span class=\"pre\">helpfile,</span> <span class=\"pre\">helpcontext,</span> <span class=\"pre\">progid)</span></code>.</p>\n<p><em>descr</em> is the textual description.  <em>source</em> is the language-dependent\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ProgID</span></code> for the class or application that raised the error.  <em>helpfile</em>\nis the path of the help file.  <em>helpcontext</em> is the help context\nidentifier.  <em>progid</em> is the <code class=\"docutils literal notranslate\"><span class=\"pre\">ProgID</span></code> of the interface that defined the\nerror.</p>\n</dd></dl>\n\n<div class=\"availability docutils container\">\n<p><a class=\"reference internal\" href=\"intro.html#availability\"><span class=\"std std-ref\">Availability</span></a>: Windows</p>\n</div>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified added\">Added in version 3.14.</span></p>\n</div>\n</dd></dl>\n\n</section>\n</section>\n</section>\n\n\n            <div class=\"clearer\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"Main\">\n        <div class=\"sphinxsidebarwrapper\">\n  <div>\n    <h3><a href=\"../contents.html\">Table of Contents</a></h3>\n    <ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code> — A foreign function library for Python</a><ul>\n<li><a class=\"reference internal\" href=\"#ctypes-tutorial\">ctypes tutorial</a><ul>\n<li><a class=\"reference internal\" href=\"#loading-dynamic-link-libraries\">Loading dynamic link libraries</a></li>\n<li><a class=\"reference internal\" href=\"#accessing-functions-from-loaded-dlls\">Accessing functions from loaded dlls</a></li>\n<li><a class=\"reference internal\" href=\"#calling-functions\">Calling functions</a></li>\n<li><a class=\"reference internal\" href=\"#fundamental-data-types\">Fundamental data types</a></li>\n<li><a class=\"reference internal\" href=\"#calling-functions-continued\">Calling functions, continued</a></li>\n<li><a class=\"reference internal\" href=\"#calling-variadic-functions\">Calling variadic functions</a></li>\n<li><a class=\"reference internal\" href=\"#calling-functions-with-your-own-custom-data-types\">Calling functions with your own custom data types</a></li>\n<li><a class=\"reference internal\" href=\"#specifying-the-required-argument-types-function-prototypes\">Specifying the required argument types (function prototypes)</a></li>\n<li><a class=\"reference internal\" href=\"#return-types\">Return types</a></li>\n<li><a class=\"reference internal\" href=\"#passing-pointers-or-passing-parameters-by-reference\">Passing pointers (or: passing parameters by reference)</a></li>\n<li><a class=\"reference internal\" href=\"#structures-and-unions\">Structures and unions</a></li>\n<li><a class=\"reference internal\" href=\"#structure-union-layout-alignment-and-byte-order\">Structure/union layout, alignment and byte order</a></li>\n<li><a class=\"reference internal\" href=\"#bit-fields-in-structures-and-unions\">Bit fields in structures and unions</a></li>\n<li><a class=\"reference internal\" href=\"#arrays\">Arrays</a></li>\n<li><a class=\"reference internal\" href=\"#pointers\">Pointers</a></li>\n<li><a class=\"reference internal\" href=\"#thread-safety-without-the-gil\">Thread safety without the GIL</a></li>\n<li><a class=\"reference internal\" href=\"#type-conversions\">Type conversions</a></li>\n<li><a class=\"reference internal\" href=\"#incomplete-types\">Incomplete Types</a></li>\n<li><a class=\"reference internal\" href=\"#callback-functions\">Callback functions</a></li>\n<li><a class=\"reference internal\" href=\"#accessing-values-exported-from-dlls\">Accessing values exported from dlls</a></li>\n<li><a class=\"reference internal\" href=\"#surprises\">Surprises</a></li>\n<li><a class=\"reference internal\" href=\"#variable-sized-data-types\">Variable-sized data types</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#ctypes-reference\">ctypes reference</a><ul>\n<li><a class=\"reference internal\" href=\"#finding-shared-libraries\">Finding shared libraries</a></li>\n<li><a class=\"reference internal\" href=\"#listing-loaded-shared-libraries\">Listing loaded shared libraries</a></li>\n<li><a class=\"reference internal\" href=\"#loading-shared-libraries\">Loading shared libraries</a></li>\n<li><a class=\"reference internal\" href=\"#foreign-functions\">Foreign functions</a></li>\n<li><a class=\"reference internal\" href=\"#function-prototypes\">Function prototypes</a></li>\n<li><a class=\"reference internal\" href=\"#utility-functions\">Utility functions</a></li>\n<li><a class=\"reference internal\" href=\"#data-types\">Data types</a></li>\n<li><a class=\"reference internal\" href=\"#ctypes-fundamental-data-types-2\">Fundamental data types</a></li>\n<li><a class=\"reference internal\" href=\"#structured-data-types\">Structured data types</a></li>\n<li><a class=\"reference internal\" href=\"#arrays-and-pointers\">Arrays and pointers</a></li>\n<li><a class=\"reference internal\" href=\"#exceptions\">Exceptions</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n  </div>\n  <div>\n    <h4>Previous topic</h4>\n    <p class=\"topless\"><a href=\"errno.html\"\n                          title=\"previous chapter\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">errno</span></code> — Standard errno system symbols</a></p>\n  </div>\n  <div>\n    <h4>Next topic</h4>\n    <p class=\"topless\"><a href=\"cmdlinelibs.html\"\n                          title=\"next chapter\">Command-line interface libraries</a></p>\n  </div>\n  <div role=\"note\" aria-label=\"source link\">\n    <h3>This page</h3>\n    <ul class=\"this-page-menu\">\n      <li><a href=\"../bugs.html\">Report a bug</a></li>\n      <li>\n        <a href=\"https://github.com/python/cpython/blob/main/Doc/library/ctypes.rst?plain=1\"\n            rel=\"nofollow\">Show source\n        </a>\n      </li>\n    </ul>\n  </div>\n        </div>\n<div id=\"sidebarbutton\" title=\"Collapse sidebar\">\n<span>«</span>\n</div>\n\n      </div>\n      <div class=\"clearer\"></div>\n    </div>  \n    <div class=\"related\" role=\"navigation\" aria-label=\"Related\">\n      <h3>Navigation</h3>\n      <ul>\n        <li class=\"right\" style=\"margin-right: 10px\">\n          <a href=\"../genindex.html\" title=\"General Index\"\n             >index</a></li>\n        <li class=\"right\" >\n          <a href=\"../py-modindex.html\" title=\"Python Module Index\"\n             >modules</a> |</li>\n        <li class=\"right\" >\n          <a href=\"cmdlinelibs.html\" title=\"Command-line interface libraries\"\n             >next</a> |</li>\n        <li class=\"right\" >\n          <a href=\"errno.html\" title=\"errno — Standard errno system symbols\"\n             >previous</a> |</li>\n\n          <li><img src=\"../_static/py.svg\" alt=\"Python logo\" style=\"vertical-align: middle; margin-top: -1px\"></li>\n          <li><a href=\"https://www.python.org/\">Python</a> &#187;</li>\n          <li class=\"switchers\">\n            <div class=\"language_switcher_placeholder\"></div>\n            <div class=\"version_switcher_placeholder\"></div>\n          </li>\n          <li>\n              \n          </li>\n    <li id=\"cpython-language-and-version\">\n      <a href=\"../index.html\">3.14.0 Documentation</a> &#187;\n    </li>\n\n          <li class=\"nav-item nav-item-1\"><a href=\"index.html\" >The Python Standard Library</a> &#187;</li>\n          <li class=\"nav-item nav-item-2\"><a href=\"allos.html\" >Generic Operating System Services</a> &#187;</li>\n        <li class=\"nav-item nav-item-this\"><a href=\"\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">ctypes</span></code> — A foreign function library for Python</a></li>\n                <li class=\"right\">\n                    \n\n    <div class=\"inline-search\" role=\"search\">\n        <form class=\"inline-search\" action=\"../search.html\" method=\"get\">\n          <input placeholder=\"Quick search\" aria-label=\"Quick search\" type=\"search\" name=\"q\" id=\"search-box\">\n          <input type=\"submit\" value=\"Go\">\n        </form>\n    </div>\n                     |\n                </li>\n            <li class=\"right\">\n<label class=\"theme-selector-label\">\n    Theme\n    <select class=\"theme-selector\" oninput=\"activateTheme(this.value)\">\n        <option value=\"auto\" selected>Auto</option>\n        <option value=\"light\">Light</option>\n        <option value=\"dark\">Dark</option>\n    </select>\n</label> |</li>\n            \n      </ul>\n    </div>  \n    <div class=\"footer\">\n    &copy; <a href=\"../copyright.html\">Copyright</a> 2001 Python Software Foundation.\n    <br>\n    This page is licensed under the Python Software Foundation License Version 2.\n    <br>\n    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.\n    <br>\n    \n      See <a href=\"/license.html\">History and License</a> for more information.<br>\n    \n    \n    <br>\n\n    The Python Software Foundation is a non-profit corporation.\n<a href=\"https://www.python.org/psf/donations/\">Please donate.</a>\n<br>\n    <br>\n      Last updated on Nov 25, 2025 (18:01 UTC).\n    \n      <a href=\"/bugs.html\">Found a bug</a>?\n    \n    <br>\n\n    Created using <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> 8.2.3.\n    </div>\n\n    <script type=\"text/javascript\" src=\"../_static/switchers.js\"></script>\n  </body>\n</html>",
  "metadata": {
    "title": "ctypes — A foreign function library for Python — Python 3.14.0 documentation",
    "meta_description": "Source code: Lib/ctypes ctypes is a foreign function library for Python. It provides C compatible data types, and allows calling functions in DLLs or shared libraries. It can be used to wrap these ...",
    "h1": "— A foreign function library for Python"
  },
  "request_headers": {
    "Referer": "https://docs.python.org/3/library/",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
    "Accept-Language": "en",
    "User-Agent": "DumbCrawler/1.0",
    "Accept-Encoding": "gzip, deflate"
  },
  "response_headers": {
    "Content-Length": "47878",
    "Server": "nginx",
    "Content-Type": "text/html",
    "Last-Modified": "Tue, 25 Nov 2025 18:03:26 GMT",
    "Etag": "\"6925ef6e-5a5c3\"",
    "X-Clacks-Overhead": "GNU Terry Pratchett",
    "Strict-Transport-Security": "max-age=315360000; includeSubDomains; preload",
    "Via": "1.1 varnish, 1.1 varnish",
    "Accept-Ranges": "bytes",
    "Age": "4643",
    "Date": "Wed, 26 Nov 2025 05:32:33 GMT",
    "X-Served-By": "cache-lga21957-LGA, cache-yul1970070-YUL",
    "X-Cache": "HIT, HIT",
    "X-Cache-Hits": "205, 0",
    "X-Timer": "S1764135154.835637,VS0,VE1",
    "Vary": "Accept-Encoding"
  },
  "crawled_at": "2025-11-26T05:32:34.392384+00:00",
  "crawler": {
    "name": "DumbCrawler",
    "version": "1.0",
    "mode": "crawl",
    "js_mode": "off",
    "scope": "subfolder"
  }
}